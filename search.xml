<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å¾…åŠäº‹é¡¹</title>
      <link href="//post/todo.html"/>
      <url>//post/todo.html</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-js" data-language="js"><code class="language-js">&#x2F;&#x2F; 1. headless-recorder&#x2F;&#x2F; 2. lightHouse https:&#x2F;&#x2F;blog.csdn.net&#x2F;tangdou369098655&#x2F;article&#x2F;details&#x2F;122531766&#x2F;&#x2F; 3. åšå®¢å°é¢ç”Ÿæˆ&#x2F;&#x2F; 4. è£…é¥°å™¨æ¨¡å¼ https:&#x2F;&#x2F;www.zoo.team&#x2F;article&#x2F;decorator&#x2F;&#x2F; 5. iconfontè‡ªå®šä¹‰å›¾æ ‡ https:&#x2F;&#x2F;www.zoo.team&#x2F;article&#x2F;decorator&#x2F;&#x2F; 6. å‡½æ•°å¼ç¼–ç¨‹ https:&#x2F;&#x2F;www.zoo.team&#x2F;article&#x2F;function-production&#x2F;&#x2F; 7. æ¢è‚¤ https:&#x2F;&#x2F;www.zoo.team&#x2F;article&#x2F;theme-scss&#x2F;&#x2F; 8.[x] vscode setting sync å¦ä¸€å°ç”µè„‘é…ç½®æ— æ³•åŒæ­¥åˆ°æœ¬ç”µè„‘&#x2F;&#x2F; 9.[x]item2æœ¬æœºé‡æ–°é…ç½®&#x2F;&#x2F; 10. è«åå…¶å¦™çš„ï¼Œä»£ç ç‰‡æ®µåœ¨mdä¸Šå¤±æ•ˆäº†</code></pre>]]></content>
      
      
      <categories>
          
          <category> Todo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Todo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†å­¦Vue3-7 æœ€ä½³å®è·µ</title>
      <link href="//post/2022-06-02vue-7.html"/>
      <url>//post/2022-06-02vue-7.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h2><img src="http://t-blog-images.aijs.top/img/20220602201338.webp" style="max-width:240px" /><p><img src="http://t-blog-images.aijs.top/img/20220602200611.webp"></p><h3 id="æ€§èƒ½"><a href="#æ€§èƒ½" class="headerlink" title="æ€§èƒ½"></a>æ€§èƒ½</h3><p><img src="http://t-blog-images.aijs.top/img/20220602200621.webp"></p><h3 id="å®‰å…¨"><a href="#å®‰å…¨" class="headerlink" title="å®‰å…¨"></a>å®‰å…¨</h3><p><img src="http://t-blog-images.aijs.top/img/20220602200638.webp"></p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†å­¦Vue3-8 typescript</title>
      <link href="//post/2022-06-02vue-8.html"/>
      <url>//post/2022-06-02vue-8.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h2><img src="http://t-blog-images.aijs.top/img/20220602201338.webp" style="max-width:240px" /><p><img src="http://t-blog-images.aijs.top/img/20220602201222.webp"></p><h3 id="ç»„åˆå¼"><a href="#ç»„åˆå¼" class="headerlink" title="ç»„åˆå¼"></a>ç»„åˆå¼</h3><p><img src="http://t-blog-images.aijs.top/img/20220602201022.webp"></p><h3 id="é€‰é¡¹å¼"><a href="#é€‰é¡¹å¼" class="headerlink" title="é€‰é¡¹å¼"></a>é€‰é¡¹å¼</h3><p><img src="http://t-blog-images.aijs.top/img/20220602201032.webp"></p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†å­¦Vue3-6 å‡çº§è§„æ¨¡</title>
      <link href="//post/2022-06-02vue-6.html"/>
      <url>//post/2022-06-02vue-6.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h2><img src="http://t-blog-images.aijs.top/img/20220602201338.webp" style="max-width:240px" /><p><img src="http://t-blog-images.aijs.top/img/20220602200123.webp"></p><h3 id="çŠ¶æ€ç®¡ç†"><a href="#çŠ¶æ€ç®¡ç†" class="headerlink" title="çŠ¶æ€ç®¡ç†"></a>çŠ¶æ€ç®¡ç†</h3><p><img src="http://t-blog-images.aijs.top/img/20220602200102.webp"></p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†å­¦Vue3-5 å†…ç½®ç»„ä»¶</title>
      <link href="//post/2022-06-02vue-5.html"/>
      <url>//post/2022-06-02vue-5.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h2><img src="http://t-blog-images.aijs.top/img/20220602201338.webp" style="max-width:240px" /><p><img src="http://t-blog-images.aijs.top/img/20220602195846.webp"></p><h2 id="KeepAlive"><a href="#KeepAlive" class="headerlink" title="KeepAlive"></a>KeepAlive</h2><p><img src="http://t-blog-images.aijs.top/img/20220602195059.webp"></p><h3 id="teleportÂ·ä¼ é€é—¨"><a href="#teleportÂ·ä¼ é€é—¨" class="headerlink" title="teleportÂ·ä¼ é€é—¨"></a>teleportÂ·ä¼ é€é—¨</h3><p><img src="http://t-blog-images.aijs.top/img/20220602195124.webp"></p><h3 id="Suspense"><a href="#Suspense" class="headerlink" title="Suspense"></a>Suspense</h3><p><img src="http://t-blog-images.aijs.top/img/20220602195153.webp"></p><h3 id="è¿‡æ¸¡"><a href="#è¿‡æ¸¡" class="headerlink" title="è¿‡æ¸¡"></a>è¿‡æ¸¡</h3><p> <img src="http://t-blog-images.aijs.top/img/20220602195252.webp"></p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†å­¦Vue3-4 å¯é‡ç”¨æ€§</title>
      <link href="//post/2022-06-02vue-4.html"/>
      <url>//post/2022-06-02vue-4.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h2><img src="http://t-blog-images.aijs.top/img/20220602201338.webp" style="max-width:240px" /><p><img src="http://t-blog-images.aijs.top/img/20220602185624.webp"></p><h2 id="å¯é‡ç”¨æ€§"><a href="#å¯é‡ç”¨æ€§" class="headerlink" title="å¯é‡ç”¨æ€§"></a>å¯é‡ç”¨æ€§</h2><p><img src="http://t-blog-images.aijs.top/img/20220602193659.webp"></p><h3 id="ç»„åˆå‡½æ•°"><a href="#ç»„åˆå‡½æ•°" class="headerlink" title="ç»„åˆå‡½æ•°"></a>ç»„åˆå‡½æ•°</h3><p><img src="http://t-blog-images.aijs.top/img/20220602193738.webp"></p><h3 id="è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="è‡ªå®šä¹‰æŒ‡ä»¤"></a>è‡ªå®šä¹‰æŒ‡ä»¤</h3><p><img src="http://t-blog-images.aijs.top/img/20220602193751.webp"></p><h3 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h3>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†å­¦Vue3-3 æ·±å…¥ç»„ä»¶</title>
      <link href="//post/2022-06-02vue-3.html"/>
      <url>//post/2022-06-02vue-3.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h2><img src="http://t-blog-images.aijs.top/img/20220602201338.webp" style="max-width:240px" /><p><img src="http://t-blog-images.aijs.top/img/20220602185624.webp"></p><h2 id="æ·±å…¥ç»„ä»¶"><a href="#æ·±å…¥ç»„ä»¶" class="headerlink" title="æ·±å…¥ç»„ä»¶"></a>æ·±å…¥ç»„ä»¶</h2><p><img src="http://t-blog-images.aijs.top/img/20220602193405.webp"></p><h3 id="æ³¨å†Œ"><a href="#æ³¨å†Œ" class="headerlink" title="æ³¨å†Œ"></a>æ³¨å†Œ</h3><h3 id="prop"><a href="#prop" class="headerlink" title="prop"></a>prop</h3><p><img src="http://t-blog-images.aijs.top/img/20220602193158.webp"></p><h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><p><img src="http://t-blog-images.aijs.top/img/20220602193205.webp"></p><h3 id="é€ä¼ -Attribute"><a href="#é€ä¼ -Attribute" class="headerlink" title="é€ä¼  Attribute"></a>é€ä¼  Attribute</h3><p><img src="http://t-blog-images.aijs.top/img/20220602193213.webp"></p><h3 id="æ’æ§½"><a href="#æ’æ§½" class="headerlink" title="æ’æ§½"></a>æ’æ§½</h3><p><img src="http://t-blog-images.aijs.top/img/20220602193228.webp"></p><h3 id="ä¾èµ–æ³¨å…¥"><a href="#ä¾èµ–æ³¨å…¥" class="headerlink" title="ä¾èµ–æ³¨å…¥"></a>ä¾èµ–æ³¨å…¥</h3><p><img src="http://t-blog-images.aijs.top/img/20220602193235.webp"></p><h3 id="å¼‚æ­¥ç»„ä»¶"><a href="#å¼‚æ­¥ç»„ä»¶" class="headerlink" title="å¼‚æ­¥ç»„ä»¶"></a>å¼‚æ­¥ç»„ä»¶</h3><p><img src="http://t-blog-images.aijs.top/img/20220602193244.webp"></p><h2 id="å¯é‡ç”¨æ€§"><a href="#å¯é‡ç”¨æ€§" class="headerlink" title="å¯é‡ç”¨æ€§"></a>å¯é‡ç”¨æ€§</h2><p><img src="http://t-blog-images.aijs.top/img/20220602193659.webp"></p><h3 id="ç»„åˆå‡½æ•°"><a href="#ç»„åˆå‡½æ•°" class="headerlink" title="ç»„åˆå‡½æ•°"></a>ç»„åˆå‡½æ•°</h3><p><img src="http://t-blog-images.aijs.top/img/20220602193738.webp"></p><h3 id="è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="è‡ªå®šä¹‰æŒ‡ä»¤"></a>è‡ªå®šä¹‰æŒ‡ä»¤</h3><p><img src="http://t-blog-images.aijs.top/img/20220602193751.webp"></p><h3 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h3>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†å­¦Vue3-2 v3</title>
      <link href="//post/2022-06-02vue-2.html"/>
      <url>//post/2022-06-02vue-2.html</url>
      
        <content type="html"><![CDATA[<h2 id="v3"><a href="#v3" class="headerlink" title="v3"></a>v3</h2><img src="http://t-blog-images.aijs.top/img/20220602201338.webp" style="max-width:240px" /><p><img src="http://t-blog-images.aijs.top/img/20220602191916.webp"></p><h3 id="å“åº”å¼åŸºç¡€"><a href="#å“åº”å¼åŸºç¡€" class="headerlink" title="å“åº”å¼åŸºç¡€"></a>å“åº”å¼åŸºç¡€</h3><p><img src="http://t-blog-images.aijs.top/img/20220602192006.webp"></p><h3 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h3><p><img src="http://t-blog-images.aijs.top/img/20220602192306.webp"></p><h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h3><p><img src="http://t-blog-images.aijs.top/img/20220602192315.webp"></p><h3 id="ä¾¦å¬å™¨"><a href="#ä¾¦å¬å™¨" class="headerlink" title="ä¾¦å¬å™¨"></a>ä¾¦å¬å™¨</h3><p><img src="http://t-blog-images.aijs.top/img/20220602192323.webp"></p><h3 id="æ¨¡ç‰ˆ-ref"><a href="#æ¨¡ç‰ˆ-ref" class="headerlink" title="æ¨¡ç‰ˆ ref"></a>æ¨¡ç‰ˆ ref</h3><p><img src="http://t-blog-images.aijs.top/img/20220602192333.webp"></p><h3 id="ç»„ä»¶åŸºç¡€"><a href="#ç»„ä»¶åŸºç¡€" class="headerlink" title="ç»„ä»¶åŸºç¡€"></a>ç»„ä»¶åŸºç¡€</h3><p><img src="http://t-blog-images.aijs.top/img/20220602192342.webp"></p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†å­¦Vue3-1 åŸºç¡€</title>
      <link href="//post/2022-06-02vue-1.html"/>
      <url>//post/2022-06-02vue-1.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h2><img src="http://t-blog-images.aijs.top/img/20220602201338.webp" style="max-width:240px" /><h2 id="v2"><a href="#v2" class="headerlink" title="v2"></a>v2</h2><p><img src="http://t-blog-images.aijs.top/img/20220602190150.webp"></p><h3 id="æ¨¡ç‰ˆè¯­æ³•"><a href="#æ¨¡ç‰ˆè¯­æ³•" class="headerlink" title="æ¨¡ç‰ˆè¯­æ³•"></a>æ¨¡ç‰ˆè¯­æ³•</h3><!-- ![](http://t-blog-images.aijs.top/img/20220602190219.webp) --><p><img src="http://t-blog-images.aijs.top/img/20220602191619.webp"></p><h3 id="æ•°æ®ç»‘å®š"><a href="#æ•°æ®ç»‘å®š" class="headerlink" title="æ•°æ®ç»‘å®š"></a>æ•°æ®ç»‘å®š</h3><!-- ![](http://t-blog-images.aijs.top/img/20220602190321.webp) --><p><img src="http://t-blog-images.aijs.top/img/20220602191251.webp"></p><h3 id="äº‹ä»¶ç»‘å®š"><a href="#äº‹ä»¶ç»‘å®š" class="headerlink" title="äº‹ä»¶ç»‘å®š"></a>äº‹ä»¶ç»‘å®š</h3><p><img src="http://t-blog-images.aijs.top/img/20220602190525.webp"></p><h3 id="è¡¨å•è¾“å…¥ç»‘å®š"><a href="#è¡¨å•è¾“å…¥ç»‘å®š" class="headerlink" title="è¡¨å•è¾“å…¥ç»‘å®š"></a>è¡¨å•è¾“å…¥ç»‘å®š</h3><p><img src="http://t-blog-images.aijs.top/img/20220602190828.webp"></p><h3 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h3><p><img src="http://t-blog-images.aijs.top/img/20220602191049.webp"></p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†å­¦Vue3-0 æ¦‚è§ˆ</title>
      <link href="//post/2022-06-02vue-0.html"/>
      <url>//post/2022-06-02vue-0.html</url>
      
        <content type="html"><![CDATA[<h2 id="vue3"><a href="#vue3" class="headerlink" title="vue3"></a>vue3</h2><ul><li>ä½¿ç”¨ proxy é‡å†™äº† vue2ï¼Œå¹¶å¢åŠ äº†ç»„åˆå¼ api</li><li>ä»¥ä¸‹æ€ç»´å¯¼å›¾ä»¥<a href="https://staging-cn.vuejs.org/">vue3 æ–‡æ¡£</a>å†…å®¹ä¸ºä¾æ®ï¼Œåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ç»˜åˆ¶</li><li>å­¦ä¹ è¿‡ç¨‹ä¸­å¯¹æ¯”äº† vue3 å’Œ react</li><li>å¾ˆé•¿ä¸€æ®µæ—¶é—´æ²¡çœ‹vueäº†ï¼Œvue3ä¸€ç›´æ²¡æ¥è§¦ï¼Œåª³å¦‡ä¸å­¦ã€‚ä¸‡ä¸€å“ªå¤©åª³å¦‡éœ€è¦ç”¨vue3äº†ï¼Œæ²¡äººå¸¦å²‚ä¸æ˜¯è¦å¤±ä¸šï¼Œèµ¶ç´§å­¦èµ·æ¥ï½<h2 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h2></li></ul><!-- ![](http://t-blog-images.aijs.top/img/20220602185624.webp) --><!-- ![](http://t-blog-images.aijs.top/img/20220602201338.webp) --><img src="http://t-blog-images.aijs.top/img/20220602201338.webp" style="max-width:240px" /><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ul><li>å¿µå¨ç€ <code>æ¸è¿›å¼</code> <code>ä¾èµ–æ”¶é›†</code> å»å­¦ä¹ <a href="https://staging-cn.vuejs.org/guide/introduction.html">vueæŒ‡å—</a></li></ul><p><img src="http://t-blog-images.aijs.top/img/20220602201731.webp"></p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react useState é”™è¯¯ä½¿ç”¨</title>
      <link href="//post/2022-05-31bug.html"/>
      <url>//post/2022-05-31bug.html</url>
      
        <content type="html"><![CDATA[<h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">const Share: FC&lt;ShareProps&gt; &#x3D; (props) &#x3D;&gt; &#123;  const &#123; entityType, entityCode &#125; &#x3D; props  const [state, setState] &#x3D; useState&lt;StateProps&gt;(&#123;    value: props.value,    title: props.title,    shareId: props.shareId,    mappingPassword: props.mappingPassword,    passwordEnable: props.passwordEnable,    mappingState: props.mappingState,    expireTime: props.expireTime,    shortCode: props.shortCode,  &#125;)  const &#123; value &#125; &#x3D; state  ...  return (    &lt;div&gt;      &#123;renderBtn&#125;      &lt;ShareModal        entityType&#x3D;&#123;entityType&#125;        entityCode&#x3D;&#123;entityCode&#125;        &#123;...modalProps&#125;        state&#x3D;&#123;state&#125;        setState&#x3D;&#123;setState&#125;      &#x2F;&gt;    &lt;&#x2F;div&gt;  )&#125;export default Share</code></pre><h2 id="ShareModal"><a href="#ShareModal" class="headerlink" title="ShareModal"></a>ShareModal</h2><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">interface ShareModalProps extends ModalFuncProps &#123;  entityType: EntityType  entityCode: string  className?: string  state: StateProps  setState: (state: StateProps) &#x3D;&gt; void&#125;const Copy &#x3D; (&#123; text, children &#125;: &#123; text: string; children: string &#125;) &#x3D;&gt; &#123;  return (    &lt;CopyToClipboard      text&#x3D;&#123;text&#125;      onCopy&#x3D;&#123;() &#x3D;&gt; &#123;        message.success(&#39;é“¾æ¥å·²å¤åˆ¶&#39;)      &#125;&#125;    &gt;      &lt;span&gt;&#123;children&#125;&lt;&#x2F;span&gt;    &lt;&#x2F;CopyToClipboard&gt;  )&#125;const ShareModal: FC&lt;ShareModalProps&gt; &#x3D; (props) &#x3D;&gt; &#123;  const [form] &#x3D; HookForm.useForm()  const &#123; state, setState, entityType, entityCode, ...restProps &#125; &#x3D; props  const &#123; value, title, mappingPassword, shortCode, expireTime &#125; &#x3D; state  const &#123;    onChange: toggle,    resetPassword: reset,    update,  &#125; &#x3D; useShare(&#123;    entityCode,    entityType,    state,    setState,  &#125;)  ....  return (    &lt;Modal      &#123;...restProps&#125;      className&#x3D;&#123;styles[&#39;share-modal-wrap&#39;]&#125;      title&#x3D;&quot;é“¾æ¥åˆ†äº«&quot;      destroyOnClose      width&#x3D;&#123;420&#125;      footer&#x3D;&#123;null&#125;    &gt;      &lt;ConditionComponent isShow&#x3D;&#123;value&#125;&gt;        ....        &lt;HookForm form&#x3D;&#123;form&#125; style&#x3D;&#123;&#123; marginBottom: 10, width: &#39;100%&#39; &#125;&#125; layout&#x3D;&quot;vertical&quot;&gt;          &lt;HookForm.Item noStyle shouldUpdate&gt;            &#123;() &#x3D;&gt; &#123;              const &#123; url, mappingPassword, expireTime &#125; &#x3D; form.getFieldsValue()              const text &#x3D; &#96;$&#123;url&#125;ï¼ˆå¯†ç ï¼š$&#123;mappingPassword&#125;ï¼‰ã€Š$&#123;title&#125;ã€‹$&#123;moment(                expireTime,              ).format(&#39;YYYY-MM-DD HH:mm:ss&#39;)&#125;è¿‡æœŸ&#96;              return (                &lt;HookForm.Item name&#x3D;&quot;url&quot; label&#x3D;&quot;&quot;&gt;                  &lt;Input                    className&#x3D;&#123;styles[&#39;share-copy&#39;]&#125;                    addonAfter&#x3D;&#123;&lt;Copy text&#x3D;&#123;text&#125;&gt;å¤åˆ¶é“¾æ¥å’Œå¯†ç &lt;&#x2F;Copy&gt;&#125;                    disabled                  &#x2F;&gt;                &lt;&#x2F;HookForm.Item&gt;              )            &#125;&#125;          &lt;&#x2F;HookForm.Item&gt;        &lt;&#x2F;HookForm&gt;      &lt;&#x2F;ConditionComponent&gt;    &lt;&#x2F;Modal&gt;  )&#125;export default ShareModal</code></pre><h2 id="ç”¨æˆ·åé¦ˆ"><a href="#ç”¨æˆ·åé¦ˆ" class="headerlink" title="ç”¨æˆ·åé¦ˆ"></a>ç”¨æˆ·åé¦ˆ</h2><p>ä¸ºä»€ä¹ˆåˆ†äº«çš„é“¾æ¥ä¸è¦åˆ†äº«çš„é“¾æ¥å¯¹ä¸ä¸Šï¼Ÿ</p><h2 id="useCallback"><a href="#useCallback" class="headerlink" title="useCallback"></a>useCallback</h2><p>useCallbackå—ä¾èµ–é¡¹çš„å½±å“ï¼Œä¸æ›´æ–°ï¼Œä¹‹å‰æ”¹è¿‡åŒäº‹çš„ä»£ç ï¼Œè¿™æ¬¡æ‰«äº†ä¸€æ ·ï¼Œæ²¡æœ‰callbackï¼Œå°±è¿™é—®é¢˜ä¿®æ”¹å‡ ä¸ªäº†</p><h2 id="useState"><a href="#useState" class="headerlink" title="useState"></a>useState</h2><ul><li>æ‰¾äº†ä¸‹æ•°æ®<code>ShareModal</code>ç»„ä»¶,çœ‹åˆ°ä¸¤ä¸ªå…¥å‚<code>state, setState</code> ï¼Œæˆ‘è‰¹</li><li>ç»§ç»­å¾€ä¸Šå±‚æ‰¾<pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">&lt;ShareModal  entityType&#x3D;&#123;entityType&#125;  entityCode&#x3D;&#123;entityCode&#125;  &#123;...modalProps&#125;  state&#x3D;&#123;state&#125; &#x2F;&#x2F; ğŸ˜“  setState&#x3D;&#123;setState&#125; &#x2F;&#x2F;ğŸ˜“ &#x2F;&gt;</code></pre></li><li>å†å¾€ä¸Šæ‰¾ï¼ŒuseState å†…éƒ¨åªæ‰§è¡Œä¸€æ¬¡ï¼Œæ•°æ®åˆå§‹åŒ–å®Œæˆä¸å†æ”¹å˜</li></ul><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">const [state, setState] &#x3D; useState&lt;StateProps&gt;(&#123;  value: props.value,  title: props.title,  shareId: props.shareId,  mappingPassword: props.mappingPassword,  passwordEnable: props.passwordEnable,  mappingState: props.mappingState,  expireTime: props.expireTime,  shortCode: props.shortCode,&#125;)const &#123; value &#125; &#x3D; state</code></pre><ul><li>è¿™é‡Œä»£ç è¿™ä¹ˆå†™ï¼Œå…¶ä»–åœ°æ–¹è‚¯å®šä¹Ÿæœ‰è¿™æ ·çš„å†™æ³•ï¼ŒğŸ˜“</li></ul><h2 id="æ”¹ä¸€ä¸‹"><a href="#æ”¹ä¸€ä¸‹" class="headerlink" title="æ”¹ä¸€ä¸‹"></a>æ”¹ä¸€ä¸‹</h2><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">const [state, setState] &#x3D; useState&lt;StateProps&gt;(&#123;&#125;)useEffect(() &#x3D;&gt; &#123;  setState(&#123; ...props &#125;)&#125;, [props.shareId])</code></pre>]]></content>
      
      
      <categories>
          
          <category> bug </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wiki Laser Pen</title>
      <link href="//post/2022-05-27wiki-laserPen.html"/>
      <url>//post/2022-05-27wiki-laserPen.html</url>
      
        <content type="html"><![CDATA[<h2 id="Laser-Pen"><a href="#Laser-Pen" class="headerlink" title="Laser Pen"></a>Laser Pen</h2><p><code>Laser Pen </code>æ˜¯ä¸€å¥—ç”¨æ¥åœ¨ web canvas ä¸Šç»˜åˆ¶é¼ æ ‡è½¨è¿¹çš„å·¥å…·é›†ã€‚</p><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><p><code>wiki</code>å…¨å±æ¼”ç¤ºæ—¶å€™ï¼Œä¸ºäº†ä¾¿äºå¬ä¼—è·Ÿéšæ¼”è®²è€…è¿›åº¦ï¼Œç»™é¼ æ ‡è½¨è¿¹åŠ ä¸Šæ ‡è®°ã€‚</p><p><img src="http://t-blog-images.aijs.top/img/demo.gif"></p><p>æ³¨ï¼šå…¬å¸é¡¹ç›®ç”±äºç‰ˆæƒé—®é¢˜ï¼Œä¸ä¾¿æ¼”ç¤º</p><h2 id="åˆæ­¥ä¸Šæ‰‹"><a href="#åˆæ­¥ä¸Šæ‰‹" class="headerlink" title="åˆæ­¥ä¸Šæ‰‹"></a>åˆæ­¥ä¸Šæ‰‹</h2><p>é¦–å…ˆåœ¨ä½ çš„é¡¹ç›®ä¸­æ·»åŠ å¯¹ Laser Pen çš„ä¾èµ–ï¼š</p><pre class="line-numbers language-none"><code class="language-none">yarn add laser-pen</code></pre><p>æˆ–è€…</p><pre class="line-numbers language-none"><code class="language-none">npm i laser-pen</code></pre><p>ç„¶åç›‘å¬é¼ æ ‡çš„ move äº‹ä»¶ï¼Œè·å–é¼ æ ‡ç§»åŠ¨è½¨è¿¹çš„åæ ‡ï¼Œå¹¶åŒæ—¶è®°å½• move äº‹ä»¶è§¦å‘æ—¶çš„æ—¶é—´æˆ³ã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">&#x2F;&#x2F; è·å– canvas å…ƒç´ çš„åæ ‡const canvasDom &#x3D; document.querySelector(&#39;canvas&#39;)const canvasPos &#x3D; canvasDom.getBoundingClientRect()const ctx &#x3D; canvas.getContext(&#39;2d&#39;)&#x2F;&#x2F; ç”¨æ¥å­˜å‚¨æ‰€æœ‰é¼ æ ‡è½¨è¿¹æ•°æ®let mouseTrack &#x3D; []&#x2F;&#x2F; ç›‘å¬é¼ æ ‡äº‹ä»¶document.addEventListener(&#39;mousemove&#39;, (event) &#x3D;&gt; &#123;  mouseTrack.push(&#123;    x: event.clientX - canvasPos.x,    y: event.clientY - canvasPos.y,    time: Date.now(),  &#125;)&#125;)</code></pre><p>æœ€ååœ¨è°ƒç”¨ drawLaserPen æ–¹æ³•ç»˜åˆ¶é¼ æ ‡è½¨è¿¹</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">import &#123; drainPoints, drawLaserPen &#125; from &#39;laser-pen&#39;function draw() &#123;  &#x2F;&#x2F; è¿‡æ»¤æ‰ä¸€äº›å¤±æ•ˆçš„è½¨è¿¹åæ ‡  mouseTrack &#x3D; drainPoints(mouseTrack)  if (mouseTrack.length &gt;&#x3D; 3) &#123;    &#x2F;&#x2F; ç»˜åˆ¶é¼ æ ‡è½¨è¿¹    drawLaserPen(ctx, mouseTrack)  &#125;  requestAnimation(draw)&#125;</code></pre><p>åˆ°è¿™é‡Œï¼Œä½ åº”è¯¥å·²ç»å¯ä»¥åœ¨ canvas ä¸Šå®ç°é¼ æ ‡è½¨è¿¹çš„ç»˜åˆ¶äº†ã€‚</p><h2 id="å‚æ•°é…ç½®"><a href="#å‚æ•°é…ç½®" class="headerlink" title="å‚æ•°é…ç½®"></a>å‚æ•°é…ç½®</h2><p>å¦‚æœé»˜è®¤çš„è½¨è¿¹æ•ˆæœä¸èƒ½æ»¡è¶³ä½ çš„è¦æ±‚ï¼ŒLaser Pen è¿˜æä¾›äº†ä¸€äº›æ¥å£è®©ä½ å¯ä»¥æ–¹ä¾¿çš„ä¿®æ”¹é¼ æ ‡è½¨è¿¹çš„æ ·å¼ã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">&#x2F;&#x2F; è®¾ç½®å»¶è¿Ÿæ—¶é—´ï¼Œmousemove äº‹ä»¶äº§ç”Ÿçš„åæ ‡ç‚¹åœ¨è¶…è¿‡å»¶è¿Ÿæ—¶é—´åå°±ä¸ä¼šè¢«ç»˜åˆ¶ï¼Œä¼šç›´æ¥å½±å“è½¨è¿¹çš„é•¿åº¦setDelay: (millisecond: number) &#x3D;&gt; void;&#x2F;&#x2F; è®¾ç½®è½¨è¿¹çš„æœ€å¤§å®½åº¦ï¼Œè½¨è¿¹æ˜¯ä¸€æ¡ç”±ç²—å˜ç»†çš„æ›²çº¿ï¼ŒmaxWidth è¡¨ç¤ºç²—çš„é‚£ä¸€å¤´çš„çº¿å®½setMaxWidth: (width: number) &#x3D;&gt; void;&#x2F;&#x2F; è®¾ç½®è½¨è¿¹çš„æœ€å°å®½åº¦ï¼Œè½¨è¿¹æ˜¯ä¸€æ¡ç”±ç²—å˜ç»†çš„æ›²çº¿ï¼ŒminWidth è¡¨ç¤ºç»†çš„é‚£ä¸€å¤´çš„çº¿å®½setMinWidth: (width: number) &#x3D;&gt; void;&#x2F;&#x2F; è®¾ç½®æ›²çº¿å¼ åŠ›å¤§å°ï¼Œå¼ åŠ›è¶Šå¤§æ‹ç‚¹å¤„è¶Šå¹³æ»‘ï¼Œåä¹‹è¶Šå°–é”setTension: (t: number) &#x3D;&gt; void;&#x2F;&#x2F; è®¾ç½®è½¨è¿¹çš„æœ€å°é€æ˜åº¦ï¼Œè½¨è¿¹æ˜¯ä¸€æ¡ç”±ä¸é€æ˜å˜é€æ˜çš„æ›²çº¿ï¼Œopacity è¡¨ç¤ºè½¨è¿¹æœ«å°¾çš„ä¸é€æ˜åº¦setOpacity: (o: number) &#x3D;&gt; void;&#x2F;&#x2F; è®¾ç½®è½¨è¿¹çš„é¢œè‰²setColor: (r: number, g: number, b: number) &#x3D;&gt; void;&#x2F;&#x2F; è®¾ç½®è½¨è¿¹å¤´éƒ¨æ˜¯å¦æ˜¯åœ†å½¢setRoundCap: (b: boolean) &#x3D;&gt; void;</code></pre><p>åœ¨ä»»ä½•æ—¶å€™è°ƒç”¨ä¸Šè¿°æ¥å£ä¿®æ”¹é¼ æ ‡è½¨è¿¹çš„æ ·å¼ï¼Œéƒ½ä¼šåœ¨ç´§æ¥ç€çš„ä¸‹ä¸€æ¬¡ç»˜åˆ¶ä¸­ç”Ÿæ•ˆã€‚æ‰€ä»¥å¦‚æœä½ æƒ³å®ç°ä¸€ä¸ªç±»ä¼¼ RGB è·‘é©¬ç¯çš„é¼ æ ‡è½¨è¿¹ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><h2 id="å®šåˆ¶åŒ–å¼€å‘"><a href="#å®šåˆ¶åŒ–å¼€å‘" class="headerlink" title="å®šåˆ¶åŒ–å¼€å‘"></a>å®šåˆ¶åŒ–å¼€å‘</h2><p>å¦‚æœä¸Šé¢çš„æ¥å£éƒ½ä¸èƒ½æ»¡è¶³ä½ çš„è¦æ±‚ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦åšä¸€äº›å®šåˆ¶åŒ–çš„å¼€å‘äº†ã€‚</p><p>ç»˜åˆ¶é¼ æ ‡è½¨è¿¹çš„è¿‡ç¨‹å¤§æ¦‚åˆ†ä¸º 5 ä¸ªæ­¥éª¤ï¼š</p><p>æ¸…æ´—è½¨è¿¹åæ ‡æ•°æ®<br>æ ¹æ®è½¨è¿¹åæ ‡è®¡ç®—æ¯ä¸ªåæ ‡çš„æ§åˆ¶ç‚¹<br>é€šè¿‡åæ ‡ç‚¹å’Œæ§åˆ¶ç‚¹æ•°æ®ç”Ÿæˆ Bezier æ›²çº¿<br>å°†ä¸Šä¸€æ­¥ç”Ÿæˆçš„æ›²çº¿åˆ†å‰²ä¸ºæ›´çŸ­çš„ Bezier æ›²çº¿ï¼Œå¹¶è®¡ç®—æ¯æ¡æ›²çº¿çš„ç»˜åˆ¶æ ·å¼<br>ä¾æ¬¡ç»˜åˆ¶æ¯æ¡ Bezier æ›²çº¿<br>è¿™ 5 ä¸ªæ­¥éª¤å¯¹åº”ä¸‹é¢çš„ç¬¬ 1 åˆ°ç¬¬ 5 ä¸ªæ¥å£ï¼Œæœ€åçš„ drawLaserPen æ¥å£æ˜¯å¯¹å‰é¢ 5 ä¸ªæ¥å£çš„ç»„åˆã€‚ å¦‚æœç›´æ¥è°ƒç”¨ drawLaserPen ä¸èƒ½æ»¡è¶³ä½ çš„è¦æ±‚ï¼Œä½ å¯ä»¥åœ¨å‰ 5 ä¸ªæ¥å£çš„åŸºç¡€ä¸Šè‡ªè¡Œç»„åˆï¼Œå®ç°ä½ æƒ³è¦çš„æ•ˆæœã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">&#x2F;&#x2F; å»æ‰åŸå§‹é¼ æ ‡åæ ‡æ•°æ®ä¸­ä¸åˆç†çš„æ•°æ®ï¼ŒåŒ…æ‹¬è¶…è¿‡å»¶è¿Ÿæ—¶é—´çš„åæ ‡ï¼Œå’Œä¸€äº›æ’åˆ—ä¸åˆæ³•çš„åæ ‡drainPoints: (originalPoints: IOriginalPointData[]) &#x3D;&gt; IOriginalPointData[];&#x2F;&#x2F; æ ¹æ®é¼ æ ‡åæ ‡æ•°æ®è®¡ç®—æ¯ä¸ªåæ ‡ç‚¹çš„å‰åæ§åˆ¶ç‚¹calControlPoints: (points: IPoint[]) &#x3D;&gt; IControlPoint[];&#x2F;&#x2F; å°†é¼ æ ‡åæ ‡æ•°æ®å’Œæ§åˆ¶ç‚¹æ•°æ®ç»„åˆä¸ºè´å¡å°”æ›²çº¿transformPointToBezier: (  points: IPoint[],  controlPoints: IControlPoint[]) &#x3D;&gt; Bezier[];&#x2F;&#x2F; æ ¹æ®åŸå§‹çš„è´å¡å°”æ›²çº¿æ•°æ®ï¼Œè®¡ç®—å‡ºç”¨äºç»˜åˆ¶çš„æ•°æ®ç»“æ„calDrawingData: (  bzArray: Bezier[],  totalLength: number) &#x3D;&gt; IDrawingBezierData[];&#x2F;&#x2F; æ ¹æ®è®¡ç®—å‡ºçš„ç»˜åˆ¶æ•°æ®ï¼Œå°†æ›²çº¿ç»˜åˆ¶åˆ°ç”»å¸ƒä¸ŠdrawDrawingBezierData: (  ctx: CanvasRenderingContext2D,  data: IDrawingBezierData[]) &#x3D;&gt; void;&#x2F;&#x2F; ä¸€ä¸ªæ–¹ä¾¿ç®€å•ä½¿ç”¨çš„å…¥å£æ–¹æ³•ï¼Œç›´æ¥é€šè¿‡å¤„ç†å¥½çš„é¼ æ ‡åæ ‡æ•°æ®ï¼Œç»˜åˆ¶é¼ æ ‡è½¨è¿¹drawLaserPen: (ctx: CanvasRenderingContext2D, points: IPoint[]) &#x3D;&gt; void;</code></pre><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><ul><li><a href="https://github.com/SilentTiger/laser-pen">laser-pen</a></li><li>çªç„¶æœ‰ä¸ªæƒ³æ³•ï¼šç‹è€…è£è€€çš„æ‹–å°¾æ•ˆæœå®ç°åŸç†ï¼Œæ˜¯ä¸æ˜¯å’Œè¿™ä¸ªç±»ä¼¼ï¼Ÿ</li></ul>]]></content>
      
      
      <categories>
          
          <category> wiki </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wiki </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redux-loggeræºç </title>
      <link href="//post/2022-05-27redux-logger.html"/>
      <url>//post/2022-05-27redux-logger.html</url>
      
        <content type="html"><![CDATA[<h2 id="redux-æ—¥å¿—ä¸­é—´ä»¶"><a href="#redux-æ—¥å¿—ä¸­é—´ä»¶" class="headerlink" title="redux æ—¥å¿—ä¸­é—´ä»¶"></a>redux æ—¥å¿—ä¸­é—´ä»¶</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js">.â”œâ”€â”€ core.jsâ”œâ”€â”€ defaults.jsâ”œâ”€â”€ diff.jsâ”œâ”€â”€ helpers.js &#x2F;&#x2F; ä¸€äº›å¸®åŠ©å‡½æ•°â””â”€â”€ index.js0 directories, 5 files</code></pre><h2 id="defaultLogger"><a href="#defaultLogger" class="headerlink" title="defaultLogger"></a>defaultLogger</h2><p><strong>v3 ç‰ˆæœ¬ï¼Œç ´åæ€§å˜æ›´</strong></p><p>ä¹‹å‰</p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">import createLogger from &quot;redux-logger&quot;;</code></pre><p>ä¹‹å</p><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">import &#123; createLogger &#125; from &quot;redux-logger&quot;;</code></pre><p><strong>æºç </strong></p><pre class="line-numbers language-js" data-language="js"><code class="language-js">&#x2F;&#x2F; src&#x2F;index.jsconst defaultLogger &#x3D; (&#123; dispatch, getState &#125; &#x3D; &#123;&#125;) &#x3D;&gt; &#123;  if (typeof dispatch &#x3D;&#x3D;&#x3D; &quot;function&quot; || typeof getState &#x3D;&#x3D;&#x3D; &quot;function&quot;) &#123;    &#x2F;&#x2F; createLoggerï¼ŒæŸ¯é‡ŒåŒ– å·¥å‚æ¨¡å¼    return createLogger()(&#123; dispatch, getState &#125;);  &#125;  &#x2F;&#x2F; å¦‚æœæ²¡æœ‰ä¼ é€’dispatchå’ŒgetStateï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯  &#x2F;&#x2F; v3ç‰ˆæœ¬ï¼Œç ´åæ€§å˜æ›´, æ ¹æ®ã€Šè¯­ä¹‰åŒ–ç‰ˆæœ¬ã€‹ä¸çœ‹å†…å®¹ä¹ŸçŸ¥é“æœ‰ç ´åæ€§å˜æ›´  &#x2F;&#x2F; Since 3.0.0 redux-logger exports by default logger with default settings  &#x2F;&#x2F; import createLogger from &#39;redux-logger&#39; &#x3D;&gt; import &#123; createLogger &#125; from &#39;redux-logger&#39;  console.error(&#96;[redux-logger v3] BREAKING CHANGE[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.[redux-logger v3] Change[redux-logger v3] import createLogger from &#39;redux-logger&#39;[redux-logger v3] to[redux-logger v3] import &#123; createLogger &#125; from &#39;redux-logger&#39;&#96;);&#125;;export &#123; defaults, createLogger, defaultLogger as logger &#125;;export default defaultLogger;</code></pre><h2 id="createLogger"><a href="#createLogger" class="headerlink" title="createLogger"></a>createLogger</h2><ul><li>ä½¿ç”¨ä¼ å…¥çš„ optionsï¼Œ åˆ›å»ºæ—¥å¿—è®°å½•å™¨</li></ul><pre class="line-numbers language-js" data-language="js"><code class="language-js">&#x2F;** * Creates logger with following options * åˆ›å»ºæ—¥å¿—è®°å½•å™¨ï¼Œé…ç½®å¦‚ä¸‹ï¼š * @namespace * @param &#123;object&#125; options - options for logger * @param &#123;string | function | object&#125; options.level - console[level] æ—¥å¿—çº§åˆ« * @param &#123;boolean&#125; options.duration - print duration of each action? æ‰“å°æ¯ä¸ªactionçš„æ—¶é—´ * @param &#123;boolean&#125; options.timestamp - print timestamp with each action? æ‰“å°æ¯ä¸ªactionçš„æ—¶é—´æˆ³ * @param &#123;object&#125; options.colors - custom colors å®šåˆ¶é¢œè‰² * @param &#123;object&#125; options.logger - implementation of the &#96;console&#96; API æ‰“å°æ—¥å¿—çš„å®ç° * @param &#123;boolean&#125; options.logErrors - should errors in action execution be caught, logged, and re-thrown? æ˜¯å¦æ•è·actionæ‰§è¡Œé”™è¯¯ï¼Œæ‰“å°é”™è¯¯ï¼Œå¹¶é‡æ–°æŠ›å‡º * @param &#123;boolean&#125; options.collapsed - is group collapsed? æ˜¯å¦æŠ˜å ç»„ * @param &#123;boolean&#125; options.predicate - condition which resolves logger behavior æ¡ä»¶ï¼Œå†³å®šæ—¥å¿—è®°å½•å™¨è¡Œä¸º * @param &#123;function&#125; options.stateTransformer - transform state before print æ‰“å°å‰çš„çŠ¶æ€è½¬æ¢ * @param &#123;function&#125; options.actionTransformer - transform action before print æ‰“å°å‰çš„actionè½¬æ¢ * @param &#123;function&#125; options.errorTransformer - transform error before print  æ‰“å°å‰çš„é”™è¯¯è½¬æ¢ * * @returns &#123;function&#125; logger middleware è¿”å›ä¸­é—´ä»¶ *&#x2F;function createLogger(options &#x3D; &#123;&#125;) &#123;  const loggerOptions &#x3D; Object.assign(&#123;&#125;, defaults, options);  const &#123;    logger,    stateTransformer,    errorTransformer,    predicate,    logErrors,    diffPredicate,  &#125; &#x3D; loggerOptions;  &#x2F;&#x2F; Return if &#39;console&#39; object is not defined  &#x2F;&#x2F; å¦‚æœ&#39;console&#39;å¯¹è±¡æœªå®šä¹‰ï¼Œè¿”å›  if (typeof logger &#x3D;&#x3D;&#x3D; &quot;undefined&quot;) &#123;    return () &#x3D;&gt; (next) &#x3D;&gt; (action) &#x3D;&gt; next(action);  &#125;  &#x2F;&#x2F; Detect if &#39;createLogger&#39; was passed directly to &#39;applyMiddleware&#39;.  &#x2F;&#x2F; åˆ¤æ–­æ˜¯å¦ä¼ é€’ç»™applyMiddleware  if (options.getState &amp;&amp; options.dispatch) &#123;    &#x2F;&#x2F; eslint-disable-next-line no-console    console.error(&#96;[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:&#x2F;&#x2F; Logger with default optionsimport &#123; logger &#125; from &#39;redux-logger&#39;const store &#x3D; createStore(  reducer,  applyMiddleware(logger))&#x2F;&#x2F; Or you can create your own logger with custom options http:&#x2F;&#x2F;bit.ly&#x2F;redux-logger-optionsimport &#123; createLogger &#125; from &#39;redux-logger&#39;const logger &#x3D; createLogger(&#123;  &#x2F;&#x2F; ...options&#125;);const store &#x3D; createStore(  reducer,  applyMiddleware(logger))&#96;);    &#x2F;&#x2F; ä¸­é—´ä»¶ä¹¦å†™å¥—è·¯    return () &#x3D;&gt; (next) &#x3D;&gt; (action) &#x3D;&gt; next(action);  &#125;  const logBuffer &#x3D; [];  return (&#123; getState &#125;) &#x3D;&gt;    (next) &#x3D;&gt;    (action) &#x3D;&gt; &#123;      &#x2F;&#x2F; Exit early if predicate function returns &#39;false&#39; å¦‚æœpredicateå‡½æ•°è¿”å›falseï¼Œé€€å‡º      if (typeof predicate &#x3D;&#x3D;&#x3D; &quot;function&quot; &amp;&amp; !predicate(getState, action)) &#123;        return next(action);      &#125;      const logEntry &#x3D; &#123;&#125;;      logBuffer.push(logEntry);      logEntry.started &#x3D; timer.now();      logEntry.startedTime &#x3D; new Date();      logEntry.prevState &#x3D; stateTransformer(getState());      logEntry.action &#x3D; action;      let returnedValue;      if (logErrors) &#123;        try &#123;          returnedValue &#x3D; next(action);        &#125; catch (e) &#123;          logEntry.error &#x3D; errorTransformer(e);        &#125;      &#125; else &#123;        returnedValue &#x3D; next(action);      &#125;      logEntry.took &#x3D; timer.now() - logEntry.started;      logEntry.nextState &#x3D; stateTransformer(getState());      const diff &#x3D;        loggerOptions.diff &amp;&amp; typeof diffPredicate &#x3D;&#x3D;&#x3D; &quot;function&quot;          ? diffPredicate(getState, action)          : loggerOptions.diff;      printBuffer(logBuffer, Object.assign(&#123;&#125;, loggerOptions, &#123; diff &#125;));      logBuffer.length &#x3D; 0;      if (logEntry.error) throw logEntry.error;      return returnedValue;    &#125;;&#125;</code></pre><p><strong>defaults é»˜è®¤é…ç½®</strong></p><pre class="line-numbers language-js" data-language="js"><code class="language-js">&#x2F;&#x2F; src&#x2F;default.jsexport default &#123;  level: &quot;log&quot;,  logger: console,  logErrors: true,  collapsed: undefined,  predicate: undefined,  duration: false,  timestamp: true,  stateTransformer: (state) &#x3D;&gt; state,  actionTransformer: (action) &#x3D;&gt; action,  errorTransformer: (error) &#x3D;&gt; error,  colors: &#123;    title: () &#x3D;&gt; &quot;inherit&quot;,    prevState: () &#x3D;&gt; &quot;#9E9E9E&quot;,    action: () &#x3D;&gt; &quot;#03A9F4&quot;,    nextState: () &#x3D;&gt; &quot;#4CAF50&quot;,    error: () &#x3D;&gt; &quot;#F20404&quot;,  &#125;,  diff: false,  diffPredicate: undefined,  &#x2F;&#x2F; Deprecated options å·²åºŸå¼ƒé…ç½®  transformer: undefined,&#125;;&#x2F;&#x2F; å­—æ®µé‡Šä¹‰&#x2F;** * Creates logger with following options * åˆ›å»ºæ—¥å¿—è®°å½•å™¨ï¼Œé…ç½®å¦‚ä¸‹ï¼š * @namespace * @param &#123;object&#125; options - options for logger * @param &#123;string | function | object&#125; options.level - console[level] æ—¥å¿—çº§åˆ« * @param &#123;boolean&#125; options.duration - print duration of each action? æ‰“å°æ¯ä¸ªactionçš„æ—¶é—´ * @param &#123;boolean&#125; options.timestamp - print timestamp with each action? æ‰“å°æ¯ä¸ªactionçš„æ—¶é—´æˆ³ * @param &#123;object&#125; options.colors - custom colors å®šåˆ¶é¢œè‰² * @param &#123;object&#125; options.logger - implementation of the &#96;console&#96; API æ‰“å°æ—¥å¿—çš„å®ç° * @param &#123;boolean&#125; options.logErrors - should errors in action execution be caught, logged, and re-thrown? æ˜¯å¦æ•è·actionæ‰§è¡Œé”™è¯¯ï¼Œæ‰“å°é”™è¯¯ï¼Œå¹¶é‡æ–°æŠ›å‡º * @param &#123;boolean&#125; options.collapsed - is group collapsed? æ˜¯å¦æŠ˜å ç»„ * @param &#123;boolean&#125; options.predicate - condition which resolves logger behavior æ¡ä»¶ï¼Œå†³å®šæ—¥å¿—è®°å½•å™¨è¡Œä¸º * @param &#123;function&#125; options.stateTransformer - transform state before print æ‰“å°å‰çš„çŠ¶æ€è½¬æ¢ * @param &#123;function&#125; options.actionTransformer - transform action before print æ‰“å°å‰çš„actionè½¬æ¢ * @param &#123;function&#125; options.errorTransformer - transform error before print  æ‰“å°å‰çš„é”™è¯¯è½¬æ¢ * * @returns &#123;function&#125; logger middleware è¿”å›ä¸­é—´ä»¶ *&#x2F;</code></pre><p><strong>å¥‡æ€ª</strong></p><ul><li>è¿™ä¸¤ä¸ªé…ç½®åœ¨æµ‹è¯•æ–‡ä»¶ä¸­ï¼Œæ²¡æ‰¾åˆ°ç›¸å…³æµ‹è¯•ä»£ç </li></ul><pre class="line-numbers language-js" data-language="js"><code class="language-js"> &#x2F;&#x2F; é…ç½® diff: false, &#x2F;&#x2F; diffPredicate: undefined, &#x2F;&#x2F; ... const diff &#x3D;       loggerOptions.diff &amp;&amp; typeof diffPredicate &#x3D;&#x3D;&#x3D; &quot;function&quot;         ? diffPredicate(getState, action)         : loggerOptions.diff; &#x2F;&#x2F; æ‰“å°æ—¥å¿—ä¸­ printBuffer(logBuffer, Object.assign(&#123;&#125;, loggerOptions, &#123; diff &#125;)); &#x2F;&#x2F; src&#x2F;core.js printBufferçš„å®šä¹‰function printBuffer(buffer, options) &#123;   const &#123;     &#x2F;&#x2F; ...       diff,   &#125; &#x3D; options;   &#x2F;&#x2F; å¦‚æœå¼€å¯   if (diff) &#123;     &#x2F;&#x2F; æ‰§è¡Œäº† diffLogger     diffLogger(prevState, nextState, logger, isCollapsed);   &#125;&#125;&#x2F;&#x2F; src&#x2F;diff.jsexport default function diffLogger(prevState, newState, logger, isCollapsed) &#123;  &#x2F;&#x2F; import differ from &#39;deep-diff&#39;;è®¡ç®—å¯¹è±¡å·®å¼‚åŒ–çš„åŒ…  const diff &#x3D; differ(prevState, newState);  try &#123;    if (isCollapsed) &#123;      logger.groupCollapsed(&#39;diff&#39;);    &#125; else &#123;      logger.group(&#39;diff&#39;);    &#125;  &#125; catch (e) &#123;    logger.log(&#39;diff&#39;);  &#125;  &#x2F;&#x2F; æœ‰å·®å¼‚æ‰§è¡Œè¾“å‡ºï¼Œè¿™ä¸ªå·®å¼‚åŒ…å«ç±»å‹kind E:ç¼–è¾‘ N:æ–°å¢ D:åˆ é™¤ A:æ•°ç»„  &#x2F;&#x2F; dictionaryä¸ºå¯¹è±¡ï¼Œå¯¹kindå€¼è¿›è¡Œæšä¸¾  &#x2F;&#x2F; éå†è¾“å‡º  if (diff) &#123;    diff.forEach((elem) &#x3D;&gt; &#123;      const &#123; kind &#125; &#x3D; elem;      const output &#x3D; render(elem);      logger.log(&#96;%c $&#123;dictionary[kind].text&#125;&#96;, style(kind), ...output);    &#125;);  &#125; else &#123;    logger.log(&#39;â€”â€” no diff â€”â€”&#39;);  &#125;  try &#123;    logger.groupEnd();  &#125; catch (e) &#123;    logger.log(&#39;â€”â€” diff end â€”â€” &#39;);  &#125;&#125;</code></pre><h2 id="helpers"><a href="#helpers" class="headerlink" title="helpers"></a>helpers</h2><pre class="line-numbers language-js" data-language="js"><code class="language-js">&#x2F;&#x2F; repeat + pad &#x3D; padLeft å·¦ä¾§è¡¥é›¶ï¼Œ eså¤šå°‘æœ‰ä¸ªapiexport const repeat &#x3D; (str, times) &#x3D;&gt; (new Array(times + 1)).join(str);export const pad &#x3D; (num, maxLength) &#x3D;&gt; repeat(&#39;0&#39;, maxLength - num.toString().length) + num;&#x2F;&#x2F; æ—¶é—´æ ¼å¼åŒ–export const formatTime &#x3D; time &#x3D;&gt; &#96;$&#123;pad(time.getHours(), 2)&#125;:$&#123;pad(time.getMinutes(), 2)&#125;:$&#123;pad(time.getSeconds(), 2)&#125;.$&#123;pad(time.getMilliseconds(), 3)&#125;&#96;;&#x2F;&#x2F; Use performance API if it&#39;s available in order to get better precisionexport const timer &#x3D;(typeof performance !&#x3D;&#x3D; &#39;undefined&#39; &amp;&amp; performance !&#x3D;&#x3D; null) &amp;&amp; typeof performance.now &#x3D;&#x3D;&#x3D; &#39;function&#39; ?  performance :  Date;</code></pre><p><strong>è¿è¡Œæµ‹è¯•ä¸‹</strong></p><pre class="line-numbers language-js" data-language="js"><code class="language-js">const repeat &#x3D; (str, times) &#x3D;&gt; (new Array(times + 1)).join(str);const pad &#x3D; (num, maxLength) &#x3D;&gt; repeat(&#39;0&#39;, maxLength - num.toString().length) + num;const formatTime &#x3D; time &#x3D;&gt; &#96;$&#123;pad(time.getHours(), 2)&#125;:$&#123;pad(time.getMinutes(), 2)&#125;:$&#123;pad(time.getSeconds(), 2)&#125;.$&#123;pad(time.getMilliseconds(), 3)&#125;&#96;;console.log(formatTime(new Date()))&#x2F;&#x2F; è¾“å‡º18:58:15.667</code></pre><h2 id="æºç å›¾"><a href="#æºç å›¾" class="headerlink" title="æºç å›¾"></a>æºç å›¾</h2><p><img src="http://t-blog-images.aijs.top/img/20220527190102.webp"></p><h2 id="deep-diff"><a href="#deep-diff" class="headerlink" title="deep-diff"></a>deep-diff</h2><ul><li>çœ‹ä¸‹ä¸¤ä¸ªå¯¹è±¡æ¯”è¾ƒçš„äº‹ä¾‹</li></ul><pre class="line-numbers language-js" data-language="js"><code class="language-js">var lhs &#x3D; &#123;name: &#39;my object&#39;,description: &#39;it\&#39;s an object!&#39;,details: &#123;it: &#39;has&#39;,an: &#39;array&#39;,with: [&#39;a&#39;, &#39;few&#39;, &#39;elements&#39;]&#125;&#125;;var rhs &#x3D; &#123;name: &#39;updated object&#39;,description: &#39;it\&#39;s an object!&#39;,details: &#123;it: &#39;has&#39;,an: &#39;array&#39;,with: [&#39;a&#39;, &#39;few&#39;, &#39;more&#39;, &#39;elements&#39;, &#123; than: &#39;before&#39; &#125;]&#125;&#125;;var differences &#x3D; deep.diff(lhs, rhs);&#x2F;&#x2F; è¾“å‡º27 May 17:27:12 - [  DiffEdit &#123;    kind: &#39;E&#39;,    path: [ &#39;name&#39; ],    lhs: &#39;my object&#39;,    rhs: &#39;updated object&#39;  &#125;,  DiffArray &#123;    kind: &#39;A&#39;,    path: [ &#39;details&#39;, &#39;with&#39; ],    index: 4,    item: DiffNew &#123; kind: &#39;N&#39;, rhs: &#123; than: &#39;before&#39; &#125; &#125;  &#125;,  DiffArray &#123;    kind: &#39;A&#39;,    path: [ &#39;details&#39;, &#39;with&#39; ],    index: 3,    item: DiffNew &#123; kind: &#39;N&#39;, rhs: &#39;elements&#39; &#125;  &#125;,  DiffEdit &#123;    kind: &#39;E&#39;,    path: [ &#39;details&#39;, &#39;with&#39;, 2 ],    lhs: &#39;elements&#39;,    rhs: &#39;more&#39;  &#125;]</code></pre>]]></content>
      
      
      <categories>
          
          <category> redux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redux </tag>
            
            <tag> æºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscode i18n-ally</title>
      <link href="//post/2022-05-27i18n.html"/>
      <url>//post/2022-05-27i18n.html</url>
      
        <content type="html"><![CDATA[<h2 id="å›½é™…åŒ–"><a href="#å›½é™…åŒ–" class="headerlink" title="å›½é™…åŒ–"></a>å›½é™…åŒ–</h2><ul><li>å¤§å‹å…¬å¸çš„å›½é™…åŒ–éœ€æ±‚å¾ˆé«˜ï¼Œéœ€è¦æ”¯æŒå¤šè¯­è¨€ï¼Œæ¯”å¦‚ä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ç­‰ç­‰ã€‚</li><li>i18n-allyæ˜¯ä¸€ä¸ªåŸºäºvscodeçš„å›½é™…åŒ–å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿçš„å®ç°å›½é™…åŒ–ã€‚</li></ul><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><ul><li>å¦‚æœç»å¸¸åšå›½é™…åŒ–çš„ç ”å‘ï¼Œåº”è¯¥å¾ˆæ¸…æ¥šï¼Œä»£ç ä¸­å†™å¤šè¯­è¨€ï¼Œç„¶è€Œï¼Œå¤šè¯­è¨€åœ¨é¡¹ç›®ä¸­ç»´æŠ¤æ˜¯éå¸¸å›°éš¾çš„ã€‚</li><li>å½“é‡åˆ°å¤§å‹é¡¹ç›®ï¼Œä¸šåŠ¡è¦åšæ‹†åˆ†æˆä¸º<code>å¾®å‰ç«¯æ¶æ„</code>ï¼Œå¤šè¯­è¨€è¦åœ¨å¤šä¸ªé¡¹ç›®ä¸­ç»´æŠ¤ï¼Œæµªè´¹æ—¶é—´ä¸è¯´ï¼Œè¿˜å¯èƒ½é€ æˆä¸ä¸€è‡´é—®é¢˜</li><li>å¤„ç†æ–¹å¼ï¼š<ol><li>å°†å¯¹åº”çš„å¤šè¯­è¨€å¼€å‘ä¸ºnpmåŒ…ï¼Œåœ¨é¡¹ç›®ä¸­å¼•å…¥</li><li>æ‹†å¤šè¯­è¨€ä¸ºä¸€ä¸ªåº”ç”¨å¹³å°ï¼Œå®ç°å¤šé¡¹ç›®å…±äº«ï¼Œå®ç°å¯è§†åŒ–äº¤äº’ï¼ˆæˆ‘ä»¬ç›®å‰ä½¿ç”¨ï¼Œè‡ªç ”localizeå¹³å°ï¼Œå®ç°å¤šè¯­è¨€ç®¡ç†ï¼‰</li></ol></li></ul><h2 id="é¢˜å¤–è¯"><a href="#é¢˜å¤–è¯" class="headerlink" title="é¢˜å¤–è¯"></a>é¢˜å¤–è¯</h2><p><strong>åº”ç”¨å¹³å°</strong></p><ul><li>åŠ¨æ€ç”Ÿæ•ˆï¼š ä¿®æ”¹å¤šè¯­è¨€ä¸éœ€è¦é‡å¯ã€å‘å¸ƒæœåŠ¡</li><li>ç¿»è¯‘ç®¡ç†ï¼šå¤šäººååŒåœ¨çº¿ç¿»è¯‘</li><li>ç‰ˆæœ¬ç®¡ç†ï¼š è®°å½•ç¿»è¯‘å˜æ›´è®°å½•ä»¥åŠå¯¹åº”çš„æ“ä½œäººï¼Œæ–¹ä¾¿å®šä½ä¸æ’é”™</li><li>è‡ªåŠ¨å¤šåŒºåŒæ­¥ï¼šåªéœ€åœ¨ä¸­å›½åŒºä¿®æ”¹ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åŒæ­¥åˆ°å›½å¤–5åŒº</li></ul><h2 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h2><ul><li>æç¤ºä¼˜é›…ï¼Œæœªå¤„ç†çš„å¤šè¯­è¨€ä¼šæœ‰æç¤º</li><li>ç¼–è¾‘æ–¹ä¾¿</li></ul><p align="center"><img src="https://github.com/lokalise/i18n-ally/blob/main/screenshots/full-logo-new.png?raw=true" alt="logo" width="450"/></p><p align='center'>English | <a href="https://github.com/lokalise/i18n-ally/blob/main/README.zh-CN.md">ç®€ä½“ä¸­æ–‡</a></p><p align="center" style="display: flex; flex-wrap: wrap"><a href="https://marketplace.visualstudio.com/items?itemName=lokalise.i18n-ally" target="__blank"><img src="https://img.shields.io/visual-studio-marketplace/v/lokalise.i18n-ally.svg?color=blue&amp;label=VS%20Code%20Marketplace&logo=visual-studio-code" alt="Visual Studio Marketplace Version" /></a><a href="https://marketplace.visualstudio.com/items?itemName=lokalise.i18n-ally" target="__blank"><img src="https://img.shields.io/visual-studio-marketplace/d/lokalise.i18n-ally.svg?color=4bdbe3" alt="Visual Studio Marketplace Downloads" /></a><a href="https://marketplace.visualstudio.com/items?itemName=lokalise.i18n-ally" target="__blank"><img src="https://img.shields.io/visual-studio-marketplace/i/lokalise.i18n-ally.svg?color=63ba83" alt="Visual Studio Marketplace Installs" /></a><a href="https://marketplace.visualstudio.com/items?itemName=lokalise.i18n-ally" target="__blank"><img src="https://vsmarketplacebadge.apphb.com/trending-monthly/lokalise.i18n-ally.svg?color=a1b858" alt="Marketplace Trending Monthly" /></a><br/><a href="https://github.com/lokalise/i18n-ally/wiki" target="__blank"><img alt="Wiki" src="https://img.shields.io/static/v1?label=docs&message=wiki&color=e3897b"></a><a href="https://github.com/lokalise/i18n-ally" target="__blank"><img src="https://img.shields.io/github/last-commit/lokalise/i18n-ally.svg?color=c977be" alt="GitHub last commit" /></a><a href="https://github.com/lokalise/i18n-ally/issues" target="__blank"><img src="https://img.shields.io/github/issues/lokalise/i18n-ally.svg?color=a38eed" alt="GitHub issues" /></a><a href="https://github.com/lokalise/i18n-ally" target="__blank"><img alt="GitHub stars" src="https://img.shields.io/github/stars/lokalise/i18n-ally?style=social"></a></p><p align='center'><b>v2.0</b> is released with new <a href='https://github.com/lokalise/i18n-ally/wiki/Editor-UI'>Editor UI</a> and <a href='https://github.com/lokalise/i18n-ally/wiki/Review-&-Collaboration-System'>Review System</a> ğŸ‰</p><p align='center'><i><a href="https://github.com/lokalise/i18n-ally/wiki/Migration-v1.x">Migrate from v1.x</a></i></p><br><p align="center"><a href='https://github.com/lokalise/i18n-ally/wiki/Supported-Frameworks' target="__blank"><img src="https://github.com/lokalise/i18n-ally/blob/screenshots/supported-frameworks.png?raw=true" alt="Supported Frameworks" width="550"/></a></p><h3 align="center">Maintained by</h3><p align="center"><a title="Lokalise: accelerate localization from code to delivery" href="https://lokalise.com/?utm_source=vscmarket&amp;utm_campaign=i18nally&amp;utm_medium=banner"><img src="https://github.com/lokalise/i18n-ally/raw/screenshots/lokalise-logo.png?raw=true" alt="Lokalise logo" width="275px"></a><br><sup>Lokalise is the fastest growing language cloud technology made by developers, for developers.<br>As a collaborative productivity platform, it helps structure and automate the translation and localization process for any company in the world.<br>Lokaliseæ˜¯å¼€å‘äººå‘˜ä¸ºå¼€å‘äººå‘˜å¼€å‘çš„å¢é•¿æœ€å¿«çš„è¯­è¨€äº‘æŠ€æœ¯<br>ä½œä¸ºä¸€ä¸ªåä½œç”Ÿäº§åŠ›å¹³å°ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä¸–ç•Œä¸Šä»»ä½•å…¬å¸æ„å»ºå’Œè‡ªåŠ¨åŒ–ç¿»è¯‘å’Œæœ¬åœ°åŒ–è¿‡ç¨‹ã€‚<a title="Lokalise: accelerate localization from code to delivery" href="https://lokalise.com/?utm_source=vscmarket&amp;utm_campaign=i18nally&amp;utm_medium=banner">Learn more</a></sup></p><br><br><h4 align="center"><a href="https://github.com/lokalise/i18n-ally/wiki">ğŸ“– Docs æ–‡æ¡£</a>&nbsp;|&nbsp;<a href="https://github.com/lokalise/i18n-ally/wiki/FAQ">ğŸ’­ FAQ é—®ç­”</a>&nbsp;|&nbsp;<a href="https://github.com/lokalise/i18n-ally/wiki/Configurations">âš™ï¸ Configs é…ç½®</a>&nbsp;|&nbsp;<a href="https://github.com/lokalise/i18n-ally/wiki/Locale-Formats#supported-locale-formats">ğŸ“œ Supported Formats æ”¯æŒæ ¼å¼</a>&nbsp;|&nbsp;<a href="https://github.com/lokalise/i18n-ally/wiki/Contribute">ğŸ§± Contribute è´¡çŒ®</a></h4><br><br><h3 align='center'>Inline Annotations è¡Œå†…æç¤º</h3><p><img src="https://github.com/lokalise/i18n-ally/blob/screenshots/annotation-animated.gif?raw=true"></p><h3 align='center'>Hover and Direct Actions æ‚¬åœå’Œç›´æ¥æ“ä½œ</h3><p><img src="https://github.com/lokalise/i18n-ally/blob/screenshots/hover.png?raw=true"></p><h3 align='center'>Manage All Translations in One Place åœ¨ä¸€ä¸ªä½ç½®ç®¡ç†æ‰€æœ‰ç¿»è¯‘</h3><p><img src="https://github.com/lokalise/i18n-ally/blob/screenshots/review-sidebar.png?raw=true"></p><h3 align='center'><a href='https://github.com/lokalise/i18n-ally/wiki/Editor-UI'>Editor UIç¼–è¾‘ç•Œé¢</a> & <a href='https://github.com/lokalise/i18n-ally/wiki/Review-&-Collaboration-System'>Review System é¢„è§ˆç³»ç»Ÿ</a></h3><p><img src="https://github.com/lokalise/i18n-ally/blob/screenshots/review-editor.png?raw=true"></p><h3 align='center'>Extract Translations from Code ä»ä»£ç ä¸­æå–ç¿»è¯‘</h3><p><img src="https://github.com/lokalise/i18n-ally/blob/screenshots/extract.png?raw=true"></p><h3 align='center'>Report Missing Translations æŠ¥å‘Šç¼ºå¤±çš„ç¿»è¯‘</h3><p><img src="https://github.com/lokalise/i18n-ally/blob/screenshots/problems.png?raw=true"></p><h3 align='center'>Machine Translation æœºå™¨ç¿»è¯‘</h3><p><img src="https://github.com/lokalise/i18n-ally/blob/screenshots/quick-actions.png?raw=true"></p><h3 align='center'>Annotations for JSON and YAML æ¥æºäºJSON å’Œ YAMLçš„æç¤º</h3><p><img src="https://github.com/lokalise/i18n-ally/blob/screenshots/annotation-locale.png?raw=true"></p><h3 align="center">General Features</h3><ul><li>Supports multi-root workspaces  æ”¯æŒå¤šä¸ªå·¥ä½œç©ºé—´</li><li>Supports remote development æ”¯æŒè¿œç¨‹å¼€å‘</li><li>Supports numerous popular frameworks æ”¯æŒå¤šç§æµè¡Œæ¡†æ¶</li><li>Supports <a href="https://kazupon.github.io/vue-i18n/guide/messages.html#linked-locale-messages">linked locale messages é“¾æ¥çš„åŒºåŸŸè®¾ç½®æ¶ˆæ¯</a></li><li>Uses i18n for the extension itself, of course. å½“ç„¶ï¼Œå°†i18nç”¨äºæ‰©å±•æœ¬èº«ã€‚ <a href="https://github.com/lokalise/i18n-ally#-multilingual-support">Translation List ç¿»è¯‘åˆ—è¡¨</a></li></ul><h2 id="ğŸŒ-Multilingual-Support-å¤šè¯­è¨€æ”¯æŒ"><a href="#ğŸŒ-Multilingual-Support-å¤šè¯­è¨€æ”¯æŒ" class="headerlink" title="ğŸŒ Multilingual Support å¤šè¯­è¨€æ”¯æŒ"></a>ğŸŒ Multilingual Support å¤šè¯­è¨€æ”¯æŒ</h2><p>This extension itself supports i18n as well. It will be auto-matched to the display language you use in your VS Code editor. We currently support the following languages.<br>è¿™ä¸ªæ‰©å±•æ”¯æŒå¤šè¯­è¨€ã€‚å®ƒå°†è‡ªåŠ¨åŒ¹é…åˆ°ä½ åœ¨VS Codeç¼–è¾‘å™¨ä¸­ä½¿ç”¨çš„è¯­è¨€ã€‚æˆ‘ä»¬ç›®å‰æ”¯æŒçš„è¯­è¨€æœ‰ï¼š</p><table><thead><tr><th>Language</th><th>Maintainer</th><th>Contributors</th></tr></thead><tbody><tr><td>English   è‹±è¯­</td><td><a href="https://github.com/antfu">@antfu</a></td><td><a href="https://github.com/rubjo">@rubjo</a>, <a href="https://github.com/EdRands">@EdRands</a></td></tr><tr><td>Simplified Chinese (ç®€ä½“ä¸­æ–‡)</td><td><a href="https://github.com/antfu">@antfu</a></td><td></td></tr><tr><td>Traditional Chinese (ç¹é«”ä¸­æ–‡)</td><td><a href="https://github.com/antfu">@antfu</a></td><td></td></tr><tr><td>Norwegian (Norsk) æŒªå¨è¯­</td><td></td><td><a href="https://github.com/rubjo">@rubjo</a></td></tr><tr><td>Spanish (EspaÃ±ol) è¥¿ç­ç‰™çš„</td><td></td><td><a href="https://github.com/Baltimer">@Baltimer</a></td></tr><tr><td>Japanese (æ—¥æœ¬èª) æ—¥è¯­</td><td></td><td><a href="https://github.com/isdh">@isdh</a></td></tr><tr><td>Dutch (Nederlands) è·å…°è¯­</td><td></td><td><a href="https://github.com/Niekvdm">@Niekvdm</a>, <a href="https://github.com/Excalibaard">@Excalibaard</a></td></tr><tr><td>Portuguese (Brazilian) è‘¡è„ç‰™è¯­</td><td></td><td><a href="https://github.com/Ibcs16">@Ibcs16</a></td></tr><tr><td>French (FranÃ§ais) æ³•è¯­</td><td></td><td><a href="https://github.com/Nicoxx45">@Nicoxx45</a>, <a href="https://github.com/eri">@eri</a></td></tr><tr><td>Swedish (Svenska)ç‘å…¸è¯­</td><td><a href="https://github.com/vladdeSV">@vladdeSV</a></td><td></td></tr><tr><td>Ukrainian (Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°) ä¹Œå…‹å…°è¯­</td><td></td><td><a href="https://github.com/uhodav">@uhodav</a></td></tr><tr><td>Russian (Ğ ÑƒÑÑĞºĞ¸Ğ¹) ä¿„è¯­</td><td></td><td><a href="https://github.com/uhodav">@uhodav</a></td></tr><tr><td>German (Deutsch) å¾·è¯­</td><td><a href="https://github.com/alexanderniebuhr">@alexanderniebuhr</a></td><td></td></tr><tr><td>Turkish (TÃ¼rkÃ§e) åœŸè€³å…¶è¯­</td><td></td><td><a href="https://github.com/eri">@eri</a></td></tr></tbody></table><p><a href="https://github.com/lokalise/i18n-ally/wiki/Contribute#working-on-translations"><strong>å¸®å¿™ç¿»è¯‘</strong></a></p><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>ğŸ‘¨â€ğŸ’» å¦‚æœæ‚¨æƒ³å¸®åŠ©ä¸€ç§è¯­è¨€çš„ç¿»è¯‘æ›´æ–°ï¼Œè¯·åœ¨<strong>ç»´æŠ¤è€…</strong>å­—æ®µä¸­è¾“å…¥æ‚¨çš„å§“åã€‚æˆ‘ä¼šåœ¨éœ€è¦çš„æ—¶å€™æåˆ°ä½ ã€‚éå¸¸æ„Ÿè°¢ã€‚</p></blockquote><h2 id="â¤ï¸-æ„Ÿè°¢"><a href="#â¤ï¸-æ„Ÿè°¢" class="headerlink" title="â¤ï¸ æ„Ÿè°¢"></a>â¤ï¸ æ„Ÿè°¢</h2><p>æ­¤æ’ä»¶çš„çµæ„Ÿæ¥æºäº<a href="https://github.com/think2011/vscode-vue-i18n">think2011&#x2F;vscode-vue-i18n</a>. å¦‚æœæ²¡æœ‰<a href="https://github.com/think2011">@think2011</a>,i18n-allyä¸ä¼šå­˜åœ¨</p><p>å¯¹Vueå•æ–‡ä»¶ç»„ä»¶ï¼ˆSFCï¼‰çš„æ”¯æŒç”±[kazupon&#x2F;Vue-i18n-locale-message]æä¾›æ”¯æŒ(<a href="https://github.com/kazupon/vue-i18n-locale-message)%EF%BC%8C%E5%AE%83%E6%98%AF%E7%94%B1vue-i18n%E7%9A%84%E4%BD%9C%E8%80%85%E5%88%9B%E5%BB%BA%E7%9A%84%E3%80%82%E8%B0%A2%E8%B0%A2%E4%BD%A0%E5%81%9A%E8%BF%99%E4%B8%AA%EF%BC%81">https://github.com/kazupon/vue-i18n-locale-message)ï¼Œå®ƒæ˜¯ç”±vue-i18nçš„ä½œè€…åˆ›å»ºçš„ã€‚è°¢è°¢ä½ åšè¿™ä¸ªï¼</a></p><h3 id="ä»£ç å…±äº«è€…"><a href="#ä»£ç å…±äº«è€…" class="headerlink" title="ä»£ç å…±äº«è€…"></a>ä»£ç å…±äº«è€…</h3><p>éå¸¸æ„Ÿè°¢æ‰€æœ‰æ°å‡ºçš„è´¡çŒ®è€…ï¼š<br><a href="https://github.com/lokalise/i18n-ally/graphs/contributors"><img src="https://opencollective.com/i18n-ally/contributors.svg?width=890"/></a></p><h2 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h2><p><a href="https://github.com/lokalise/i18n-ally/blob/master/LICENSE">MIT License</a> Â© 2019-PRESENT <a href="https://github.com/antfu">Anthony Fu</a></p><p>MIT License Â© 2018-2019 <a href="https://github.com/think2011">think2011</a></p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p><a href="https://marketplace.visualstudio.com/items?itemName=Lokalise.i18n-ally">Visual Studio Code&gt;Other&gt;i18n Ally</a></p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://github.com/lokalise/i18n-ally">github å®˜ç½‘</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> å¢æ•ˆ </tag>
            
            <tag> å·¥å…· </tag>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redux-thunkæºç </title>
      <link href="//post/2022-05-27redux-thunk.html"/>
      <url>//post/2022-05-27redux-thunk.html</url>
      
        <content type="html"><![CDATA[<h2 id="æºç ç‰ˆæœ¬"><a href="#æºç ç‰ˆæœ¬" class="headerlink" title="æºç ç‰ˆæœ¬"></a>æºç ç‰ˆæœ¬</h2><p><a href="https://github.com/reduxjs/redux-thunk/releases/tag/v2.4.1">v2.4.1</a></p><h2 id="ç”¨é€”"><a href="#ç”¨é€”" class="headerlink" title="ç”¨é€”"></a>ç”¨é€”</h2><ul><li>é€šè¿‡reduxæºç applyMiddlewareäº†è§£åˆ°ï¼Œæ˜¯å¯¹store.dispatchè¿›è¡Œå¢å¼º</li><li>å¯ä»¥æ¥å—ä¸€ä¸ªè¿”å›å‡½æ•°çš„action creatorã€‚å¦‚æœè¿™ä¸ªaction creator è¿”å›çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå°±æ‰§è¡Œå®ƒï¼Œå¦‚æœä¸æ˜¯ï¼Œå°±æŒ‰ç…§åŸæ¥çš„next(action)æ‰§è¡Œã€‚</li><li>å¯ä»¥åœ¨è¿™ä¸ªå‡½æ•°ä¸­æ‰§è¡Œä¸€äº›å¼‚æ­¥çš„æ“ä½œ</li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">export function addCount() &#123;  return &#123;type: ADD_COUNT&#125;&#125; export function addCountAsync() &#123;  return dispatch &#x3D;&gt; &#123; &#x2F;&#x2F; dispatchå¯¹åº”æºç çš„ ï¼š action(dispatch, getState, extraArgument);çš„ç¬¬ä¸€ä¸ªå‚æ•°    setTimeout( () &#x3D;&gt; &#123;      dispatch(addCount())    &#125;,2000)  &#125;&#125;</code></pre><ul><li>addCountAsyncå‡½æ•°å°±è¿”å›äº†ä¸€ä¸ªå‡½æ•°ï¼Œå°†dispatchä½œä¸ºå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’è¿›å»ï¼Œåœ¨å‡½æ•°å†…è¿›è¡Œå¼‚æ­¥æ“ä½œå°±å¯ä»¥äº†ã€‚</li></ul><h2 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h2><ul><li>è¿™ä¸ªæ–‡ä»¶ç»“æ„ä¸reduxã€react-reduxç›¸æ¯”ï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ï¼Œè¿™é‡ŒåŠä»¥åå¦‚æ— å¿…è¦ä¸åœ¨è¿›è¡Œé˜…è¯»</li><li>ç®€å•æ‰«ä¸€çœ¼å°±å¥½</li></ul><h2 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h2><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">&#x2F;** A function that accepts a potential &quot;extra argument&quot; value to be injected later, * and returns an instance of the thunk middleware that uses that value *&#x2F;&#x2F;** ä¸€ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªå¯èƒ½çš„&quot;extra argument&quot;å€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªthunkä¸­é—´ä»¶ï¼Œå®ƒä½¿ç”¨è¿™ä¸ªå€¼ *&#x2F;function createThunkMiddleware&lt;  State &#x3D; any,  BasicAction extends Action &#x3D; AnyAction,  ExtraThunkArg &#x3D; undefined&gt;(extraArgument?: ExtraThunkArg) &#123;  &#x2F;&#x2F; Standard Redux middleware definition pattern:  &#x2F;&#x2F; æ ‡å‡†Reduxä¸­é—´ä»¶å®šä¹‰æ¨¡å¼:  &#x2F;&#x2F; See: https:&#x2F;&#x2F;redux.js.org&#x2F;tutorials&#x2F;fundamentals&#x2F;part-4-store#writing-custom-middleware  const middleware: ThunkMiddleware&lt;State, BasicAction, ExtraThunkArg&gt; &#x3D;    (&#123; dispatch, getState &#125;) &#x3D;&gt; (next) &#x3D;&gt;  (action) &#x3D;&gt; &#123;      &#x2F;&#x2F; The thunk middleware looks for any functions that were passed to &#96;store.dispatch&#96;.      &#x2F;&#x2F; If this &quot;action&quot; is really a function, call it and return the result.      &#x2F;&#x2F; è¿™ä¸ªthunkä¸­é—´ä»¶ä¼šæŸ¥æ‰¾store.dispatchä¼ å…¥çš„ä»»ä½•å‡½æ•°ã€‚å¦‚æœè¿™ä¸ª&quot;action&quot;æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨å®ƒå¹¶è¿”å›ç»“æœã€‚      if (typeof action &#x3D;&#x3D;&#x3D; &quot;function&quot;) &#123;        &#x2F;&#x2F; Inject the store&#39;s &#96;dispatch&#96; and &#96;getState&#96; methods, as well as any &quot;extra arg&quot;        &#x2F;&#x2F; æ³¨å…¥storeçš„dispatchå’ŒgetStateæ–¹æ³•ï¼Œä»¥åŠä»»æ„çš„&quot;extra arg&quot;        return action(dispatch, getState, extraArgument);      &#125;      &#x2F;&#x2F; å¦åˆ™ï¼Œåƒå¾€å¸¸ä¸€æ ·å°†æ“ä½œä¼ é€’ç»™ä¸­é—´ä»¶é“¾      &#x2F;&#x2F; Otherwise, pass the action down the middleware chain as usual      return next(action);    &#125;;  return middleware;&#125;</code></pre><p><strong>ä¸­é—´ä»¶æ¨¡å¼</strong></p><p>æŸ¯é‡ŒåŒ–ï¼šå°†ä¸€ä¸ªå‡½æ•°çš„å‚æ•°åˆ†è§£æˆå¤šä¸ªå‚æ•°ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªæ–°çš„å‡½æ•°å¯ä»¥è¢«è°ƒç”¨ï¼Œå¹¶ä¸”è¿”å›åŸå‡½æ•°çš„ç»“æœã€‚</p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">const anotherExampleMiddleware &#x3D; storeAPI &#x3D;&gt; next &#x3D;&gt; action &#x3D;&gt; &#123;  &#x2F;&#x2F; Do something in here, when each action is dispatched  return next(action)&#125;</code></pre><p><strong>storeAPI</strong></p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">&#x2F;&#x2F; storeAPIconst store &#x3D; &#123;  dispatch: dispatch as Dispatch&lt;A&gt;,  subscribe,  getState,  replaceReducer,  [$$observable]: observable&#125; as unknown as Store&lt;ExtendState&lt;S, StateExt&gt;, A, StateExt, Ext&gt; &amp; Ext</code></pre><p><em>å·¥å‚æ¨¡å¼</em></p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">const thunk &#x3D; createThunkMiddleware() as ThunkMiddleware &amp; &#123;  withExtraArgument&lt;    ExtraThunkArg,    State &#x3D; any,    BasicAction extends Action &#x3D; AnyAction  &gt;(    extraArgument: ExtraThunkArg  ): ThunkMiddleware&lt;State, BasicAction, ExtraThunkArg&gt;&#125;&#x2F;&#x2F; Attach the factory function so users can create a customized version&#x2F;&#x2F; with whatever &quot;extra arg&quot; they want to inject into their thunks&#x2F;&#x2F; å°è¯•å°†å·¥å‚å‡½æ•°é™„åŠ åˆ°ç”¨æˆ·å¯ä»¥åˆ›å»ºä»»ä½•é¢å¤–çš„&quot;extra arg&quot;çš„thunkä¸­é—´ä»¶thunk.withExtraArgument &#x3D; createThunkMiddlewareexport default thunk</code></pre><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://github.com/reduxjs/redux-thunk/blob/master/src/index.ts">redux-thunkæºç </a><br><a href="https://blog.csdn.net/hsany330/article/details/105951197">Reduxä¸­é—´ä»¶ä¹‹redux-thunkä½¿ç”¨è¯¦è§£</a></p>]]></content>
      
      
      <categories>
          
          <category> redux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redux </tag>
            
            <tag> æºç  </tag>
            
            <tag> redux-thunk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>js ä»£ç æ³¨é‡Š</title>
      <link href="//post/2022-05-26code.html"/>
      <url>//post/2022-05-26code.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä»£ç æ³¨é‡Š"><a href="#ä»£ç æ³¨é‡Š" class="headerlink" title="ä»£ç æ³¨é‡Š"></a>ä»£ç æ³¨é‡Š</h2><p><code>//</code>è¿™ç§jsæ³¨é‡Šä»£ç åœ¨vscodeå…¶ä»–åœ°æ–¹å¼•ç”¨æ—¶å€™ï¼Œæ²¡æœ‰æç¤ºï¼Œ å¦‚æœéœ€è¦æœ‰æç¤ºï¼Œéœ€è¦å†™æˆ<code>/** æç¤º **/</code></p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">å†™æ³•1export enum ELeaveType &#123;  MATERNITY_ &#x3D; 17, &#x2F;&#x2F; &quot;äº§å‡&amp;è¡¥å……å‡&quot;, &quot;è¿ç»­ä½¿ç”¨ï¼Œé¢„äº§æœŸå‰15å¤©&quot;),&#125;å†™æ³•2export enum ELeaveType &#123;  &#x2F;&#x2F; &quot;äº§å‡&amp;è¡¥å……å‡&quot;, &quot;è¿ç»­ä½¿ç”¨ï¼Œé¢„äº§æœŸå‰15å¤©&quot;),  MATERNITY_ &#x3D; 17, &#125;</code></pre><p><img src="http://t-blog-images.aijs.top/img/20220526153244.webp"></p><h2 id="æœ‰æç¤ºæ³¨é‡Šå†™æ³•"><a href="#æœ‰æç¤ºæ³¨é‡Šå†™æ³•" class="headerlink" title="æœ‰æç¤ºæ³¨é‡Šå†™æ³•"></a>æœ‰æç¤ºæ³¨é‡Šå†™æ³•</h2><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">export enum ELeaveType &#123;...  &#x2F;**&quot;äº§å‡&amp;è¡¥å……å‡&quot;, &quot;è¿ç»­ä½¿ç”¨ï¼Œé¢„äº§æœŸå‰15å¤©&quot;),**&#x2F;  MATERNITY_ &#x3D; 17, ...&#125;</code></pre><p><img src="http://t-blog-images.aijs.top/img/20220526153709.webp"></p>]]></content>
      
      
      <categories>
          
          <category> code </category>
          
      </categories>
      
      
        <tags>
            
            <tag> code </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redux æºç  2</title>
      <link href="//post/2022-05-25.redux2.html"/>
      <url>//post/2022-05-25.redux2.html</url>
      
        <content type="html"><![CDATA[<h2 id="redux-ç®€ä»‹"><a href="#redux-ç®€ä»‹" class="headerlink" title="redux ç®€ä»‹"></a>redux ç®€ä»‹</h2><p>Predictable state container for JavaScript apps</p><p>å­—é¢æ„æ€</p><p>jsåº”ç”¨å¯é¢„æµ‹çŠ¶æ€å®¹å™¨</p><p><img src="http://t-blog-images.aijs.top/img/20220527091836.webp"></p><h2 id="æ€ä¹ˆç”¨ï¼Œä¸ºä»€ä¹ˆç”¨"><a href="#æ€ä¹ˆç”¨ï¼Œä¸ºä»€ä¹ˆç”¨" class="headerlink" title="æ€ä¹ˆç”¨ï¼Œä¸ºä»€ä¹ˆç”¨"></a>æ€ä¹ˆç”¨ï¼Œä¸ºä»€ä¹ˆç”¨</h2><p><a href="https://redux.js.org/">çœ‹å®˜ç½‘ã€‚ã€‚ã€‚</a></p><h2 id="createStore"><a href="#createStore" class="headerlink" title="createStore"></a>createStore</h2><p><strong>ä»£ç æ³¨é‡Šå¦‚ä¸‹</strong></p><ul><li>redux storeæŒæœ‰stateæ ‘ï¼Œå”¯ä¸€å¯ä»¥æ”¹å˜storeä¸­æ•°æ®çš„æ–¹å¼æ˜¯dispatch</li><li>åœ¨ä½ çš„appä¸­åº”è¯¥æœ‰å”¯ä¸€ä¸€ä¸ªstore.ä¸ºäº†åŒºåˆ†ä¸åŒéƒ¨åˆ†å“åº”æ“ä½œçš„çš„çŠ¶æ€æ ‘ï¼Œå¯ä»¥å°†å‡ ä¸ªreduceré€šè¿‡combinereducersåˆå¹¶ä¸ºä¸€ä¸ªreducer</li><li>ä¸€ä¸ªæ ¹æ®å½“å‰stateå’Œè¡Œä¸ºè¿”å›æ–°stateçš„å‡½æ•°</li><li>åˆå§‹stateï¼Œ</li><li>storeä¸­é—´ä»¶ã€‚å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶å¢å¼ºstore</li><li>redux store å¯ä»¥è¯»å–stateï¼Œdispatchè¡Œä¸ºï¼Œè®¢é˜…æ”¹å˜</li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">&#x2F;** * Creates a Redux store that holds the state tree. * The only way to change the data in the store is to call &#96;dispatch()&#96; on it. *  * redux storeæŒæœ‰stateæ ‘ï¼Œå”¯ä¸€å¯ä»¥æ”¹å˜storeä¸­æ•°æ®çš„æ–¹å¼æ˜¯dispatch *  * There should only be a single store in your app. To specify how different * parts of the state tree respond to actions, you may combine several reducers * into a single reducer function by using &#96;combineReducers&#96;. * * åœ¨ä½ çš„appä¸­åº”è¯¥æœ‰å”¯ä¸€ä¸€ä¸ªstore.ä¸ºäº†åŒºåˆ†ä¸åŒéƒ¨åˆ†å“åº”æ“ä½œçš„çš„çŠ¶æ€æ ‘ï¼Œå¯ä»¥å°†å‡ ä¸ªreduceré€šè¿‡combinereducersåˆå¹¶ä¸ºä¸€ä¸ªreducer *  * @param reducer A function that returns the next state tree, given * the current state tree and the action to handle. *  * ä¸€ä¸ªæ ¹æ®å½“å‰stateå’Œè¡Œä¸ºè¿”å›æ–°stateçš„å‡½æ•° * * @param preloadedState The initial state. You may optionally specify it * to hydrate the state from the server in universal apps, or to restore a * previously serialized user session. * If you use &#96;combineReducers&#96; to produce the root reducer function, this must be * an object with the same shape as &#96;combineReducers&#96; keys. * * åˆå§‹stateï¼Œ *  * @param enhancer The store enhancer. You may optionally specify it * to enhance the store with third-party capabilities such as middleware, * time travel, persistence, etc. The only store enhancer that ships with Redux * is &#96;applyMiddleware()&#96;. * * storeä¸­é—´ä»¶ã€‚å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶å¢å¼ºstore *  * @returns A Redux store that lets you read the state, dispatch actions * and subscribe to changes. *  * redux store å¯ä»¥è¯»å–stateï¼Œdispatchè¡Œä¸ºï¼Œè®¢é˜…æ”¹å˜ *&#x2F;</code></pre><p><strong>å‡½æ•°å£°æ˜</strong></p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">export default function createStore&lt;  S,  A extends Action,  Ext &#x3D; &#123;&#125;,  StateExt &#x3D; never&gt;(  reducer: Reducer&lt;S, A&gt;, &#x2F;&#x2F; reducer  enhancer?: StoreEnhancer&lt;Ext, StateExt&gt;&#x2F;&#x2F; ä¸­é—´ä»¶): Store&lt;ExtendState&lt;S, StateExt&gt;, A, StateExt, Ext&gt; &amp; Extexport default function createStore&lt;  S,  A extends Action,  Ext &#x3D; &#123;&#125;,  StateExt &#x3D; never&gt;(  reducer: Reducer&lt;S, A&gt;, &#x2F;&#x2F; reducer  preloadedState?: PreloadedState&lt;S&gt;, &#x2F;&#x2F; &#x2F;&#x2F;åˆå§‹çŠ¶æ€  enhancer?: StoreEnhancer&lt;Ext, StateExt&gt; &#x2F;&#x2F; ä¸­é—´ä»¶): Store&lt;ExtendState&lt;S, StateExt&gt;, A, StateExt, Ext&gt; &amp; Extexport default function createStore&lt;  S,  A extends Action,  Ext &#x3D; &#123;&#125;,  StateExt &#x3D; never&gt;(  reducer: Reducer&lt;S, A&gt;,&#x2F;&#x2F; reducer  preloadedState?: PreloadedState&lt;S&gt; | StoreEnhancer&lt;Ext, StateExt&gt;, &#x2F;&#x2F;åˆå§‹çŠ¶æ€  enhancer?: StoreEnhancer&lt;Ext, StateExt&gt;&#x2F;&#x2F; ä¸­é—´ä»¶  &#x2F;&#x2F; è¿™é‡Œå¯ä»¥çœ‹åˆ° preloadedStateçš„å‚æ•°| StoreEnhancer&lt;Ext, StateExt&gt; ä¸ enhancerç±»å‹ä¸€è‡´ï¼Œ è¿™é‡Œå¤„ç†ç¬¬äºŒå‚æ•°å¯èƒ½æ˜¯ enhancer  &#x2F;&#x2F; ä»£ç ä¸»ä½“åˆ†æœ‰åšåˆ¤æ–­ï¼š  &#x2F;&#x2F; if (typeof preloadedState &#x3D;&#x3D;&#x3D; &#39;function&#39; &amp;&amp; typeof enhancer &#x3D;&#x3D;&#x3D; &#39;undefined&#39;) &#123;  &#x2F;&#x2F;   enhancer &#x3D; preloadedState as StoreEnhancer&lt;Ext, StateExt&gt;  &#x2F;&#x2F;   preloadedState &#x3D; undefined  &#x2F;&#x2F; &#125; ): Store&lt;ExtendState&lt;S, StateExt&gt;, A, StateExt, Ext&gt; &amp; Ext &#123;&#125;</code></pre><p><strong>createStore ä¸»ä½“ä»£ç </strong></p><ul><li>ä¸€äº›å…¥å‚æ ¡éªŒ</li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">if (  (typeof preloadedState &#x3D;&#x3D;&#x3D; &#39;function&#39; &amp;&amp; typeof enhancer &#x3D;&#x3D;&#x3D; &#39;function&#39;) ||  (typeof enhancer &#x3D;&#x3D;&#x3D; &#39;function&#39; &amp;&amp; typeof arguments[3] &#x3D;&#x3D;&#x3D; &#39;function&#39;)) &#123;  throw new Error(    &#39;It looks like you are passing several store enhancers to &#39; +      &#39;createStore(). This is not supported. Instead, compose them &#39; +      &#39;together to a single function. See https:&#x2F;&#x2F;redux.js.org&#x2F;tutorials&#x2F;fundamentals&#x2F;part-4-store#creating-a-store-with-enhancers for an example.&#39;  )&#125;if (typeof preloadedState &#x3D;&#x3D;&#x3D; &#39;function&#39; &amp;&amp; typeof enhancer &#x3D;&#x3D;&#x3D; &#39;undefined&#39;) &#123;  enhancer &#x3D; preloadedState as StoreEnhancer&lt;Ext, StateExt&gt;  preloadedState &#x3D; undefined&#125;if (typeof enhancer !&#x3D;&#x3D; &#39;undefined&#39;) &#123;  if (typeof enhancer !&#x3D;&#x3D; &#39;function&#39;) &#123;    throw new Error(      &#96;Expected the enhancer to be a function. Instead, received: &#39;$&#123;kindOf(        enhancer      )&#125;&#39;&#96;    )  &#125;  return enhancer(createStore)(    reducer,    preloadedState as PreloadedState&lt;S&gt;  ) as Store&lt;ExtendState&lt;S, StateExt&gt;, A, StateExt, Ext&gt; &amp; Ext&#125;if (typeof reducer !&#x3D;&#x3D; &#39;function&#39;) &#123;  throw new Error(    &#96;Expected the root reducer to be a function. Instead, received: &#39;$&#123;kindOf(      reducer    )&#125;&#39;&#96;  )&#125;&#x2F;&#x2F; å½“å‰reducerlet currentReducer &#x3D; reducer&#x2F;&#x2F; å½“å‰çŠ¶æ€let currentState &#x3D; preloadedState as S&#x2F;&#x2F; å½“å‰è®¢é˜…let currentListeners: (() &#x3D;&gt; void)[] | null &#x3D; []&#x2F;&#x2F; æ–°çš„è®¢é˜…let nextListeners &#x3D; currentListenerslet isDispatching &#x3D; false&#x2F;** * This makes a shallow copy of currentListeners so we can use * nextListeners as a temporary list while dispatching. * * This prevents any bugs around consumers calling * subscribe&#x2F;unsubscribe in the middle of a dispatch. *&#x2F;&#x2F;&#x2F; æµ…æ‹·è´å½“å‰currentListenerså¾—åˆ° nextListeners ç”¨äº dispatching   &#x2F;&#x2F; ç¡®å®šæ–°çš„å¯å˜ç›‘å¬function ensureCanMutateNextListeners() &#123;  ã€‚ã€‚ã€‚&#125;&#x2F;&#x2F; è·å–storeçš„çŠ¶æ€function getState(): S &#123;  ã€‚ã€‚ã€‚&#125;&#x2F;&#x2F; ä¼ å…¥ç›‘å¬ï¼Œè¿”å›ç›‘å¬ç§»é™¤çš„å‡½æ•°function subscribe(listener: () &#x3D;&gt; void) &#123;  ã€‚ã€‚ã€‚  return function unsubscribe() &#123;    ã€‚ã€‚ã€‚ã€‚  &#125;&#125;function dispatch(action: A) &#123;  ã€‚ã€‚ã€‚&#125;&#x2F;&#x2F; ç”¨äºåŒæ„æ›´æ–°reducerfunction replaceReducer&lt;NewState, NewActions extends A&gt;(  nextReducer: Reducer&lt;NewState, NewActions&gt;): Store&lt;ExtendState&lt;NewState, StateExt&gt;, NewActions, StateExt, Ext&gt; &amp; Ext &#123;  ã€‚ã€‚ã€‚&#125;&#x2F;** * Interoperability point for observable&#x2F;reactive libraries. * @returns A minimal observable of state changes. * For more information, see the observable proposal: * https:&#x2F;&#x2F;github.com&#x2F;tc39&#x2F;proposal-observable *&#x2F;&#x2F;&#x2F; å®ç°å°å‹è§‚å¯ŸçŠ¶æ€å˜æ›´function observable() &#123;  ã€‚ã€‚ã€‚&#125;&#x2F;&#x2F; å½“storeè¢«åˆ›å»ºï¼Œåˆå§‹åŒ–æ“ä½œä¼šè¢«dispatchï¼Œï¼Œæ¯ä¸ªreducerä¼šè¿”å›æœ€åˆçš„state. æœ‰æ•ˆåœ°å¡«å……åˆå§‹çŠ¶æ€æ ‘ã€‚dispatch(&#123; type: ActionTypes.INIT &#125; as A)const store &#x3D; &#123;  dispatch: dispatch as Dispatch&lt;A&gt;,  subscribe,  getState,  replaceReducer,  [$$observable]: observable&#125; as unknown as Store&lt;ExtendState&lt;S, StateExt&gt;, A, StateExt, Ext&gt; &amp; Extreturn store &#x2F;&#x2F; storeä¸Šçš„apiæˆ‘ä»¬åˆç†Ÿæ‚‰äº†</code></pre><p><strong>ensureCanMutateNextListeners</strong></p><ul><li>æµ…æ‹·è´å½“å‰currentListenerså¾—åˆ° nextListeners ç”¨äº dispatching</li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">function ensureCanMutateNextListeners() &#123;  if (nextListeners &#x3D;&#x3D;&#x3D; currentListeners) &#123;    nextListeners &#x3D; currentListeners.slice()  &#125;&#125;</code></pre><p><strong>getState</strong></p><ul><li>è·å–storeçš„çŠ¶æ€</li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">function getState(): S &#123;  if (isDispatching) &#123;    throw new Error(      &#39;You may not call store.getState() while the reducer is executing. &#39; +        &#39;The reducer has already received the state as an argument. &#39; +        &#39;Pass it down from the top reducer instead of reading it from the store.&#39;    )  &#125;  return currentState as S&#125;</code></pre><p><strong>subscribe</strong></p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">&#x2F;**   * Adds a change listener. It will be called any time an action is dispatched,   * and some part of the state tree may potentially have changed. You may then   * call &#96;getState()&#96; to read the current state tree inside the callback.   *   * You may call &#96;dispatch()&#96; from a change listener, with the following   * caveats:   *   * 1. The subscriptions are snapshotted just before every &#96;dispatch()&#96; call.   * If you subscribe or unsubscribe while the listeners are being invoked, this   * will not have any effect on the &#96;dispatch()&#96; that is currently in progress.   * However, the next &#96;dispatch()&#96; call, whether nested or not, will use a more   * recent snapshot of the subscription list.   *   * 2. The listener should not expect to see all state changes, as the state   * might have been updated multiple times during a nested &#96;dispatch()&#96; before   * the listener is called. It is, however, guaranteed that all subscribers   * registered before the &#96;dispatch()&#96; started will be called with the latest   * state by the time it exits.   *   * @param listener A callback to be invoked on every dispatch.   * @returns A function to remove this change listener.   *&#x2F;  &#x2F;&#x2F; ä¸Šè¿°æ³¨é‡Š  &#x2F;** æ·»åŠ ä¸€ä¸ªç›‘å¬ï¼Œåœ¨actionè¢«è§¦å‘æ—¶å€™ä¼šè°ƒç”¨ï¼Œstateä¼šè¿›è¡Œæ›´æ–°ï¼Œåœ¨å›è°ƒä¸­å¯ä»¥ç”¨getStateæ–¹æ³•è·å–å½“å‰çŠ¶æ€æ ‘   * ä¸¤ä¸ªæ³¨æ„ï¼šè®¢é˜…çš„æ˜¯åœ¨æ¯ä¸ªdispatchä¹‹å‰çš„å¿«ç…§ï¼Œ   * 1.   * è®¢é˜…æ˜¯åœ¨æ¯æ¬¡&#39;dispatchï¼ˆï¼‰&#39;è°ƒç”¨ä¹‹å‰è¿›è¡Œå¿«ç…§çš„ã€‚   * å¦‚æœåœ¨è°ƒç”¨ä¾¦å¬å™¨æ—¶è®¢é˜…æˆ–å–æ¶ˆè®¢é˜…ï¼Œè¿™å°†ä¸ä¼šå¯¹å½“å‰æ­£åœ¨è¿›è¡Œçš„â€œdispatchï¼ˆï¼‰â€äº§ç”Ÿä»»ä½•å½±å“ã€‚   * ä½†æ˜¯ï¼Œä¸‹ä¸€ä¸ª&#39;dispatchï¼ˆï¼‰&#39;è°ƒç”¨ï¼ˆæ— è®ºæ˜¯å¦åµŒå¥—ï¼‰å°†ä½¿ç”¨è®¢é˜…åˆ—è¡¨çš„æœ€æ–°å¿«ç…§ã€‚   * 2ã€‚   * ç›‘å¬å™¨ä¸åº”è¯¥æœŸæœ›çœ‹åˆ°æ‰€æœ‰çš„çŠ¶æ€æ›´æ”¹ï¼Œå› ä¸ºåœ¨è°ƒç”¨ç›‘å¬å™¨ä¹‹å‰ï¼ŒçŠ¶æ€å¯èƒ½åœ¨åµŒå¥—çš„&#39;dispatchï¼ˆï¼‰&#39;æœŸé—´è¢«å¤šæ¬¡æ›´æ–°ã€‚   * ä½†æ˜¯ï¼Œå¯ä»¥ä¿è¯åœ¨â€œdispatchï¼ˆï¼‰â€å¯åŠ¨ä¹‹å‰æ³¨å†Œçš„æ‰€æœ‰è®¢é˜…è€…åœ¨é€€å‡ºæ—¶éƒ½å°†ä»¥æœ€æ–°çŠ¶æ€è°ƒç”¨ã€‚   * *&#x2F;  function subscribe(listener: () &#x3D;&gt; void) &#123;    if (typeof listener !&#x3D;&#x3D; &#39;function&#39;) &#123;      throw new Error(        &#96;Expected the listener to be a function. Instead, received: &#39;$&#123;kindOf(          listener        )&#125;&#39;&#96;      )    &#125;    if (isDispatching) &#123;      throw new Error(        &#39;You may not call store.subscribe() while the reducer is executing. &#39; +          &#39;If you would like to be notified after the store has been updated, subscribe from a &#39; +          &#39;component and invoke store.getState() in the callback to access the latest state. &#39; +          &#39;See https:&#x2F;&#x2F;redux.js.org&#x2F;api&#x2F;store#subscribelistener for more details.&#39;      )    &#125;    let isSubscribed &#x3D; true    ensureCanMutateNextListeners()    nextListeners.push(listener) &#x2F;&#x2F; å¢åŠ     return function unsubscribe() &#123;      if (!isSubscribed) &#123;        return      &#125;      if (isDispatching) &#123;        throw new Error(          &#39;You may not unsubscribe from a store listener while the reducer is executing. &#39; +            &#39;See https:&#x2F;&#x2F;redux.js.org&#x2F;api&#x2F;store#subscribelistener for more details.&#39;        )      &#125;      isSubscribed &#x3D; false      ensureCanMutateNextListeners()      const index &#x3D; nextListeners.indexOf(listener)      nextListeners.splice(index, 1) &#x2F;&#x2F; ç§»é™¤      currentListeners &#x3D; null    &#125;  &#125;</code></pre><p><strong>dispatch</strong></p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">&#x2F;** * Dispatches an action. It is the only way to trigger a state change. * * The &#96;reducer&#96; function, used to create the store, will be called with the * current state tree and the given &#96;action&#96;. Its return value will * be considered the **next** state of the tree, and the change listeners * will be notified. * * The base implementation only supports plain object actions. If you want to * dispatch a Promise, an Observable, a thunk, or something else, you need to * wrap your store creating function into the corresponding middleware. For * example, see the documentation for the &#96;redux-thunk&#96; package. Even the * middleware will eventually dispatch plain object actions using this method. * * @param action A plain object representing â€œwhat changedâ€. It is * a good idea to keep actions serializable so you can record and replay user * sessions, or use the time travelling &#96;redux-devtools&#96;. An action must have * a &#96;type&#96; property which may not be &#96;undefined&#96;. It is a good idea to use * string constants for action types. * * @returns For convenience, the same action object you dispatched. * * Note that, if you use a custom middleware, it may wrap &#96;dispatch()&#96; to * return something else (for example, a Promise you can await). *&#x2F;function dispatch(action: A) &#123;  if (!isPlainObject(action)) &#123; &#x2F;&#x2F; åªèƒ½æ˜¯ç®€å•çš„å¯¹è±¡    throw new Error(      &#96;Actions must be plain objects. Instead, the actual type was: &#39;$&#123;kindOf(        action      )&#125;&#39;. You may need to add middleware to your store setup to handle dispatching other values, such as &#39;redux-thunk&#39; to handle dispatching functions. See https:&#x2F;&#x2F;redux.js.org&#x2F;tutorials&#x2F;fundamentals&#x2F;part-4-store#middleware and https:&#x2F;&#x2F;redux.js.org&#x2F;tutorials&#x2F;fundamentals&#x2F;part-6-async-logic#using-the-redux-thunk-middleware for examples.&#96;    )  &#125;  if (typeof action.type &#x3D;&#x3D;&#x3D; &#39;undefined&#39;) &#123;    throw new Error(      &#39;Actions may not have an undefined &quot;type&quot; property. You may have misspelled an action type string constant.&#39;    )  &#125;  if (isDispatching) &#123;    throw new Error(&#39;Reducers may not dispatch actions.&#39;)  &#125;  try &#123;    isDispatching &#x3D; true    currentState &#x3D; currentReducer(currentState, action) &#x2F;&#x2F; ä¼ å…¥å½“å‰çŠ¶æ€å’Œæ“ä½œï¼Œè¿”å›æ–°çš„çŠ¶æ€  &#125; finally &#123;    isDispatching &#x3D; false  &#125;  const listeners &#x3D; (currentListeners &#x3D; nextListeners) &#x2F;&#x2F; è§¦å‘æ›´æ–°  for (let i &#x3D; 0; i &lt; listeners.length; i++) &#123;    const listener &#x3D; listeners[i]    listener()  &#125;  return action&#125;</code></pre><h2 id="combineReducers"><a href="#combineReducers" class="headerlink" title="combineReducers"></a>combineReducers</h2><ul><li>ä½¿ç”¨æ—¶å€™ä»¥é”®å€¼å¯¹å½¢å¼å­˜åœ¨</li></ul><p><strong>ä½¿ç”¨</strong></p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">import useInfoReducer from &#39;.&#x2F;userInfo&#39;import recordReducer from &#39;.&#x2F;record&#39;const rootReducer &#x3D; combineReducers(&#123;  useInfoReducer,  recordReducer&#125;)const store &#x3D; createStore(rootReducer)</code></pre><p><strong>æºç </strong></p><ul><li>è¿”å›ä¸æœŸæœ›çš„stateå‹è­¦å‘Šä¿¡æ¯</li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">function getUnexpectedStateShapeWarningMessage(  inputState: object,  reducers: ReducersMapObject,  action: Action,  unexpectedKeyCache: &#123; [key: string]: true &#125;) &#123;  const reducerKeys &#x3D; Object.keys(reducers)  const argumentName &#x3D;    action &amp;&amp; action.type &#x3D;&#x3D;&#x3D; ActionTypes.INIT      ? &#39;preloadedState argument passed to createStore&#39;      : &#39;previous state received by the reducer&#39;  if (reducerKeys.length &#x3D;&#x3D;&#x3D; 0) &#123;    return (      &#39;Store does not have a valid reducer. Make sure the argument passed &#39; +      &#39;to combineReducers is an object whose values are reducers.&#39;    )  &#125;  if (!isPlainObject(inputState)) &#123;    return (      &#96;The $&#123;argumentName&#125; has unexpected type of &quot;$&#123;kindOf(        inputState      )&#125;&quot;. Expected argument to be an object with the following &#96; +      &#96;keys: &quot;$&#123;reducerKeys.join(&#39;&quot;, &quot;&#39;)&#125;&quot;&#96;    )  &#125;  const unexpectedKeys &#x3D; Object.keys(inputState).filter(    key &#x3D;&gt; !reducers.hasOwnProperty(key) &amp;&amp; !unexpectedKeyCache[key]  )  unexpectedKeys.forEach(key &#x3D;&gt; &#123;    unexpectedKeyCache[key] &#x3D; true  &#125;)  if (action &amp;&amp; action.type &#x3D;&#x3D;&#x3D; ActionTypes.REPLACE) return  if (unexpectedKeys.length &gt; 0) &#123;    return (      &#96;Unexpected $&#123;unexpectedKeys.length &gt; 1 ? &#39;keys&#39; : &#39;key&#39;&#125; &#96; +      &#96;&quot;$&#123;unexpectedKeys.join(&#39;&quot;, &quot;&#39;)&#125;&quot; found in $&#123;argumentName&#125;. &#96; +      &#96;Expected to find one of the known reducer keys instead: &#96; +      &#96;&quot;$&#123;reducerKeys.join(&#39;&quot;, &quot;&#39;)&#125;&quot;. Unexpected keys will be ignored.&#96;    )  &#125;&#125; &#x2F;&#x2F; å¯¹ reducerå‹è¿›è¡Œæ–­è¨€function assertReducerShape(reducers: ReducersMapObject) &#123;  Object.keys(reducers).forEach(key &#x3D;&gt; &#123;    const reducer &#x3D; reducers[key]    const initialState &#x3D; reducer(undefined, &#123; type: ActionTypes.INIT &#125;)    if (typeof initialState &#x3D;&#x3D;&#x3D; &#39;undefined&#39;) &#123;      throw new Error(         &#x2F;&#x2F; åˆå§‹åŒ–initialStateæ—¶å€™å¯ä»¥ç”¨null,ä½†æ˜¯ä¸å¯ä»¥ç”¨undefined        &#96;The slice reducer for key &quot;$&#123;key&#125;&quot; returned undefined during initialization. &#96; +          &#96;If the state passed to the reducer is undefined, you must &#96; +          &#96;explicitly return the initial state. The initial state may &#96; +          &#96;not be undefined. If you don&#39;t want to set a value for this reducer, &#96; +          &#96;you can use null instead of undefined.&#96;      )    &#125;    if (      typeof reducer(undefined, &#123;        type: ActionTypes.PROBE_UNKNOWN_ACTION()      &#125;) &#x3D;&#x3D;&#x3D; &#39;undefined&#39;    ) &#123;      throw new Error(         &#x2F;&#x2F; 1.éšæœºç±»å‹&#x2F; redux&#x2F;*ç±»å‹ çš„æ“ä½œç±»å‹ä¸ºreduxç§æœ‰ï¼Œä¸å…è®¸ä½¿ç”¨         &#x2F;&#x2F; 2.åˆå§‹åŒ–çŠ¶æ€ä¸å¯ä»¥æ˜¯undefined,         &#x2F;&#x2F; 3.æ–°çŠ¶æ€å¦‚æœæ˜¯undefinedçš„ï¼Œå¿…é¡»è¿”å›åˆå§‹çŠ¶æ€        &#96;The slice reducer for key &quot;$&#123;key&#125;&quot; returned undefined when probed with a random type. &#96; +          &#96;Don&#39;t try to handle &#39;$&#123;ActionTypes.INIT&#125;&#39; or other actions in &quot;redux&#x2F;*&quot; &#96; +          &#96;namespace. They are considered private. Instead, you must return the &#96; +          &#96;current state for any unknown actions, unless it is undefined, &#96; +          &#96;in which case you must return the initial state, regardless of the &#96; +          &#96;action type. The initial state may not be undefined, but can be null.&#96;      )    &#125;  &#125;)&#125;&#x2F;&#x2F; combineReducersçš„å®ç°ï¼Œå…¶å®å°±æ˜¯å°†å¤šä¸ªå€¼ï¼Œåˆå¹¶åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­export default function combineReducers(reducers: ReducersMapObject) &#123;  const reducerKeys &#x3D; Object.keys(reducers)  const finalReducers: ReducersMapObject &#x3D; &#123;&#125;  for (let i &#x3D; 0; i &lt; reducerKeys.length; i++) &#123;    const key &#x3D; reducerKeys[i]    if (typeof reducers[key] &#x3D;&#x3D;&#x3D; &#39;function&#39;) &#123;      finalReducers[key] &#x3D; reducers[key]    &#125;  &#125;  const finalReducerKeys &#x3D; Object.keys(finalReducers)  &#x2F;&#x2F; This is used to make sure we don&#39;t warn about the same  &#x2F;&#x2F; keys multiple times.  &#x2F;&#x2F;è¿™ç”¨äºç¡®ä¿æˆ‘ä»¬ä¸ä¼šå¤šæ¬¡è­¦å‘Šç›¸åŒçš„keyã€‚  let unexpectedKeyCache: &#123; [key: string]: true &#125;  return function combination(    state: StateFromReducersMapObject&lt;typeof reducers&gt; &#x3D; &#123;&#125;,    action: AnyAction  ) &#123;    &#x2F;&#x2F;æ ¡éªŒä¿¡æ¯...    let hasChanged &#x3D; false    const nextState: StateFromReducersMapObject&lt;typeof reducers&gt; &#x3D; &#123;&#125;    for (let i &#x3D; 0; i &lt; finalReducerKeys.length; i++) &#123;      const key &#x3D; finalReducerKeys[i]      &#x2F;&#x2F; reducer      const reducer &#x3D; finalReducers[key]      &#x2F;&#x2F; ä¹‹å‰çŠ¶æ€      const previousStateForKey &#x3D; state[key]      &#x2F;&#x2F; æ–°çŠ¶æ€      const nextStateForKey &#x3D; reducer(previousStateForKey, action)      if (typeof nextStateForKey &#x3D;&#x3D;&#x3D; &#39;undefined&#39;) &#123;        const actionType &#x3D; action &amp;&amp; action.type        throw new Error(          &#96;When called with an action of type $&#123;            actionType ? &#96;&quot;$&#123;String(actionType)&#125;&quot;&#96; : &#39;(unknown type)&#39;          &#125;, the slice reducer for key &quot;$&#123;key&#125;&quot; returned undefined. &#96; +            &#96;To ignore an action, you must explicitly return the previous state. &#96; +            &#96;If you want this reducer to hold no value, you can return null instead of undefined.&#96;        )      &#125;      nextState[key] &#x3D; nextStateForKey      &#x2F;&#x2F; åˆ¤æ–­æ˜¯å¦å‘ç”Ÿæ›´æ–°      hasChanged &#x3D; hasChanged || nextStateForKey !&#x3D;&#x3D; previousStateForKey    &#125;    hasChanged &#x3D;      hasChanged || finalReducerKeys.length !&#x3D;&#x3D; Object.keys(state).length      &#x2F;&#x2F; æ›´æ–°è¿”å›æ–°çš„çŠ¶æ€ï¼Œå¦åˆ™è¿”å›ä¹‹å‰çŠ¶æ€    return hasChanged ? nextState : state  &#125;&#125;</code></pre><h2 id="bindActionCreators"><a href="#bindActionCreators" class="headerlink" title="bindActionCreators"></a>bindActionCreators</h2><ul><li>ç»™actionåŒ…è£¹å±‚dispatch</li><li>actionæœ‰ä¸¤ç§ç±»å‹ï¼š å‡½æ•°ã€é”®å€¼å¯¹</li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">export default function bindActionCreators(  actionCreators: ActionCreator&lt;any&gt; | ActionCreatorsMapObject,  dispatch: Dispatch) &#123;  &#x2F;&#x2F; å‡½æ•°ç±»å‹ç›´æ¥bindActionCreatorè¿”å›  if (typeof actionCreators &#x3D;&#x3D;&#x3D; &#39;function&#39;) &#123;    return bindActionCreator(actionCreators, dispatch)  &#125;  if (typeof actionCreators !&#x3D;&#x3D; &#39;object&#39; || actionCreators &#x3D;&#x3D;&#x3D; null) &#123;    throw new Error(      &#96;bindActionCreators expected an object or a function, but instead received: &#39;$&#123;kindOf(        actionCreators      )&#125;&#39;. &#96; +        &#96;Did you write &quot;import ActionCreators from&quot; instead of &quot;import * as ActionCreators from&quot;?&#96;    )  &#125;  const boundActionCreators: ActionCreatorsMapObject &#x3D; &#123;&#125;  &#x2F;&#x2F; å¯¹è±¡éå†è°ƒç”¨bindActionCreator  for (const key in actionCreators) &#123;    const actionCreator &#x3D; actionCreators[key]    if (typeof actionCreator &#x3D;&#x3D;&#x3D; &#39;function&#39;) &#123;      boundActionCreators[key] &#x3D; bindActionCreator(actionCreator, dispatch)    &#125;  &#125;  return boundActionCreators&#125;</code></pre><p><strong>ä½¿ç”¨åŠæµ‹è¯•ä»£ç è§</strong></p><p><code>redux/test/typescript/actionCreators.ts</code></p><p><strong>bindActionCreator</strong></p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">&#x2F;&#x2F; ä½œç”¨æ˜¯æ¯ä¸ªactionCreatorå¢åŠ ä¸€ä¸ªdispatchåŒ…è£¹function bindActionCreator&lt;A extends AnyAction &#x3D; AnyAction&gt;(  actionCreator: ActionCreator&lt;A&gt;,  dispatch: Dispatch) &#123;  return function (this: any, ...args: any[]) &#123;    return dispatch(actionCreator.apply(this, args)) &#x2F;&#x2F; ä¸»è¦ä»£ç   &#125;&#125;</code></pre><h2 id="applyMiddleware"><a href="#applyMiddleware" class="headerlink" title="applyMiddleware"></a>applyMiddleware</h2><ul><li>ä¸­é—´ä»¶</li><li>å¯¹storeèƒ½åŠ›è¿›è¡Œå¢å¼º</li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">export default function applyMiddleware(  ...middlewares: Middleware[]): StoreEnhancer&lt;any&gt; &#123;  return (createStore: StoreEnhancerStoreCreator) &#x3D;&gt;    &lt;S, A extends AnyAction&gt;(      reducer: Reducer&lt;S, A&gt;,      preloadedState?: PreloadedState&lt;S&gt;    ) &#x3D;&gt; &#123;      const store &#x3D; createStore(reducer, preloadedState)      &#x2F;&#x2F; å£°æ˜      let dispatch: Dispatch &#x3D; () &#x3D;&gt; &#123;        throw new Error(          &#39;Dispatching while constructing your middleware is not allowed. &#39; +            &#39;Other middleware would not be applied to this dispatch.&#39;        )      &#125;      const middlewareAPI: MiddlewareAPI &#x3D; &#123;        getState: store.getState,                                      &#x2F;&#x2F;ä½¿ç”¨ä¸Šè¿°å‡½æ•°è¿›è¡Œ        dispatch: (action, ...args) &#x3D;&gt; dispatch(action, ...args)      &#125;      &#x2F;&#x2F; ä¸­é—´ä»¶æ•°ç»„      const chain &#x3D; middlewares.map(middleware &#x3D;&gt; middleware(middlewareAPI))      &#x2F;&#x2F; å¢å¼ºçš„æ˜¯dispatch      dispatch &#x3D; compose&lt;typeof dispatch&gt;(...chain)(store.dispatch)      return &#123;        ...store,        dispatch      &#125;    &#125;&#125;&#96;&#96;&#96;ts      const chain &#x3D; middlewares.map(middleware &#x3D;&gt; middleware(middlewareAPI))            dispatch &#x3D; compose&lt;typeof dispatch&gt;(...chain)(store.dispatch)      return &#123;        ...store,        dispatch      &#125;    &#125;&#125;</code></pre><h2 id="compose"><a href="#compose" class="headerlink" title="compose"></a>compose</h2><ul><li>æ´‹è‘±æ¨¡å‹</li></ul><p><strong>ä½¿ç”¨</strong></p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">compose(f, g, h)(...args) &#x3D;&gt; f(g(h(...args)))</code></pre><p><strong>æºç </strong></p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">export default function compose(...funcs: Function[]) &#123;  &#x2F;&#x2F; å‚æ•°é•¿åº¦åˆ¤æ–­  if (funcs.length &#x3D;&#x3D;&#x3D; 0) &#123;    &#x2F;&#x2F; infer the argument type so it is usable in inference down the line    return &lt;T&gt;(arg: T) &#x3D;&gt; arg  &#125;  &#x2F;&#x2F; é•¿åº¦ä¸º1  if (funcs.length &#x3D;&#x3D;&#x3D; 1) &#123;    return funcs[0]  &#125;  &#x2F;&#x2F; ä¸»è¦ä»£ç ä¸€è¡Œ  return funcs.reduce((a, b) &#x3D;&gt; (...args: any) &#x3D;&gt;  a(b(...args)))&#125;</code></pre><p><strong>è®²composeçš„æ–‡ç« </strong></p><p><a href="http://givencui.com/index.php/archives/28/" target="_blank" >è¿™é‡Œæœ‰ä¸€ç¯‡éå¸¸å¥½</a></p><h2 id="DO-NOT-USE-ActionTypes"><a href="#DO-NOT-USE-ActionTypes" class="headerlink" title="__DO_NOT_USE__ActionTypes"></a>__DO_NOT_USE__ActionTypes</h2><ul><li>ä¸€äº›ç§æœ‰çš„actionè¢«reduxä¿ç•™ï¼Œå¯¹äºä¸æ˜ç¡®çš„actionï¼Œå¿…é¡»è¿”å›å½“å‰state.</li><li>å¦‚æœå½“å‰çŠ¶æ€æ˜¯undefined,å¿…é¡»è¿”å›åˆå§‹çŠ¶æ€</li><li>ä¸è¦åœ¨ä»£ç ä¸­ç›´æ¥æ¶‰åŠè¿™äº›action</li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">const ActionTypes &#x3D; &#123;  INIT: &#96;@@redux&#x2F;INIT$&#123;&#x2F;* #__PURE__ *&#x2F; randomString()&#125;&#96;,  REPLACE: &#96;@@redux&#x2F;REPLACE$&#123;&#x2F;* #__PURE__ *&#x2F; randomString()&#125;&#96;,  PROBE_UNKNOWN_ACTION: () &#x3D;&gt; &#96;@@redux&#x2F;PROBE_UNKNOWN_ACTION$&#123;randomString()&#125;&#96;&#125;</code></pre><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><img src="http://t-blog-images.aijs.top/img/reduxæºç å†…å®¹.png"/><h2 id="å›é¡¾"><a href="#å›é¡¾" class="headerlink" title="å›é¡¾"></a>å›é¡¾</h2><p><img src="http://t-blog-images.aijs.top/img/20220527091836.webp"></p><h2 id="å·©å›º"><a href="#å·©å›º" class="headerlink" title="å·©å›º"></a>å·©å›º</h2><p><img src="http://t-blog-images.aijs.top/img/20220527095407.webp"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.51cto.com/u_15283585/2958523">æœ€ç²¾ç®€çš„Reduxæºç è§£æï¼Œçœ‹å®Œä»æ­¤å†ä¹Ÿä¸æ€•é¢è¯•å®˜</a><br><a href="https://www.jianshu.com/p/490fc0d89029">Redux æºç è§£æ</a><br><a href="https://github.com/841660202/redux">github æºç </a></p>]]></content>
      
      
      <categories>
          
          <category> redux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redux </tag>
            
            <tag> æºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>redux æºç  1</title>
      <link href="//post/2022-05-25.redux.html"/>
      <url>//post/2022-05-25.redux.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>A Predictable State Container for JS Apps</p><h2 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h2><pre class="line-numbers language-json" data-language="json"><code class="language-json">&#123;  &quot;name&quot;: &quot;redux&quot;,  &quot;version&quot;: &quot;5.0.0-alpha.0&quot;,  &quot;description&quot;: &quot;Predictable state container for JavaScript apps&quot;,  &quot;keywords&quot;: [    &quot;redux&quot;,    &quot;reducer&quot;,  &#x2F;&#x2F; reducer, reduxæ„æˆç»„æˆä¹‹ä¸€    &quot;state&quot;,    &#x2F;&#x2F; çŠ¶æ€ç®¡ç†    &quot;predictable&quot;,   &#x2F;&#x2F; å¯é¢„æµ‹çš„    &quot;functional&quot;,    &#x2F;&#x2F; çº¯å‡½æ•°çš„    &quot;immutable&quot;,     &#x2F;&#x2F; ä¸å¯å˜çš„    &quot;hot&quot;,    &quot;live&quot;,    &quot;replay&quot;,        &#x2F;&#x2F; å›æ”¾    &quot;flux&quot;,          &#x2F;&#x2F; reduxå¯¹fluxçš„æ”¹è¿›    &quot;elm&quot;            &#x2F;&#x2F; Elm æ˜¯ä¸€é—¨ä¸“æ³¨äºWebå‰ç«¯çš„çº¯å‡½æ•°å¼è¯­è¨€, reducerå—elmå¯å‘  ],  &#x2F;&#x2F; å…¥å£  &quot;main&quot;: &quot;lib&#x2F;redux.js&quot;,  &#x2F;&#x2F; unpkg æ˜¯ä¸€ä¸ªå†…å®¹æºè‡ª npm çš„å…¨çƒå¿«é€Ÿ CDN, å®ƒèƒ½ä»¥å¿«é€Ÿè€Œç®€å•çš„æ–¹å¼æä¾›ä»»æ„åŒ…ã€ä»»æ„æ–‡ä»¶ï¼Œé€šè¿‡ç±»ä¼¼è¿™æ ·çš„ URL ï¼šunpkg.com&#x2F;:package@:version&#x2F;:file  &#x2F;&#x2F; å½“ä½ è®¿é—®: https:&#x2F;&#x2F;unpkg.com&#x2F;redux@4.0.3&#x2F;dist&#x2F;redux.min.js æ˜¯å¯¹åº”redux@4.0.3ç‰ˆæœ¬çš„å‹ç¼©åçš„jsæ–‡ä»¶  &#x2F;&#x2F; å½“ä½ è®¿é—®: https:&#x2F;&#x2F;unpkg.com&#x2F;redux â€”â€”æ ¹æ®package.jsoné…ç½®çš„unpkg, é‡å®šå‘ä¸º--â€”&gt; https:&#x2F;&#x2F;unpkg.com&#x2F;redux@4.0.4&#x2F;dist&#x2F;redux.js , åšäº†ä¸¤æ¬¡é‡å®šå‘  &#x2F;&#x2F; å¦‚ä½•ä½ è®¿é—®: https:&#x2F;&#x2F;unpkg.com&#x2F;redux&#x2F; (æ³¨æ„reduxåæœ‰&#x2F;), æ˜¯ä¸€ä¸ªé¡µé¢  &quot;unpkg&quot;: &quot;dist&#x2F;redux.js&quot;, &#x2F;&#x2F; ç”¨unpkgçš„è£¸urlè®¿é—®æ—¶, æŒ‡å®šåˆ°è¯¥æ–‡ä»¶  &#x2F;**    module      ç‚¹å‡» Setting up multi-platform npm packages æŸ¥çœ‹ç›¸å…³ä»‹ç»ã€‚      å°±åƒ main å­—æ®µä¸€æ ·ï¼Œå®šä¹‰ä¸€ä¸ªé’ˆå¯¹ es6 æ¨¡å—åŠè¯­æ³•çš„å…¥å£æ–‡ä»¶ã€‚      æ„å»ºå·¥å…·åœ¨æ„å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°äº†è¿™ä¸ªå­—æ®µï¼Œä¼šé¦–å…ˆä½¿ç”¨è¿™ä¸ªå­—æ®µæŒ‡å‘çš„æ–‡ä»¶ï¼Œå¦‚æœæœªå®šä¹‰ï¼Œåˆ™å›é€€åˆ° main å­—æ®µæŒ‡å‘çš„æ–‡ä»¶ã€‚      æ”¯æŒçš„å·¥å…·ï¼š      rollup      webpack  **&#x2F;  &quot;module&quot;: &quot;es&#x2F;redux.js&quot;,&#x2F;&#x2F; TypeScriptæ˜¯javascript çš„è¶…é›†, typings&#x2F;typeså­—æ®µ, å®šä¹‰äº†TypeScriptçš„å…¥å£æ–‡ä»¶  &quot;types&quot;: &quot;types&#x2F;index.d.ts&quot;,  &#x2F;&#x2F; å‘å¸ƒä¸Šä¼ å†…å®¹  &#x2F;&#x2F; æ˜¯ä¸€ä¸ªå¯é€‰å­—æ®µ, ç”¨æ¥æè¿°ä½œå°†è½¯ä»¶åŒ…ä½œä¸ºä¾èµ–é¡¹å®‰è£…æ—¶è¦åŒ…å«çš„æ¡ç›®, ç›¸å½“äºç™½åå•, ç±»ä¼¼.gitignoreç±»ä¼¼çš„è¯­æ³•, fileså­—æ®µä¸­åŒ…å«çš„æ–‡ä»¶ä¸èƒ½é€šè¿‡.npmignoreæˆ–.gitignoreæ’é™¤  &quot;files&quot;: [    &quot;dist&quot;,    &quot;lib&quot;,    &quot;es&quot;,    &quot;src&quot;,    &quot;types&quot;  ],  &quot;scripts&quot;: &#123;    ...  &#125;,  &#x2F;&#x2F; è¡¨ç¤ºåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨è¯¥ä¾èµ–, å¯¹åº” npm install xx -S æˆ– npm install xx --save  &quot;dependencies&quot;: &#123;    &quot;@babel&#x2F;runtime&quot;: &quot;^7.16.7&quot;  &#125;,  &#x2F;&#x2F; è¡¨ç¤ºä»…åœ¨å¼€å‘ç¯å¢ƒä¸‹ä½¿ç”¨, ä¸ä¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨çš„ä¾èµ–, å¯¹åº” npm install xx -D æˆ– npm install xx --save-dev  &quot;devDependencies&quot;: &#123;   ...  &#125;,  &quot;npmName&quot;: &quot;redux&quot;,  &#x2F;&#x2F; npmæ–‡ä»¶æ˜ å°„ã€‚æŠŠéœ€è¦åŒæ­¥åˆ° cdnjs çš„æ–‡ä»¶é…ç½®åœ¨è¿™é‡Œã€‚  &quot;npmFileMap&quot;: [    &#123;      &quot;basePath&quot;: &quot;&#x2F;dist&#x2F;&quot;,      &quot;files&quot;: [        &quot;*.js&quot;      ]    &#125;  ],  &#x2F;&#x2F; webpackç›¸å…³å­—æ®µ, å£°æ˜è¯¥æ¨¡å—æ˜¯å¦åŒ…å« sideEffectsï¼ˆå‰¯ä½œç”¨ï¼‰ï¼Œä»è€Œå¯ä»¥ä¸º tree-shaking æä¾›æ›´å¤§çš„ä¼˜åŒ–ç©ºé—´ã€‚  &quot;sideEffects&quot;: false&#125;</code></pre><h2 id="versionå­—æ®µ"><a href="#versionå­—æ®µ" class="headerlink" title="versionå­—æ®µ"></a>versionå­—æ®µ</h2><p>åŒ…çš„ç‰ˆæœ¬, å¿…é¡»æœ‰, è¦ç¬¦åˆ<a href="https://docs.npmjs.com/about-semantic-versioning">semantic versioning guidelines</a>, å‚è€ƒ <a href="https://semver.org/lang/zh-CN/">è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶è§„èŒƒ</a>, å»ºè®®ä»”ç»†é€šè¯»<br><img src="http://t-blog-images.aijs.top/img/20220525140247.webp" width=600 style="object-fit: content"/></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="http://givencui.com/index.php/archives/29/">é…åˆreduxé¡¹ç›®æ·±åº¦äº†è§£package.json</a><br><a href="https://docs.npmjs.com/about-semantic-versioning">semantic versioning guidelines</a><br><a href="https://semver.org/lang/zh-CN/">è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶è§„èŒƒ</a></p><h2 id="æºç ç›®å½•"><a href="#æºç ç›®å½•" class="headerlink" title="æºç ç›®å½•"></a>æºç ç›®å½•</h2><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">.â”œâ”€â”€ applyMiddleware.tsâ”œâ”€â”€ bindActionCreators.tsâ”œâ”€â”€ combineReducers.tsâ”œâ”€â”€ compose.tsâ”œâ”€â”€ createStore.tsâ”œâ”€â”€ index.tsâ”œâ”€â”€ typesâ”‚   â”œâ”€â”€ actions.tsâ”‚   â”œâ”€â”€ middleware.tsâ”‚   â”œâ”€â”€ reducers.tsâ”‚   â””â”€â”€ store.tsâ””â”€â”€ utils    â”œâ”€â”€ actionTypes.ts    â”œâ”€â”€ formatProdErrorMessage.ts    â”œâ”€â”€ isPlainObject.ts    â”œâ”€â”€ kindOf.ts    â”œâ”€â”€ symbol-observable.ts    â””â”€â”€ warning.ts2 directories, 16 files</code></pre><h2 id="index-ts"><a href="#index-ts" class="headerlink" title="index.ts"></a>index.ts</h2><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">export &#123;  createStore,  combineReducers,  bindActionCreators,  applyMiddleware,  compose,  __DO_NOT_USE__ActionTypes&#125;</code></pre>]]></content>
      
      
      <categories>
          
          <category> redux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redux </tag>
            
            <tag> æºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react-redux  æºç 2</title>
      <link href="//post/2022-05-24react-redux2.html"/>
      <url>//post/2022-05-24react-redux2.html</url>
      
        <content type="html"><![CDATA[<p>æºç ç‰ˆæœ¬<code>&quot;version&quot;: &quot;8.0.2&quot;,</code></p><h2 id="Provider"><a href="#Provider" class="headerlink" title="Provider"></a>Provider</h2><ul><li>ä¸»è¦ä½œç”¨é€šè¿‡subscriptionè°ƒç”¨reduxä¸­storeçš„subscriptionäº§ç”Ÿè®¢é˜…ï¼Œè®¢é˜…å†…å®¹æ˜¯onStateChangeçš„å›è°ƒ</li><li>é€šè¿‡reactçš„ProvideråŠŸèƒ½ï¼Œæä¾›ä¼ é€’ç»™æ ¹çš„storeå’Œæ ¹çš„subscriptionç»™åç»­ä½¿ç”¨äº†connectçš„ç»„ä»¶</li></ul><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">&#x2F;* provider ç»„ä»¶ä»£ç  *&#x2F;function Provider(&#123; store, context, children &#125;) &#123;   &#x2F;* åˆ©ç”¨useMemoï¼Œè·Ÿæ®storeå˜åŒ–åˆ›å»ºå‡ºä¸€ä¸ªcontextValue åŒ…å«ä¸€ä¸ªæ ¹å…ƒç´ è®¢é˜…å™¨å’Œå½“å‰store  *&#x2F;   const contextValue &#x3D; useMemo(() &#x3D;&gt; &#123;      &#x2F;* åˆ›å»ºäº†ä¸€ä¸ªæ ¹ Subscription è®¢é˜…å™¨ *&#x2F;    const subscription &#x3D; new Subscription(store)    &#x2F;* subscription çš„ notifyNestedSubs æ–¹æ³• ï¼Œèµ‹å€¼ç»™  onStateChangeæ–¹æ³• *&#x2F;    &#x2F;&#x2F;onStateChangeå°±æ˜¯ä¹‹åè§¦å‘çš„listenr    subscription.onStateChange &#x3D; subscription.notifyNestedSubs      return &#123;      store,      subscription    &#125; &#x2F;*  store æ”¹å˜åˆ›å»ºæ–°çš„contextValue *&#x2F;  &#125;, [store])  &#x2F;*  è·å–æ›´æ–°ä¹‹å‰çš„stateå€¼ ï¼Œå‡½æ•°ç»„ä»¶é‡Œé¢çš„ä¸Šä¸‹æ–‡è¦ä¼˜å…ˆäºç»„ä»¶æ›´æ–°æ¸²æŸ“  *&#x2F;  const previousState &#x3D; useMemo(() &#x3D;&gt; store.getState(), [store])  useEffect(() &#x3D;&gt; &#123;    const &#123; subscription &#125; &#x3D; contextValue    &#x2F;* è§¦å‘trySubscribeæ–¹æ³•æ‰§è¡Œï¼Œåˆ›å»ºlistens *&#x2F;    subscription.trySubscribe() &#x2F;&#x2F; å‘èµ·è®¢é˜…    if (previousState !&#x3D;&#x3D; store.getState()) &#123;        &#x2F;* ç»„ä»¶æ›´æ–°æ¸²æŸ“ä¹‹åï¼Œå¦‚æœæ­¤æ—¶stateå‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆç«‹å³è§¦å‘ subscription.notifyNestedSubs æ–¹æ³•  *&#x2F;        &#x2F;&#x2F;è§¦å‘æ‰€æœ‰çš„listener      subscription.notifyNestedSubs()     &#125;    &#x2F;*   *&#x2F;    return () &#x3D;&gt; &#123;      subscription.tryUnsubscribe()  &#x2F;&#x2F; å¸è½½è®¢é˜…      subscription.onStateChange &#x3D; null    &#125;    &#x2F;*  contextValue state æ”¹å˜å‡ºå‘æ–°çš„ effect *&#x2F;  &#125;, [contextValue, previousState])  &#x2F;&#x2F;è‹¥Provideræ²¡æœ‰æ˜¾ç¤ºä¼ å…¥contextï¼Œåˆ™ä¸ºä½¿ç”¨React.createContextåˆ›å»ºçš„ä¸Šä¸‹æ–‡  const Context &#x3D; context || ReactReduxContext  return &lt;Context.Provider value&#x3D;&#123;contextValue&#125;&gt;&#123;children&#125;&lt;&#x2F;Context.Provider&gt;&#125;</code></pre><h2 id="Subscription"><a href="#Subscription" class="headerlink" title="Subscription"></a>Subscription</h2><ul><li>è®¢é˜…æ¶ˆæ¯ã€å‘èµ·æ›´æ–°</li><li>åœ¨æ ¹çš„Providerçš„ä½œç”¨æ˜¯è°ƒç”¨reduxä¸­storeçš„è®¢é˜…æ–¹æ³•ï¼Œå°†æ ¹çš„onStateChangeè¿›è¡Œè®¢é˜…</li><li>åœ¨å­ä»£ä¸­æ˜¯æ”¶é›†æ‰€æœ‰è¢« connect åŒ…è£¹çš„ç»„ä»¶ä¸­çš„Subscriptionçš„æ›´æ–°å‡½æ•° onstatechangeï¼Œç„¶åå½¢æˆä¸€ä¸ª callback é“¾è¡¨ï¼Œå†ç”±çˆ¶çº§ Subscription ç»Ÿä¸€æ´¾å‘æ‰§è¡Œæ›´æ–°ï¼Œåªä¼šå¾€ä¸Šä¼ é€’ä¸€å±‚ï¼Œä¸ä¼šä¸€ç›´ä¼ é€’ä½¿å¾—æ¯ä¸€ä¸ªä¸Šçº§éƒ½æœ‰è‡ªèº«çš„æ›´æ–°å‡½æ•°</li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">&#x2F;* å‘å¸ƒè®¢é˜…è€…æ¨¡å¼ *&#x2F;export default class Subscription &#123;  constructor(store, parentSub) &#123;    this.store &#x3D; store    this.parentSub &#x3D; parentSub    this.unsubscribe &#x3D; null    this.listeners &#x3D; nullListeners    this.handleChangeWrapper &#x3D; this.handleChangeWrapper.bind(this)  &#125;  &#x2F;* è´Ÿè´£æ£€æµ‹æ˜¯å¦è¯¥ç»„ä»¶è®¢é˜…ï¼Œç„¶åæ·»åŠ è®¢é˜…è€…ä¹Ÿå°±æ˜¯listener *&#x2F;    &#x2F;&#x2F;å½“çˆ¶ä»£è°ƒç”¨è¿‡trySubscribeåï¼Œå­ä»£å†è°ƒç”¨ï¼Œå› ä¸ºthis.unsubscribeæœ‰å€¼ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šå®é™…æ‰§è¡Œçˆ¶ä»£çš„trySubscribeï¼Œè€Œåªæ˜¯å°†listeneræ”¾è¿›çˆ¶ä»£ä¸­ç®¡ç†  addNestedSub(listener) &#123;    this.trySubscribe()    return this.listeners.subscribe(listener)  &#125;  &#x2F;* å‘listenerså‘å¸ƒé€šçŸ¥ *&#x2F;  notifyNestedSubs() &#123;    this.listeners.notify()  &#125;  &#x2F;* å¯¹äº Provide onStateChange å°±æ˜¯ notifyNestedSubs æ–¹æ³•ï¼Œ  å¯¹äº connect åŒ…è£¹æ¥å—æ›´æ–°çš„ç»„ä»¶ ï¼ŒonStateChange å°±æ˜¯ è´Ÿè´£æ›´æ–°ç»„ä»¶çš„å‡½æ•° ã€‚   *&#x2F;  handleChangeWrapper() &#123;    if (this.onStateChange) &#123;      this.onStateChange()    &#125;  &#125;   &#x2F;* åˆ¤æ–­æœ‰æ²¡æœ‰å¼€å¯è®¢é˜… *&#x2F;  isSubscribed() &#123;    return Boolean(this.unsubscribe)  &#125;  &#x2F;* å¼€å¯è®¢é˜…æ¨¡å¼ é¦–å…ˆåˆ¤æ–­å½“å‰è®¢é˜…å™¨æœ‰æ²¡æœ‰çˆ¶çº§è®¢é˜…å™¨ ï¼Œ å¦‚æœæœ‰çˆ¶çº§è®¢é˜…å™¨(å°±æ˜¯çˆ¶çº§Subscription)ï¼ŒæŠŠè‡ªå·±çš„handleChangeWrapperæ”¾å…¥åˆ°ç›‘å¬è€…é“¾è¡¨ä¸­ *&#x2F;  trySubscribe() &#123;    &#x2F;*    parentSubå³æ˜¯provide value é‡Œé¢çš„ Subscription è¿™é‡Œå¯ä»¥ç†è§£ä¸º çˆ¶çº§å…ƒç´ çš„ Subscription    *&#x2F;    &#x2F;&#x2F;å½“Subscriptionæ‰§è¡Œè¿‡ä¸€æ¬¡æ”¹æ–¹æ³•åï¼Œå†è°ƒç”¨å› ä¸ºthis.unsubscribeæœ‰å€¼    &#x2F;&#x2F;æ‰€ä»¥è¯¥æ–¹æ³•è°ƒç”¨ä¸€æ¬¡åå°±ä¸ä¼šå†è¢«è°ƒç”¨äº†    &#x2F;&#x2F;æ„å‘³ç€addNestedSubä¸­åªä¼šæ·»åŠ listenerï¼Œè€Œä¸ä¼šå†è°ƒç”¨trySubscribeï¼Œä½¿å¾—listenerä¸ä¼šå¾€ä¸Šä¼ é€’    if (!this.unsubscribe) &#123;      this.unsubscribe &#x3D; this.parentSub        ? this.parentSub.addNestedSub(this.handleChangeWrapper)        &#x2F;* providerçš„Subscriptionæ˜¯ä¸å­˜åœ¨parentSubï¼Œæ‰€ä»¥æ­¤æ—¶trySubscribe å°±ä¼šè°ƒç”¨ store.subscribe   *&#x2F;        : this.store.subscribe(this.handleChangeWrapper)      this.listeners &#x3D; createListenerCollection()    &#125;  &#125;  &#x2F;* å–æ¶ˆè®¢é˜… *&#x2F;  tryUnsubscribe() &#123;    if (this.unsubscribe) &#123;      this.unsubscribe()      this.unsubscribe &#x3D; null      this.listeners.clear()      this.listeners &#x3D; nullListeners    &#125;  &#125;&#125;</code></pre><ul><li>é¦–å…ˆProvideråˆ›å»º Subscription æ—¶å€™æ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œå°±è¯´æ˜provider ä¸­çš„Subscription ä¸å­˜åœ¨ parentSub ã€‚</li><li>é‚£ä¹ˆå†è°ƒç”¨Providerç»„ä»¶ä¸­useEffecté’©å­ä¸­trySubscribeçš„æ—¶å€™,ä¼šè§¦å‘this.store.subscribe , subscribe å°±æ˜¯ redux çš„ subscribe ,æ­¤æ—¶çœŸæ­£å‘èµ·äº†è®¢é˜…</li><li>è®¢é˜…çš„å†…å®¹æ˜¯notifyNestedSubsï¼Œå³é€šçŸ¥æ ¹ç®¡ç†çš„listenersè§¦å‘<pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">subscription.onStateChange &#x3D; subscription.notifyNestedSubs &#x2F;* å‘listenerså‘å¸ƒé€šçŸ¥ *&#x2F;notifyNestedSubs() &#123;  this.listeners.notify()&#125;</code></pre><h2 id="createListenerCollection"><a href="#createListenerCollection" class="headerlink" title="createListenerCollection"></a>createListenerCollection</h2>é€šè¿‡åŒå‘é“¾è¡¨çš„ç»“æ„ç®¡ç†æ¯ä¸€ä¸ªlistener<br>ä»¥é“¾è¡¨çš„å½¢å¼æ”¶é›†å¯¹åº”çš„ listeners (æ¯ä¸€ä¸ªSubscription) çš„handleChangeWrapperå‡½æ•°å³onStateChangeã€‚<br>é€šè¿‡ batch æ–¹æ³•( react-dom ä¸­çš„ unstable_batchedUpdates ) æ¥è¿›è¡Œæ‰¹é‡æ›´æ–°ï¼Œè®¸å°†ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­çš„æ‰€æœ‰ React æ›´æ–°éƒ½ä¸€èµ·æ‰¹é‡å¤„ç†åˆ°ä¸€ä¸ªæ¸²æŸ“è¿‡ç¨‹ä¸­ã€‚<pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">import &#123; unstable_batchedUpdates as batch &#125; from &#39;.&#x2F;utils&#x2F;reactBatchedUpdates&#39;setBatch(batch)function createListenerCollection() &#123;   &#x2F;* batch ç”±getBatchå¾—åˆ°çš„ unstable_batchedUpdates æ–¹æ³• *&#x2F;  const batch &#x3D; getBatch()  let first &#x3D; null  let last &#x3D; null  return &#123;    &#x2F;* æ¸…é™¤å½“å‰listenersçš„æ‰€æœ‰listener *&#x2F;    clear() &#123;      first &#x3D; null      last &#x3D; null    &#125;,    &#x2F;* æ´¾å‘æ›´æ–° *&#x2F;    notify() &#123;      batch(() &#x3D;&gt; &#123;        let listener &#x3D; first        while (listener) &#123;          listener.callback()          listener &#x3D; listener.next        &#125;      &#125;)    &#125;,    &#x2F;* è·å–listenersçš„æ‰€æœ‰listener *&#x2F;    get() &#123;      let listeners &#x3D; []      let listener &#x3D; first      while (listener) &#123;        listeners.push(listener)        listener &#x3D; listener.next      &#125;      return listeners    &#125;,     &#x2F;* æ¥æ”¶è®¢é˜…ï¼Œå°†å½“å‰çš„callbackï¼ˆhandleChangeWrapperï¼‰å­˜åˆ°å½“å‰çš„é“¾è¡¨ä¸­  *&#x2F;    subscribe(callback) &#123;      let isSubscribed &#x3D; true      let listener &#x3D; (last &#x3D; &#123;        callback,        next: null,        prev: last &#x2F;&#x2F;é¦–æ¬¡lastä¸ºç©º      &#125;)         if (listener.prev) &#123;        listener.prev.next &#x3D; listener      &#125; else &#123;        first &#x3D; listener      &#125;      &#x2F;* å–æ¶ˆå½“å‰ handleChangeWrapper çš„è®¢é˜…*&#x2F;      return function unsubscribe() &#123;        if (!isSubscribed || first &#x3D;&#x3D;&#x3D; null) return        isSubscribed &#x3D; false&#x2F;&#x2F;åŒå‘é“¾è¡¨åˆ é™¤èŠ‚ç‚¹çš„æ“ä½œ        if (listener.next) &#123;          listener.next.prev &#x3D; listener.prev        &#125; else &#123;          last &#x3D; listener.prev        &#125;        if (listener.prev) &#123;          listener.prev.next &#x3D; listener.next        &#125; else &#123;          first &#x3D; listener.next        &#125;      &#125;    &#125;  &#125;&#125;</code></pre><h2 id="connect"><a href="#connect" class="headerlink" title="connect"></a>connect</h2>åŸºæœ¬ä½¿ç”¨<pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">function connect(mapStateToProps?, mapDispatchToProps?, mergeProps?, options?)const mapStateToProps &#x3D; state &#x3D;&gt; (&#123; todos: state.todos &#125;)const mapDispatchToProps &#x3D; dispatch &#x3D;&gt; &#123;  return &#123;    increment: () &#x3D;&gt; dispatch(&#123; type: &#39;INCREMENT&#39; &#125;),    decrement: () &#x3D;&gt; dispatch(&#123; type: &#39;DECREMENT&#39; &#125;),    reset: () &#x3D;&gt; dispatch(&#123; type: &#39;RESET&#39; &#125;)  &#125;&#125;&#x2F;** stateProps , state æ˜ å°„åˆ° props ä¸­çš„å†…å®¹* dispatchPropsï¼Œ dispatch æ˜ å°„åˆ° props ä¸­çš„å†…å®¹ã€‚* ownProps ç»„ä»¶æœ¬èº«çš„ propså½“æœªä¼ é€’æ—¶ï¼Œé»˜è®¤çš„åˆå¹¶è§„åˆ™ä¸º&#123; ...ownProps, ...stateProps, ...dispatchProps &#125;*&#x2F;mergeProps&#x3D;(stateProps, dispatchProps, ownProps) &#x3D;&gt; Objectoptions&#x3D;&#123;  context?: Object,   &#x2F;&#x2F; è‡ªå®šä¹‰ä¸Šä¸‹æ–‡  pure?: boolean, &#x2F;&#x2F; é»˜è®¤ä¸º true , å½“ä¸º true çš„æ—¶å€™ ï¼Œé™¤äº† mapStateToProps å’Œ props ,å…¶ä»–è¾“å…¥æˆ–è€…state æ”¹å˜ï¼Œå‡ä¸ä¼šæ›´æ–°ç»„ä»¶ã€‚  areStatesEqual?: Function, &#x2F;&#x2F; å½“pure true , æ¯”è¾ƒå¼•è¿›store ä¸­stateå€¼ æ˜¯å¦å’Œä¹‹å‰ç›¸ç­‰ã€‚ (next: Object, prev: Object) &#x3D;&gt; boolean  areOwnPropsEqual?: Function, &#x2F;&#x2F; å½“pure true , æ¯”è¾ƒ props å€¼, æ˜¯å¦å’Œä¹‹å‰ç›¸ç­‰ã€‚ (next: Object, prev: Object) &#x3D;&gt; boolean  areStatePropsEqual?: Function, &#x2F;&#x2F; å½“pure true , æ¯”è¾ƒ mapStateToProps åçš„å€¼ æ˜¯å¦å’Œä¹‹å‰ç›¸ç­‰ã€‚  (next: Object, prev: Object) &#x3D;&gt; boolean  areMergedPropsEqual?: Function, &#x2F;&#x2F; å½“ pure ä¸º true æ—¶ï¼Œ æ¯”è¾ƒ ç»è¿‡ mergeProps åˆå¹¶åçš„å€¼ ï¼Œ æ˜¯å¦ä¸ä¹‹å‰ç­‰  (next: Object, prev: Object) &#x3D;&gt; boolean  forwardRef?: boolean, &#x2F;&#x2F;å½“ä¸ºtrue æ—¶å€™,å¯ä»¥é€šè¿‡ref è·å–è¢«connectåŒ…è£¹çš„ç»„ä»¶å®ä¾‹ã€‚&#125;</code></pre><img src="http://t-blog-images.aijs.top/img/20220525105732.webp"></li></ul><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">&#x2F;** * Connects a React component to a Redux store. * * - Without arguments, just wraps the component, without changing the behavior &#x2F; props * * - If 2 params are passed (3rd param, mergeProps, is skipped), default behavior * is to override ownProps (as stated in the docs), so what remains is everything that&#39;s * not a state or dispatch prop * * - When 3rd param is passed, we don&#39;t know if ownProps propagate and whether they * should be valid component props, because it depends on mergeProps implementation. * As such, it is the user&#39;s responsibility to extend ownProps interface from state or * dispatch props or both when applicable * * @param mapStateToProps A function that extracts values from state * @param mapDispatchToProps Setup for dispatching actions * @param mergeProps Optional callback to merge state and dispatch props together * @param options Options for configuring the connection * *&#x2F;function connect&lt;  TStateProps &#x3D; &#123;&#125;,  TDispatchProps &#x3D; &#123;&#125;,  TOwnProps &#x3D; &#123;&#125;,  TMergedProps &#x3D; &#123;&#125;,  State &#x3D; unknown&gt;(  mapStateToProps?: MapStateToPropsParam&lt;TStateProps, TOwnProps, State&gt;,  mapDispatchToProps?: MapDispatchToPropsParam&lt;TDispatchProps, TOwnProps&gt;,  mergeProps?: MergeProps&lt;TStateProps, TDispatchProps, TOwnProps, TMergedProps&gt;,  &#123;    &#x2F;&#x2F; The &#96;pure&#96; option has been removed, so TS doesn&#39;t like us destructuring this to check its existence.    &#x2F;&#x2F; @ts-ignore    pure,    areStatesEqual &#x3D; strictEqual,    areOwnPropsEqual &#x3D; shallowEqual,    areStatePropsEqual &#x3D; shallowEqual,    areMergedPropsEqual &#x3D; shallowEqual,    &#x2F;&#x2F; use React&#39;s forwardRef to expose a ref of the wrapped component    forwardRef &#x3D; false,    &#x2F;&#x2F; the context consumer to use    context &#x3D; ReactReduxContext,  &#125;: ConnectOptions&lt;unknown, unknown, unknown, unknown&gt; &#x3D; &#123;&#125;): unknown &#123;    const Context &#x3D; context  &#x2F;*  * stateProps , state æ˜ å°„åˆ° props ä¸­çš„å†…å®¹  * dispatchPropsï¼Œ dispatch æ˜ å°„åˆ° props ä¸­çš„å†…å®¹ã€‚  * ownProps ç»„ä»¶æœ¬èº«çš„ props  å½“æœªä¼ é€’æ—¶ï¼Œé»˜è®¤çš„åˆå¹¶è§„åˆ™ä¸º  &#123; ...ownProps, ...stateProps, ...dispatchProps &#125;  *&#x2F; &#x2F;* ç»è¿‡ä»£ç†åŒ…è£…åçš„ mapStateToProps,å®Œæˆä¼ å…¥storeç­‰æ“ä½œ*&#x2F;  const initMapStateToProps &#x3D; mapStateToPropsFactory(mapStateToProps)  &#x2F;* ç»è¿‡ä»£ç†åŒ…è£…åçš„ mapDispatchToPropsï¼Œå®Œæˆä¼ å…¥store.dispatchç­‰æ“ä½œ*&#x2F;  const initMapDispatchToProps &#x3D; mapDispatchToPropsFactory(mapDispatchToProps)  &#x2F;* ç»è¿‡ä»£ç†åŒ…è£…åçš„ mergePropsï¼Œç”¨äºå½¢æˆçœŸæ­£çš„ mergePropså‡½æ•°ï¼Œåˆå¹¶ä¸šåŠ¡ç»„ä»¶çš„ props , state æ˜ å°„çš„ props , dispatch æ˜ å°„çš„ props *&#x2F;  const initMergeProps &#x3D; mergePropsFactory(mergeProps)  const shouldHandleStateChanges &#x3D; Boolean(mapStateToProps)  &#x2F;&#x2F;é»˜è®¤çš„é«˜é˜¶ç»„ä»¶connectAdvancedï¼Œå®é™…æ¸²æŸ“çš„ç»„ä»¶æ˜¯å…¶ä¸­è¿”å›çš„ä¸€ä¸ªConnectFunction&#x2F;&#x2F;selectorFactoryä¸ºæ•´åˆconnectæ›´æ–°è¿‡ç¨‹ä¸­çš„å½¢æˆæ–°propsçš„ä¸»è¦å‡½æ•°&#x2F;&#x2F;selectorFactoryä¸ºåé¢çš„finalPropsSelectorFactory  const wrapWithConnect: AdvancedComponentDecorator&lt;    TOwnProps,    WrappedComponentProps  &gt; &#x3D; (WrappedComponent) &#x3D;&gt; &#123;    ...  &#125;&#125;</code></pre><ul><li>å½“æˆ‘ä»¬ä¸å‘connectä¼ é€’ç¬¬ä¸‰ä¸ªå‚æ•°mergeProps çš„æ—¶å€™ï¼Œé»˜è®¤çš„defaultMergePropså¦‚ä¸‹ï¼Œä½œä¸ºæ–°çš„ props ä¼ é€’ç»™äº†ä¸šåŠ¡ç»„ä»¶</li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">export function defaultMergeProps(stateProps, dispatchProps, ownProps) &#123;  return &#123; ...ownProps, ...stateProps, ...dispatchProps &#125;&#125;</code></pre><h2 id="selectorFactory"><a href="#selectorFactory" class="headerlink" title="selectorFactory"></a>selectorFactory</h2><p><img src="http://t-blog-images.aijs.top/img/20220525101153.webp"></p><ul><li>é¦–å…ˆå¾—åˆ°çœŸæ­£connect ç»è¿‡ä¸€å±‚ä»£ç†å‡½æ•° mapStateToProps ,mapDispatchToProps ,mergeProps</li><li>ç„¶åè°ƒç”¨selectorFactory (åœ¨pureæ¨¡å¼ä¸‹ï¼ŒselectorFactory å°±æ˜¯ pureFinalPropsSelectorFactory )<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">export default function finalPropsSelectorFactory(  dispatch,  &#123; initMapStateToProps, initMapDispatchToProps, initMergeProps, ...options &#125;) &#123;  &#x2F;&#x2F; mapStateToProps mapDispatchToProps mergeProps ä¸ºçœŸæ­£connect ç»è¿‡ä¸€å±‚ä»£ç†çš„ proxy å‡½æ•°  const mapStateToProps &#x3D; initMapStateToProps(dispatch, options)  const mapDispatchToProps &#x3D; initMapDispatchToProps(dispatch, options)  const mergeProps &#x3D; initMergeProps(dispatch, options)  &#x2F;&#x2F;é»˜è®¤pureä¸ºtrueï¼ŒselectorFactoryé»˜è®¤ä¸ºpureFinalPropsSelectorFactory  const selectorFactory &#x3D; options.pure ? pureFinalPropsSelectorFactory : impureFinalPropsSelectorFactory   &#x2F;&#x2F; è¿”å›ä¸€ä¸ª å‡½æ•°ç”¨äºç”Ÿæˆæ–°çš„ props   return selectorFactory(    mapStateToProps,    mapDispatchToProps,    mergeProps,    dispatch,    options  )&#125;</code></pre></li></ul><h2 id="pureFinalPropsSelectorFactory"><a href="#pureFinalPropsSelectorFactory" class="headerlink" title="pureFinalPropsSelectorFactory"></a>pureFinalPropsSelectorFactory</h2><p><img src="http://t-blog-images.aijs.top/img/20220525100640.webp"></p><ul><li>å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ï¼Œé‚£ä¹ˆç›´æ¥è°ƒç”¨mergePropsåˆå¹¶ownProps,stateProps,dispatchProps å½¢æˆæœ€ç»ˆçš„propsã€‚</li><li>å¦‚æœä¸æ˜¯ç¬¬ä¸€æ¬¡ï¼Œé‚£ä¹ˆåˆ¤æ–­åˆ°åº•æ˜¯propsè¿˜æ˜¯ store.state å‘ç”Ÿæ”¹å˜ï¼Œç„¶åé’ˆå¯¹é‚£é‡Œå˜åŒ–ï¼Œé‡æ–°ç”Ÿæˆå¯¹åº”çš„propsï¼Œæœ€ç»ˆåˆå¹¶åˆ°çœŸæ­£çš„props</li><li>æ•´ä¸ª selectorFactory é€»è¾‘å°±æ˜¯å½¢æˆæ–°çš„propsä¼ é€’ç»™æˆ‘ä»¬çš„ä¸šåŠ¡ç»„ä»¶ã€‚</li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">&#x2F;** pureç»„ä»¶å¤„ç† ï¼Œ å¯¹æ¯” props æ˜¯å¦å‘ç”Ÿå˜åŒ– ç„¶å åˆå¹¶props *&#x2F;export function pureFinalPropsSelectorFactory(  mapStateToProps,  mapDispatchToProps,  mergeProps,  dispatch,  &#123; areStatesEqual, areOwnPropsEqual, areStatePropsEqual &#125; &#x2F;&#x2F;åˆ¤æ–­ state prop æ˜¯å¦ç›¸ç­‰) &#123;  let hasRunAtLeastOnce &#x3D; false  let state  let ownProps  let stateProps  let dispatchProps  let mergedProps   &#x2F;* ç¬¬ä¸€æ¬¡ ç›´æ¥å½¢æˆ ownProps  stateProps  dispatchProps åˆå¹¶  å½¢æˆæ–°çš„ props *&#x2F;  function handleFirstCall(firstState, firstOwnProps) &#123;    state &#x3D; firstState    ownProps &#x3D; firstOwnProps    &#x2F;&#x2F;è·å–ä¸šåŠ¡ç»„ä»¶ä¸­mapStateToPropså‡½æ•°çš„è¿”å›å€¼    stateProps &#x3D; mapStateToProps(state, ownProps)    &#x2F;&#x2F;è·å–ä¸šåŠ¡ç»„ä»¶ä¸­mapDispatchToPropså‡½æ•°çš„è¿”å›å€¼    dispatchProps &#x3D; mapDispatchToProps(dispatch, ownProps)    &#x2F;&#x2F;åˆå¹¶stateã€dispatchã€ç»„ä»¶è‡ªèº«çš„propsï¼Œå½¢æˆæœ€ç»ˆä¼ é€’ç»™ç»„ä»¶çš„props    mergedProps &#x3D; mergeProps(stateProps, dispatchProps, ownProps)    hasRunAtLeastOnce &#x3D; true    return mergedProps  &#125;    function handleNewPropsAndNewState() &#123;    &#x2F;&#x2F;  props å’Œ state éƒ½æ”¹å˜  mergeProps   &#125;  function handleNewProps() &#123;    &#x2F;&#x2F; props æ”¹å˜  mergeProps  &#125;  function handleNewState() &#123;     &#x2F;&#x2F; state æ”¹å˜ mergeProps  &#125;  &#x2F;*  ä¸æ˜¯ç¬¬ä¸€æ¬¡çš„æƒ…å†µ props æˆ–è€… store.state å‘ç”Ÿæ”¹å˜çš„æƒ…å†µã€‚ *&#x2F;  function handleSubsequentCalls(nextState, nextOwnProps) &#123;      &#x2F;* åˆ¤æ–­ä¸¤æ¬¡ props æ˜¯å¦ç›¸ç­‰ *&#x2F;    const propsChanged &#x3D; !areOwnPropsEqual(nextOwnProps, ownProps)       &#x2F;* åˆ¤æ–­ä¸¤æ¬¡ store.state æ˜¯å¦ç›¸ç­‰ *&#x2F;    const stateChanged &#x3D; !areStatesEqual(nextState, state)    state &#x3D; nextState    ownProps &#x3D; nextOwnProps        &#x2F;&#x2F;æ ¹æ®æ”¹å˜çš„ç±»å‹ä¸åŒï¼Œè¿”å›å¯¹åº”åˆå¹¶ç­–ç•¥ä¸‹çš„props    if (propsChanged &amp;&amp; stateChanged) return handleNewPropsAndNewState()    if (propsChanged) return handleNewProps()    if (stateChanged) return handleNewState()    return mergedProps  &#125;    &#x2F;&#x2F;æ ¹æ®æ˜¯å¦ç¬¬ä¸€æ¬¡å½¢æˆpropsï¼Œæ‰§è¡Œå¯¹åº”æ–¹æ³•  return function pureFinalPropsSelector(nextState, nextOwnProps) &#123;    return hasRunAtLeastOnce      ? handleSubsequentCalls(nextState, nextOwnProps)      : handleFirstCall(nextState, nextOwnProps)  &#125;&#125;</code></pre><h2 id="connectHOC"><a href="#connectHOC" class="headerlink" title="connectHOC"></a>connectHOC</h2><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">const mapStateToProp &#x3D; (store) &#x3D;&gt; (&#123; userInfo: store.root.userInfo &#125;)function Index()&#123;    &#x2F;* ..... *&#x2F;    return &lt;div&gt; &#123; &#x2F;* .... *&#x2F; &#125; &lt;&#x2F;div&gt;&#125;export default connect(mapStateToProp)(Index)</code></pre><ul><li>connect(mapStateToProp)&#x3D;&#x3D;&#x3D;connectAdvanced()</li></ul><details class="custom-details"><summary>ç‚¹å‡»æŸ¥çœ‹æ›´å¤š</summary><ul><li>è¿™éƒ¨åˆ†ä»£ç ï¼Œåœ¨8.x.xç‰ˆæœ¬åœ¨conncetä¸­ç›´æ¥å¤„ç†ï¼Œå¹¶æ²¡æœ‰æ‹†åˆ†ä¸ºå•ç‹¬å‡½æ•°</li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">export default function connectAdvanced(  selectorFactory, &#x2F;&#x2F; æ¯æ¬¡ props,stateæ”¹å˜æ‰§è¡Œ ï¼Œç”¨äºç”Ÿæˆæ–°çš„ propsã€‚  &#123;    getDisplayName &#x3D; name &#x3D;&gt; &#96;ConnectAdvanced($&#123;name&#125;)&#96;,    &#x2F;&#x2F;å¯èƒ½è¢«åŒ…è£…å‡½æ•°ï¼ˆå¦‚connectï¼ˆï¼‰ï¼‰é‡å†™    methodName &#x3D; &#39;connectAdvanced&#39;,    &#x2F;&#x2F;å¦‚æœå®šä¹‰äº†ï¼Œåˆ™ä¼ é€’ç»™åŒ…è£…å…ƒç´ çš„å±æ€§çš„åç§°ï¼ŒæŒ‡ç¤ºè¦å‘ˆç°çš„è°ƒç”¨ã€‚ç”¨äºç›‘è§†react devtoolsä¸­ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ã€‚    renderCountProp &#x3D; undefined,    shouldHandleStateChanges &#x3D; true,  &#x2F;&#x2F;ç¡®å®šæ­¤HOCæ˜¯å¦è®¢é˜…å­˜å‚¨æ›´æ”¹    storeKey &#x3D; &#39;store&#39;,    withRef &#x3D; false,    forwardRef &#x3D; false, &#x2F;&#x2F; æ˜¯å¦ ç”¨ forwarRef æ¨¡å¼    context &#x3D; ReactReduxContext,&#x2F;&#x2F; Provider ä¿å­˜çš„ä¸Šä¸‹æ–‡    ...connectOptions  &#125; &#x3D; &#123;&#125;) &#123;  &#x2F;* ReactReduxContext å°±æ˜¯storeå­˜åœ¨çš„context *&#x2F;  const Context &#x3D; context   &#x2F;* WrappedComponent ä¸ºconnect åŒ…è£¹çš„ç»„ä»¶æœ¬èº«  *&#x2F;     return  function wrapWithConnect(WrappedComponent)&#123;      &#x2F;&#x2F; WrappedComponent è¢« connect çš„ä¸šåŠ¡ç»„ä»¶æœ¬èº«  &#125;&#125;</code></pre><ul><li>æ‹¿åˆ°Provideræä¾›çš„contextä¸Šä¸‹æ–‡</li></ul></details><h2 id="wrapWithConnect"><a href="#wrapWithConnect" class="headerlink" title="wrapWithConnect"></a>wrapWithConnect</h2><p>wrapWithConnectä½œä¸ºé«˜é˜¶ç»„ä»¶ï¼Œä¼šè¿”å›ä¸€ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶ä¼šå¯¹åŸæœ‰çš„ä¸šåŠ¡ç»„ä»¶ï¼Œè¿›è¡Œä¸€ç³»åˆ—å¢å¼ºç­‰å·¥ä½œ<br>åˆ¤æ–­æ˜¯å¦æ˜¯ pure çº¯ç»„ä»¶æ¨¡å¼ï¼Œå¦‚æœæ˜¯ç”¨react.memoåŒ…è£¹,è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œä¼šå‘ pureComponent ä¸€æ ·å¯¹ props è¿›è¡Œæµ…æ¯”è¾ƒ<br>å¦‚æœ connect æœ‰forwardRefé…ç½®é¡¹ï¼Œç”¨React.forwardRefå¤„ç†</p><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">function wrapWithConnect(WrappedComponent) &#123;&#x2F;&#x2F;WrappedComponentä¸ºå®é™…ä¼ é€’çš„ä¸šåŠ¡ç»„ä»¶    const wrappedComponentName &#x3D;      WrappedComponent.displayName || WrappedComponent.name || &#39;Component&#39;      const displayName &#x3D; getDisplayName(wrappedComponentName)        &#x2F;&#x2F;è¦åˆå¹¶éƒ½å†…å®¹ï¼ŒconnectOptionsä¸ºä¸Šä¸€æ­¥é—­åŒ…æ‹¿åˆ°çš„å†…å®¹    const selectorFactoryOptions &#x3D; &#123;      ...connectOptions,      getDisplayName,      methodName,      renderCountProp,      shouldHandleStateChanges,      storeKey,      displayName,      wrappedComponentName,      WrappedComponent    &#125;    const &#123; pure &#125; &#x3D; connectOptions        &#x2F;&#x2F;selectorFactoryä¸ºfinalPropsSelectorFactory    function createChildSelector(store) &#123;      &#x2F;&#x2F; åˆå¹¶å‡½æ•° mergeprops å¾—åˆ°æœ€æ–°çš„props      &#x2F;&#x2F; åŠé»˜è®¤è¿”å›pureFinalPropsSelectorFactoryï¼Œä¼šæ ¹æ®æ˜¯å¦ç¬¬ä¸€æ¬¡åˆå¹¶ã€ä¿®æ”¹ç±»å‹ç­‰è¿›è¡Œä¸åŒç­–ç•¥ç­‰åˆå¹¶ä»¥åŠè¿”å›æœ€ç»ˆéƒ½props      return selectorFactory(store.dispatch, selectorFactoryOptions)    &#125;    &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦æ˜¯pureçº¯ç»„ä»¶æ¨¡å¼ å¦‚æœæ˜¯å°†ç”¨ useMemo ç¼“å­˜ç»„ä»¶æå‡æ€§èƒ½    const usePureOnlyMemo &#x3D; pure ? useMemo : callback &#x3D;&gt; callback()    &#x2F;&#x2F; è´Ÿè´£æ›´æ–°çš„å®¹å™¨å­ç»„ä»¶ï¼Œå¯ä»¥çœ‹ä½œæ˜¯å®é™…æ¸²æŸ“çš„ç±»ç»„ä»¶    function ConnectFunction (props)&#123;        &#x2F;&#x2F; props ä¸º ä¸šåŠ¡ç»„ä»¶ çœŸæ­£çš„ props     &#125;    &#x2F;&#x2F;å¦‚æœ    const Connect &#x3D; pure ? React.memo(ConnectFunction) : ConnectFunction      Connect.WrappedComponent &#x3D; WrappedComponent    Connect.displayName &#x3D; displayName    &#x2F;* forwardRef *&#x2F;    if (forwardRef) &#123;      const forwarded &#x3D; React.forwardRef(function forwardConnectRef(        props,        ref      ) &#123;      &#x2F;&#x2F;connectä¸­æ˜¯å¦ä¼ é€’äº†forwardRefé€‰é¡¹        return &lt;Connect &#123;...props&#125; reactReduxForwardedRef&#x3D;&#123;ref&#125; &#x2F;&gt;      &#125;)        forwarded.displayName &#x3D; displayName      forwarded.WrappedComponent &#x3D; WrappedComponent      &#x2F;&#x2F;hoistStaticsä¸ºä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ï¼Œè´Ÿè´£æŠŠä¸€ä¸ªç±»ä¸­çš„é™æ€å±æ€§æ‹·è´åˆ°å¦ä¸€ä¸ªç±»ä¸­      return hoistStatics(forwarded, WrappedComponent)    &#125;      return hoistStatics(Connect, WrappedComponent)  &#125;&#125;</code></pre><h2 id="ä¸ºä½•è¦ä¼ é€’forwardRefï¼Ÿ"><a href="#ä¸ºä½•è¦ä¼ é€’forwardRefï¼Ÿ" class="headerlink" title="ä¸ºä½•è¦ä¼ é€’forwardRefï¼Ÿ"></a>ä¸ºä½•è¦ä¼ é€’forwardRefï¼Ÿ</h2><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">connect(mapStateToProp,mapDispatchToProps,mergeProps,&#123; forwardRef:true  &#125;)(Child)</code></pre><p>å¦‚æœä¸ä¼ é€’ï¼Œè€Œæ˜¯åœ¨å…¶ä»–ç»„ä»¶ä¸­ç›´æ¥æ”¾refåˆ°ä½¿ç”¨äº†connectçš„ç»„ä»¶ï¼Œåˆ™refå®é™…åº”ç”¨åˆ°çš„æ˜¯ConncectFunctionç»„ä»¶ï¼Œè€ŒéçœŸæ­£çš„WrappedComponentç»„ä»¶<br>æ‰€ä»¥react-reduxæä¾›forwardRefé€‰é¡¹ï¼Œä½¿ç”¨React.forwardRefï¼Œå°†refå®é™…æ”¾åˆ°çœŸæ­£çš„WrappedComponentä¸Š</p><h2 id="ConnectFunction"><a href="#ConnectFunction" class="headerlink" title="ConnectFunction"></a>ConnectFunction</h2><ul><li><p>å®é™…æ¸²æŸ“çš„ç»„ä»¶</p><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">function ConnectFunction(props) &#123;    &#x2F;* TODO:  ç¬¬ä¸€æ­¥ æŠŠ context ForwardedRef props å–å‡ºæ¥ *&#x2F;    &#x2F;&#x2F;å–å‡ºforwardRefå’Œä¼ é€’ç»™ConnectFunctionçš„æ‰€æœ‰é™¤forwardRefçš„props    &#x2F;&#x2F;é™¤äº†forwardRefä»¥å¤–çš„propsä¹Ÿå°±æ˜¯å®é™…ä¸šåŠ¡ä»£ç ä¸­ä¼ é€’ç»™conncecåŒ…è£¹ç»„ä»¶éƒ½props    const [      reactReduxForwardedRef,      wrapperProps &#x2F;&#x2F; props ä¼ é€’çš„props    ] &#x3D; useMemo(() &#x3D;&gt; &#123;      const &#123; reactReduxForwardedRef, ...wrapperProps &#125; &#x3D; props      return [reactReduxForwardedRef, wrapperProps]    &#125;, [props])   &#x2F;&#x2F; è·å–ä¸Šå±‚Provideræä¾›çš„contextï¼Œå¤šä¸ªProvideråªä¼šå–æœ€è¿‘çš„Provider    &#x2F;&#x2F; è·å– contextå†…å®¹ é‡Œé¢å«æœ‰  redux ä¸­store å’Œ subscription    const contextValue &#x3D; useContext(Context)    &#x2F;&#x2F;TODO: åˆ¤æ–­ store æ˜¯å¦æ¥è‡ªprops  didStoreComeFromProps ,æ­£å¸¸æƒ…å†µä¸‹ ï¼Œprop ä¸­æ˜¯ä¸å­˜åœ¨ store æ‰€ä»¥  didStoreComeFromProps &#x3D; false    const didStoreComeFromProps &#x3D;      Boolean(props.store) &amp;&amp;      Boolean(props.store.getState) &amp;&amp;      Boolean(props.store.dispatch)    &#x2F;&#x2F;storeæ˜¯å¦æ¥è‡ªProvideræä¾›çš„ä¸Šä¸‹æ–‡    const didStoreComeFromContext &#x3D;      Boolean(contextValue) &amp;&amp; Boolean(contextValue.store)    &#x2F;&#x2F;æ ¹æ®ä¸¤ç§æƒ…å†µè·å–store    const store &#x3D; didStoreComeFromProps ? props.store : contextValue.store          &#x2F;&#x2F;è¿”å›mergeå‡½æ•° ç”¨äºç”ŸæˆçœŸæ­£ä¼ ç»™å­ç»„ä»¶ props    const childPropsSelector &#x3D; useMemo(() &#x3D;&gt; &#123;    &#x2F;&#x2F;é»˜è®¤æƒ…å†µä¸‹pureä¸ºtrueï¼Œè¿”å›çš„æ˜¯pureFinalPropsSelectorFactory      return createChildSelector(store)    &#125;, [store])    &#x2F;&#x2F; TODO:  ç¬¬äºŒæ­¥  åˆ›å»ºconnectç»„ä»¶è‡ªèº«çš„subscription ç›‘å¬è€…å®ä¾‹      const [subscription, notifyNestedSubs] &#x3D; useMemo(() &#x3D;&gt; &#123;        &#x2F;&#x2F; å¦‚æœæ²¡æœ‰è®¢é˜…æ›´æ–°ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›ï¼Œé»˜è®¤æƒ…å†µä¸‹å¼€å¯äº†è®¢é˜…      if (!shouldHandleStateChanges) return NO_SUBSCRIPTION_ARRAY&#x2F;&#x2F;ä¸ºæ¯ä¸€ä¸ªconncetçš„ç»„ä»¶åˆ›å»ºè®¢é˜…å™¨ï¼Œè·å–ä¸Šå±‚Provideræä¾›çš„contextValue.subscription&#x2F;&#x2F;connctçš„ç»„ä»¶è·å–çš„æ˜¯ä¸Šå±‚çš„Provderæä¾›çš„subscriptionï¼Œæœ‰å¤šä¸ªProviderï¼Œåªä¼šå–å±‚çº§æœ€è¿‘çš„ä¸€ä¸ª&#x2F;&#x2F;æ‰€ä»¥connectä¸­çš„connectç»„ä»¶ï¼Œè·å–åˆ°çš„æ˜¯ç¦»å®ƒæœ€è¿‘çš„Providerä¸­çš„è®¢é˜…å™¨ï¼Œé€šè¿‡å®ƒæ¥ç®¡ç†è‡ªèº«çš„listeneræ›´æ–°å‡½æ•°      const subscription &#x3D; new Subscription(        store,        didStoreComeFromProps ? null : contextValue.subscription &#x2F;&#x2F; å’Œ ä¸Šçº§ &#96;subscription&#96; å»ºç«‹èµ·å…³ç³»ã€‚ this.parentSub &#x3D; contextValue.subscription      )      &#x2F;&#x2F; notifyNestedSubs è§¦å‘ noticy æ‰€æœ‰å­ä»£ listener ç›‘å¬è€… -&gt; è§¦å‘batchæ–¹æ³•,è§¦å‘ batchupdateæ–¹æ³• ,æ‰¹é‡æ›´æ–°      &#x2F;&#x2F;å¹¶æ›´æ–°ä¸€ä¸‹thisæŒ‡å‘      const notifyNestedSubs &#x3D; subscription.notifyNestedSubs.bind(        subscription      )      return [subscription, notifyNestedSubs]    &#125;, [store, didStoreComeFromProps, contextValue])    &#x2F;*  åˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„contextValue ,æŠŠçˆ¶çº§çš„ subscription æ¢æˆè‡ªå·±çš„ subscription   *&#x2F;    const overriddenContextValue &#x3D; useMemo(() &#x3D;&gt; &#123;         if (didStoreComeFromProps) &#123;         return contextValue      &#125;      &#x2F;&#x2F;é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿”å›è‡ªèº«çš„è®¢é˜…å™¨ä»¥åŠreduxä¸­çš„storeç»™è‡ªèº«çš„å­ä»£connectä¸­è·å–      return &#123;        ...contextValue,        subscription      &#125;    &#125;, [didStoreComeFromProps, contextValue, subscription])        &#x2F;&#x2F;å®šä¹‰äº†ä¸€ä¸ªuseReducerï¼Œå½“actualChildPropså˜åŒ–æ—¶ï¼Œè°ƒç”¨dispatchæ–¹æ³•forceComponentUpdateDispatchè¿›è¡Œç»„ä»¶æ›´æ–°    const [      [previousStateUpdateResult], &#x2F;&#x2F;è°ƒç”¨dispatchæ›´æ–°åçš„å†…å®¹      forceComponentUpdateDispatch  &#x2F;*  *&#x2F;    ] &#x3D; useReducer(storeStateUpdatesReducer, EMPTY_ARRAY, initStateUpdates)    &#x2F;&#x2F; TODO: ç¬¬ä¸‰æ­¥ç¼“å­˜ç»„ä»¶æœ¬æ¬¡çš„propsç­‰å†…å®¹ï¼Œåœ¨ä¸‹ä¸€æ¬¡ç»„ä»¶æ›´æ–°æ—¶åšæ¯”è¾ƒ    const lastChildProps &#x3D; useRef() &#x2F;&#x2F;ä¿å­˜ä¸Šä¸€æ¬¡ åˆå¹¶è¿‡çš„ propsä¿¡æ¯ï¼ˆç»è¿‡ ownprops ,stateProps , dispatchProps åˆå¹¶è¿‡çš„ ï¼‰    const lastWrapperProps &#x3D; useRef(wrapperProps) &#x2F;&#x2F;ä¿å­˜æœ¬æ¬¡ä¸šåŠ¡ç»„ä»¶çš„ props     const childPropsFromStoreUpdate &#x3D; useRef() &#x2F;&#x2F;ç”¨æ¥ä¿å­˜æ›´æ–°åçš„æœ€æ–°çš„props    const renderIsScheduled &#x3D; useRef(false) &#x2F;&#x2F; å½“å‰ç»„ä»¶æ˜¯å¦å¤„äºæ¸²æŸ“é˜¶æ®µ        &#x2F;&#x2F; actualChildProps ä¸ºå½“å‰çœŸæ­£å¤„ç†è¿‡åï¼Œç»è¿‡åˆå¹¶çš„ props    const actualChildProps &#x3D; usePureOnlyMemo(() &#x3D;&gt; &#123;        &#x2F;&#x2F; è°ƒç”¨ mergeProps è¿›è¡Œåˆå¹¶ï¼Œè¿”å›åˆå¹¶åçš„æœ€æ–° porps        &#x2F;&#x2F;åŠè°ƒç”¨pureFinalPropsSelectorFactoryåçš„åˆå¹¶ç»“æœ      return childPropsSelector(store.getState(), wrapperProps)         &#x2F;&#x2F;ä¼šåœ¨storeã€è°ƒç”¨äº†checkForUpdatesã€ä¼ é€’ç»™ç»„å»ºçš„propså‘ç”Ÿå˜åŒ–åï¼Œé‡æ–°è®¡ç®—è·å–åˆå¹¶åçš„props     &#125;, [store, previousStateUpdateResult, wrapperProps])   &#x2F;* è´Ÿè´£æ›´æ–°ç¼“å­˜å˜é‡ï¼Œæ–¹ä¾¿ä¸‹ä¸€æ¬¡æ›´æ–°çš„æ—¶å€™æ¯”è¾ƒ *&#x2F;    useEffect(()&#x3D;&gt;&#123;      captureWrapperProps(...[          lastWrapperProps,          lastChildProps,          renderIsScheduled,          wrapperProps,          actualChildProps,          childPropsFromStoreUpdate,          notifyNestedSubs       ])    &#125;)        &#x2F;&#x2F;å®é™…è®¢é˜…æ›´æ–°ç»„ä»¶çš„åœ°æ–¹    useEffect(()&#x3D;&gt;&#123;        subscribeUpdates(...[        shouldHandleStateChanges,        store,        subscription,        childPropsSelector,        lastWrapperProps,        lastChildProps,        renderIsScheduled,        childPropsFromStoreUpdate,        notifyNestedSubs,        forceComponentUpdateDispatch       ])    &#125;,[store, subscription, childPropsSelector])    &#x2F;&#x2F; TODO: ç¬¬å››æ­¥ï¼šæ¸²æŸ“å®é™…æŒ‚è½½çš„ç»„ä»¶ï¼Œé€šè¿‡useMemoè¿›è¡Œç»„ä»¶çš„ç¼“å­˜    const renderedWrappedComponent &#x3D; useMemo(      () &#x3D;&gt; (        &lt;WrappedComponent          &#123;...actualChildProps&#125;          ref&#x3D;&#123;reactReduxForwardedRef&#125;        &#x2F;&gt;      ),      &#x2F;&#x2F;å½“actualChildPropså‘ç”Ÿå˜åŒ–çš„æ—¶å€™é‡æ–°æ¸²æŸ“ç»„ä»¶      &#x2F;&#x2F;è¿™é‡Œå°±æ˜¯ç»„ä»¶é‡æ–°æ¸²æŸ“çš„åŸå› ï¼šä¸»è¦é€šè¿‡ç›‘å¬actualChildPropsçš„å˜åŒ–      [reactReduxForwardedRef, WrappedComponent, actualChildProps]    )    &#x2F;&#x2F; å°†ä¸Šä¸€æ­¥çš„renderedWrappedComponentåŒ…è£¹ä¸€å±‚Provider    &#x2F;&#x2F; æä¾›è¯¥connectç»„ä»¶è‡ªèº«çš„è®¢é˜…å™¨ã€storeç»™å­ä»£ä¸­çš„connectç»„ä»¶è·å–    const renderedChild &#x3D; useMemo(() &#x3D;&gt; &#123;      &#x2F;&#x2F;shouldHandleStateChanges æ¥æº connectæ˜¯å¦æœ‰ç¬¬ä¸€ä¸ªå‚æ•°      if (shouldHandleStateChanges) &#123;        return (          &#x2F;&#x2F; ContextToUse ä¼ é€’ context           &lt;ContextToUse.Provider value&#x3D;&#123;overriddenContextValue&#125;&gt;            &#123;renderedWrappedComponent&#125;          &lt;&#x2F;ContextToUse.Provider&gt;        )      &#125;      return renderedWrappedComponent    &#125;, [ContextToUse, renderedWrappedComponent, overriddenContextValue])    return renderedChild  &#125;</code></pre></li><li><p>åˆ›å»ºè¯¥connectç»„ä»¶è‡ªèº«çš„subscription, å¹¶ä½¿ç”¨ProvideråŒ…è£¹ï¼Œå±‚å±‚ä¼ é€’æ–°çš„context(å¾ˆé‡è¦)</p></li><li><p>æ‰€ä»¥connectç»„ä»¶çš„å­ä»£connectç»„ä»¶ï¼Œè·å–åˆ°çš„éƒ½æ˜¯å…¶ä¸Šå±‚æœ€è¿‘çš„connectæä¾›çš„Providerä¸­çš„è®¢é˜…å™¨ï¼Œç„¶åå°†æ›´æ–°å‡½æ•°checkForUpdatesæ”¾è¿›å…¶ä¸­ç®¡ç†</p></li><li><p>ç„¶åé€šè¿‡ useMemo åˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„ contextValue ,æŠŠçˆ¶çº§çš„ subscription æ¢æˆè‡ªå·±çš„ subscriptionã€‚ç”¨äºé€šè¿‡ Provider ä¼ é€’æ–°çš„ context</p></li><li><p>æ¥ä¸‹æ¥é€šè¿‡useReduceråˆ¶é€ å‡ºçœŸæ­£è§¦å‘æ›´æ–°çš„forceComponentUpdateDispatch è¿™ä¸ªdispatchå‡½æ•°ã€‚ä¹Ÿå°±æ˜¯æ•´ä¸ª state æˆ–è€…æ˜¯ propsæ”¹å˜ï¼Œè§¦å‘ç»„ä»¶æ›´æ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ”¾è¿›checkForUpdatesä¸­æ‰§è¡Œ</p></li></ul><h2 id="captureWrapperProps"><a href="#captureWrapperProps" class="headerlink" title="captureWrapperProps"></a>captureWrapperProps</h2><ul><li>è¿›è¡Œå†…å®¹ç¼“å­˜ï¼Œä¸ºäº†ä¸‹æ¬¡ç»„ä»¶æ›´æ–°è¿›è¡Œæ¯”è¾ƒ<pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">&#x2F;&#x2F;è·å–åŒ…è£…çš„props function captureWrapperProps(  lastWrapperProps,  lastChildProps,  renderIsScheduled,  wrapperProps,  actualChildProps,  childPropsFromStoreUpdate,  notifyNestedSubs) &#123;  lastWrapperProps.current &#x3D; wrapperProps  &#x2F;&#x2F;å­props   lastChildProps.current &#x3D; actualChildProps &#x2F;&#x2F;ç»è¿‡ megeprops ä¹‹åå½¢æˆçš„æ–°prop  renderIsScheduled.current &#x3D; false  &#x2F;&#x2F; å½“å‰ç»„ä»¶æ¸²æŸ“å®Œæˆ&#125;</code></pre></li></ul><h2 id="subscribeUpdates"><a href="#subscribeUpdates" class="headerlink" title="subscribeUpdates"></a>subscribeUpdates</h2><ul><li><p>å®é™…æ·»åŠ æ›´æ–°å›è°ƒçš„åœ°æ–¹</p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">function subscribeUpdates(  shouldHandleStateChanges,  store,  subscription,  childPropsSelector,  lastWrapperProps,  &#x2F;&#x2F;å­props   lastChildProps, &#x2F;&#x2F;ç»è¿‡ megeprops ä¹‹åå½¢æˆçš„ prop  renderIsScheduled,  childPropsFromStoreUpdate,  notifyNestedSubs,  forceComponentUpdateDispatch) &#123;  if (!shouldHandleStateChanges) return   &#x2F;&#x2F; æ•è·å€¼ä»¥æ£€æŸ¥æ­¤ç»„ä»¶æ˜¯å¦å¸è½½ä»¥åŠä½•æ—¶å¸è½½  let didUnsubscribe &#x3D; false  let lastThrownError &#x3D; null   &#x2F;&#x2F;storeæ›´æ–°è®¢é˜…ä¼ æ’­åˆ°æ­¤ç»„ä»¶æ—¶ï¼Œè¿è¡Œæ­¤å›è°ƒ  const checkForUpdates &#x3D; ()&#x3D;&gt;&#123;      &#x2F;&#x2F;....  &#125;  &#x2F;&#x2F;å°†checkForUpdatesä½œä¸ºlistener  subscription.onStateChange &#x3D; checkForUpdates  &#x2F;&#x2F;å¼€å¯è®¢é˜…è€… ï¼Œå½“å‰æ˜¯è¢«connect åŒ…è½¬çš„æƒ…å†µ ä¼šæŠŠ å½“å‰çš„ checkForceUpdate æ”¾åœ¨å­˜å…¥ çˆ¶å…ƒç´ çš„addNestedSubä¸­ã€‚  subscription.trySubscribe()  &#x2F;&#x2F;åœ¨ç¬¬ä¸€æ¬¡å‘ˆç°ä¹‹åä»å­˜å‚¨ä¸­æå–æ•°æ®ï¼Œä»¥é˜²å­˜å‚¨ä»æˆ‘ä»¬å¼€å§‹å°±æ”¹å˜äº†ã€‚  &#x2F;&#x2F;ç¡®ä¿è·å–åˆ°çš„æœ€æ–°çš„store.getState,ç„¶ååˆ¤æ–­æ˜¯å¦æ›´æ–°ç»„ä»¶  checkForUpdates()  &#x2F;* å¸è½½è®¢é˜…èµ· *&#x2F;  const unsubscribeWrapper &#x3D; () &#x3D;&gt; &#123;    didUnsubscribe &#x3D; true    subscription.tryUnsubscribe()    subscription.onStateChange &#x3D; null  &#125;  return unsubscribeWrapper&#125;</code></pre></li><li><p>é¦–å…ˆå£°æ˜ store æ›´æ–°è®¢é˜…ä¼ æ’­åˆ°æ­¤ç»„ä»¶æ—¶çš„å›è°ƒå‡½æ•°checkForUpdatesæŠŠå®ƒèµ‹å€¼ç»™onStateChange,å¦‚æœstoreä¸­çš„stateå‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆåœ¨ç»„ä»¶è®¢é˜…äº†stateå†…å®¹ä¹‹åï¼Œç›¸å…³è”çš„stateæ”¹å˜å°±ä¼šè§¦å‘å½“å‰ç»„ä»¶çš„onStateChange,æ¥åˆå¹¶å¾—åˆ°æ–°çš„props</p></li><li><p>subscription.trySubscribe()æŠŠè®¢é˜…å‡½æ•°onStateChangeç»‘å®šç»™çˆ¶çº§subscription,è¿›è¡Œäº†å±‚å±‚è®¢é˜…</p></li><li><p>ä¸ºäº†ç¡®ä¿æ‹¿åˆ°çš„storeå†…å®¹æ˜¯æœ€æ–°çš„ï¼Œæ‰€ä»¥é¦–å…ˆæ‰§è¡Œäº†ä¸€æ¬¡checkForUpdates<br><img src="https://img-blog.csdnimg.cn/d03af8b00dcd4deaad5bcb09c5cc2903.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA56We5aWH5aSn5Y-U,size_20,color_FFFFFF,t_70,g_se,x_16"></p><h2 id="checkForUpdates"><a href="#checkForUpdates" class="headerlink" title="checkForUpdates"></a>checkForUpdates</h2></li><li><p>åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°çš„å‡½æ•°</p><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">&#x2F;&#x2F;storeæ›´æ–°è®¢é˜…ä¼ æ’­åˆ°æ­¤ç»„ä»¶æ—¶ï¼Œè¿è¡Œæ­¤å›è°ƒconst checkForUpdates &#x3D; () &#x3D;&gt; &#123;  if (didUnsubscribe) &#123;    &#x2F;&#x2F;å¦‚æœå–æ¶ˆè®¢é˜…äº†    return  &#125;   &#x2F;&#x2F; è·å– store é‡Œstate  const latestStoreState &#x3D; store.getState()q  let newChildProps, error  try &#123;    &#x2F;* å¾—åˆ°æœ€æ–°çš„ props *&#x2F;    newChildProps &#x3D; childPropsSelector(      latestStoreState,      lastWrapperProps.current    )  &#125;   &#x2F;&#x2F;å¦‚æœæ–°çš„åˆå¹¶çš„ propsæ²¡æœ‰æ›´æ”¹ï¼Œåˆ™æ­¤å¤„ä¸åšä»»ä½•æ“ä½œ-å±‚å è®¢é˜…æ›´æ–°  if (newChildProps &#x3D;&#x3D;&#x3D; lastChildProps.current) &#123;     if (!renderIsScheduled.current) &#123;        notifyNestedSubs() &#x2F;* é€šçŸ¥å­ä»£ subscription è§¦å‘ checkForUpdates æ¥æ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°ã€‚ *&#x2F;    &#125;  &#125; else &#123;    lastChildProps.current &#x3D; newChildProps    childPropsFromStoreUpdate.current &#x3D; newChildProps    renderIsScheduled.current &#x3D; true    &#x2F;&#x2F; è§¦å‘useReducerçš„dispatchæ¥è¿›è¡Œæ›´æ–°ï¼Œè¯¥dispatchä¼šæ”¹å˜useReducerè¿”å›çš„previousStateUpdateResult    &#x2F;&#x2F; è€ŒpreviousStateUpdateResultæ˜¯ä½œä¸ºactualChildPropsçš„ä¾èµ–é¡¹å¼•å‘actualChildPropsçš„æ”¹å˜    &#x2F;&#x2F; actualChildPropsåˆæ˜¯å®é™…æ¸²æŸ“ç»„ä»¶çš„ä¾èµ–æ€§ï¼Œä»è€Œå¼•å‘ç»„ä»¶çš„é‡æ–°æ¸²æŸ“æ›´æ–°    forceComponentUpdateDispatch(&#123;      type: &#39;STORE_UPDATED&#39;,      payload: &#123;        error      &#125;    &#125;)  &#125;&#125;</code></pre></li><li><p>checkForUpdates é€šè¿‡è°ƒç”¨ childPropsSelectoræ¥å½¢æˆæ–°çš„props,ç„¶ååˆ¤æ–­ä¹‹å‰çš„ prop å’Œå½“å‰æ–°çš„ prop æ˜¯å¦ç›¸ç­‰ã€‚å¦‚æœç›¸ç­‰ï¼Œè¯æ˜æ²¡æœ‰å‘ç”Ÿå˜åŒ–,æ— é¡»æ›´æ–°å½“å‰ç»„ä»¶ï¼Œé‚£ä¹ˆé€šè¿‡è°ƒç”¨notifyNestedSubsæ¥é€šçŸ¥å­ä»£å®¹å™¨ç»„ä»¶ï¼Œæ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°ã€‚å¦‚æœä¸ç›¸ç­‰è¯æ˜è®¢é˜…çš„store.stateå‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç«‹å³æ‰§è¡ŒforceComponentUpdateDispatchæ¥è§¦å‘ç»„ä»¶çš„æ›´æ–°</p></li></ul><h2 id="æ•´ä¸ªè®¢é˜…æµç¨‹"><a href="#æ•´ä¸ªè®¢é˜…æµç¨‹" class="headerlink" title="æ•´ä¸ªè®¢é˜…æµç¨‹"></a>æ•´ä¸ªè®¢é˜…æµç¨‹</h2><p>æ•´ä¸ªè®¢é˜…çš„æµç¨‹æ˜¯ï¼Œå¦‚æœè¢«connectåŒ…è£¹ï¼Œå¹¶ä¸”å…·æœ‰ç¬¬ä¸€ä¸ªå‚æ•°ã€‚é¦–å…ˆé€šè¿‡contextè·å–æœ€è¿‘çš„ subscriptionï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„subscription,å¹¶ä¸”å’Œçˆ¶çº§çš„subscriptionå»ºç«‹èµ·å…³è”ã€‚å½“ç¬¬ä¸€æ¬¡hocå®¹å™¨ç»„ä»¶æŒ‚åœ¨å®Œæˆåï¼Œåœ¨useEffecté‡Œï¼Œè¿›è¡Œè®¢é˜…ï¼Œå°†è‡ªå·±çš„è®¢é˜…å‡½æ•°checkForUpdates,ä½œä¸ºå›è°ƒå‡½æ•°ï¼Œé€šè¿‡trySubscribe å’Œthis.parentSub.addNestedSub ,åŠ å…¥åˆ°çˆ¶çº§subscriptionçš„listenersä¸­ã€‚ç”±æ­¤å®Œæˆæ•´ä¸ªè®¢é˜…æµç¨‹</p><h2 id="æ•´ä¸ªå‘å¸ƒæµç¨‹"><a href="#æ•´ä¸ªå‘å¸ƒæµç¨‹" class="headerlink" title="æ•´ä¸ªå‘å¸ƒæµç¨‹"></a>æ•´ä¸ªå‘å¸ƒæµç¨‹</h2><p>æ•´ä¸ªæ›´æ–°æµç¨‹æ˜¯ï¼Œå½“ç»„ä»¶ä¸­è°ƒç”¨dispatchè§¦å‘äº†reduxçš„stateæ”¹å˜å’Œreduxçš„è®¢é˜…å™¨ï¼Œä»è€Œè§¦å‘æ ¹è®¢é˜…å™¨çš„è§¦å‘listeners.notify ,ä¹Ÿå°±æ˜¯checkForUpdateså‡½æ•°ï¼Œç„¶åcheckForUpdateså‡½æ•°é¦–å…ˆæ ¹æ®mapStoretopropsï¼Œmergepropsç­‰æ“ä½œï¼ŒéªŒè¯è¯¥ç»„ä»¶æ˜¯å¦å‘èµ·è®¢é˜…ï¼Œprops æ˜¯å¦æ”¹å˜ï¼Œå¹¶æ›´æ–°ï¼Œå¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆè§¦å‘useReducerçš„forceComponentUpdateDispatchå‡½æ•°ï¼Œæ¥æ›´æ–°ä¸šåŠ¡ç»„ä»¶ï¼Œå¦‚æœæ²¡æœ‰å‘ç”Ÿæ›´æ–°ï¼Œé‚£ä¹ˆé€šè¿‡è°ƒç”¨notifyNestedSubs,æ¥é€šçŸ¥å½“å‰subscriptionçš„listenersæ£€æŸ¥æ˜¯å¦æ›´æ–°ï¼Œç„¶åå°½å¿ƒå±‚å±‚checkForUpdates,é€çº§å‘ä¸‹ï¼Œå€Ÿæ­¤å®Œæˆæ•´ä¸ªæ›´æ–°æµç¨‹ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>connectä½¿ç”¨æŸ¯é‡ŒåŒ–</li><li>useMemoç¼“å­˜æ¸²æŸ“ç»„ä»¶çš„æ“ä½œ</li><li>å‘å¸ƒè®¢é˜…æ¨¡å¼ä»¥åŠé€šè¿‡åŒå‘é“¾è¡¨æ¥ç®¡ç†</li><li>å¦‚ä½•é€šè¿‡Providerè¿›è¡Œå±‚å±‚è®¢é˜…</li><li>react-reduxè§¦å‘æ›´æ–°çš„ä¾æ®æ˜¯actualChildPropsæ˜¯å¦æ”¹å˜</li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/weixin_43294560/article/details/123284317">react-reduxæºç è§£æ</a><br><a href="https://github.com/841660202/react-redux">github æºç </a><br><a href="https://blog.csdn.net/qq_33715850/article/details/122535984">React-reduxæºç è§£æâ€“å‡†å¤‡çŸ¥è¯†</a><br><a href="https://blog.csdn.net/qq_33715850/article/details/122590433">React-reduxæºç è§£æ</a></p>]]></content>
      
      
      <categories>
          
          <category> react-redux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react-redux </tag>
            
            <tag> redux </tag>
            
            <tag> æºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>react-redux æºç 1</title>
      <link href="//post/2022-05-24react-redux.html"/>
      <url>//post/2022-05-24react-redux.html</url>
      
        <content type="html"><![CDATA[<h2 id="react-reduxå®˜æ–¹ä»‹ç»"><a href="#react-reduxå®˜æ–¹ä»‹ç»" class="headerlink" title="react-reduxå®˜æ–¹ä»‹ç»"></a>react-reduxå®˜æ–¹ä»‹ç»</h2><ul><li>å®˜æ–¹UIç»‘å®šå±‚ã€‚ React Redux is the <code>official React UI bindings layer</code> for Redux. </li><li>ä»reduxçš„storeè¯»æ•°æ®ã€‚ It lets your React components <code>read data from a Redux store</code>,</li><li>è§¦å‘è¡Œä¸ºç»™storeæ¥æ›´æ–°çŠ¶æ€ã€‚and <code>dispatch actions to the store to update state</code>.</li></ul><h2 id="react-redux-æºç "><a href="#react-redux-æºç " class="headerlink" title="react-redux æºç "></a>react-redux æºç </h2><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">.â”œâ”€â”€ alternate-renderers.tsâ”œâ”€â”€ componentsâ”‚Â Â  â”œâ”€â”€ Context.tsâ”‚Â Â  â”œâ”€â”€ Provider.tsxâ”‚Â Â  â””â”€â”€ connect.tsx # å¤§éƒ¨åˆ†ä»£ç éƒ½åœ¨è¿™é‡Œâ”œâ”€â”€ connect # ç»™ connect.tsxä½¿ç”¨â”‚Â Â  â”œâ”€â”€ invalidArgFactory.tsâ”‚Â Â  â”œâ”€â”€ mapDispatchToProps.tsâ”‚Â Â  â”œâ”€â”€ mapStateToProps.tsâ”‚Â Â  â”œâ”€â”€ mergeProps.tsâ”‚Â Â  â”œâ”€â”€ selectorFactory.tsâ”‚Â Â  â”œâ”€â”€ verifySubselectors.tsâ”‚Â Â  â””â”€â”€ wrapMapToProps.tsâ”œâ”€â”€ exports.tsâ”œâ”€â”€ hooksâ”‚Â Â  â”œâ”€â”€ useDispatch.tsâ”‚Â Â  â”œâ”€â”€ useReduxContext.tsâ”‚Â Â  â”œâ”€â”€ useSelector.tsâ”‚Â Â  â””â”€â”€ useStore.tsâ”œâ”€â”€ index.tsâ”œâ”€â”€ next.tsâ”œâ”€â”€ types.tsâ””â”€â”€ utils    â”œâ”€â”€ Subscription.ts    â”œâ”€â”€ batch.ts    â”œâ”€â”€ bindActionCreators.ts    â”œâ”€â”€ isPlainObject.ts    â”œâ”€â”€ reactBatchedUpdates.native.ts    â”œâ”€â”€ reactBatchedUpdates.ts    â”œâ”€â”€ shallowEqual.ts    â”œâ”€â”€ useIsomorphicLayoutEffect.native.ts    â”œâ”€â”€ useIsomorphicLayoutEffect.ts    â”œâ”€â”€ useSyncExternalStore.ts    â”œâ”€â”€ verifyPlainObject.ts    â””â”€â”€ warning.ts</code></pre><h2 id="packge-json"><a href="#packge-json" class="headerlink" title="packge.json"></a>packge.json</h2><pre class="line-numbers language-json" data-language="json"><code class="language-json">&#x2F;&#x2F; packge.json&#123;  &quot;name&quot;: &quot;react-redux&quot;,  &quot;version&quot;: &quot;8.0.2&quot;,  &quot;description&quot;: &quot;Official React bindings for Redux&quot;,  &quot;keywords&quot;: [    &quot;react&quot;,    &quot;reactjs&quot;,    &quot;redux&quot;  ],  &quot;license&quot;: &quot;MIT&quot;,  &quot;author&quot;: &quot;Dan Abramov &lt;dan.abramov@me.com&gt; (https:&#x2F;&#x2F;github.com&#x2F;gaearon)&quot;,  &quot;homepage&quot;: &quot;https:&#x2F;&#x2F;github.com&#x2F;reduxjs&#x2F;react-redux&quot;,  &quot;repository&quot;: &quot;github:reduxjs&#x2F;react-redux&quot;,  &quot;bugs&quot;: &quot;https:&#x2F;&#x2F;github.com&#x2F;reduxjs&#x2F;react-redux&#x2F;issues&quot;,  &#x2F;&#x2F; æ‰¾æ‰¾å…¥å£ï¼Œå…¥å£æœ‰3ç§ï¼š  &quot;main&quot;: &quot;.&#x2F;lib&#x2F;index.js&quot;, &#x2F;&#x2F; å¸¸è§„æ“ä½œå…¥å£  &quot;types&quot;: &quot;.&#x2F;es&#x2F;index.d.ts&quot;, &#x2F;&#x2F; ç±»å‹å…¥å£  &quot;unpkg&quot;: &quot;dist&#x2F;react-redux.js&quot;, &#x2F;&#x2F; cdnå…¥å£  &quot;module&quot;: &quot;es&#x2F;index.js&quot;,&#x2F;&#x2F;esmå…¥å£  &#x2F;&#x2F; npmå‘å¸ƒä¸Šä¼ çš„æ–‡ä»¶  &quot;files&quot;: [    &quot;dist&quot;,    &quot;lib&quot;,    &quot;src&quot;, &#x2F;&#x2F; ä¸€èˆ¬ç”¨äºå¼€å‘é˜¶æ®µä»£ç è°ƒè¯•,soucemap    &quot;es&quot;  ],  &quot;scripts&quot;: &#123;    &#x2F;&#x2F; è„šæœ¬ä¸çœ‹äº†...  &#125;,  &#x2F;&#x2F; é…ç½®äº†ä¾èµ–é¡¹ï¼Œè¿™äº›ä¾èµ–é¡¹ä¸éœ€è¦åœ¨æœ¬åŒ…å®‰è£…ï¼Œåœ¨é¡¹ç›®ä¸­å®‰è£…å³å¯  &quot;peerDependencies&quot;: &#123;    &quot;@types&#x2F;react&quot;: &quot;^16.8 || ^17.0 || ^18.0&quot;,    &quot;@types&#x2F;react-dom&quot;: &quot;^16.8 || ^17.0 || ^18.0&quot;,    &quot;react&quot;: &quot;^16.8 || ^17.0 || ^18.0&quot;,    &quot;react-dom&quot;: &quot;^16.8 || ^17.0 || ^18.0&quot;,    &quot;react-native&quot;: &quot;&gt;&#x3D;0.59&quot;,    &quot;redux&quot;: &quot;^4&quot;  &#125;,  &quot;peerDependenciesMeta&quot;: &#123;    &quot;@types&#x2F;react&quot;: &#123;      &quot;optional&quot;: true    &#125;,    &quot;@types&#x2F;react-dom&quot;: &#123;      &quot;optional&quot;: true    &#125;,    &quot;react-dom&quot;: &#123;      &quot;optional&quot;: true    &#125;,    &quot;react-native&quot;: &#123;      &quot;optional&quot;: true    &#125;,    &quot;redux&quot;: &#123;      &quot;optional&quot;: true    &#125;  &#125;,  &#x2F;&#x2F; å‘å¸ƒåï¼Œä¸šåŠ¡å¼€å‘è€…ä½¿ç”¨ï¼Œéœ€è¦å®‰è£…ï¼Œ&#x2F;&#x2F;è‡ªåŠ¨å®‰è£…  &quot;dependencies&quot;: &#123;    &quot;@babel&#x2F;runtime&quot;: &quot;^7.12.1&quot;,    &quot;@types&#x2F;hoist-non-react-statics&quot;: &quot;^3.3.1&quot;,    &quot;@types&#x2F;use-sync-external-store&quot;: &quot;^0.0.3&quot;,    &quot;hoist-non-react-statics&quot;: &quot;^3.3.2&quot;,    &quot;react-is&quot;: &quot;^18.0.0&quot;,    &quot;use-sync-external-store&quot;: &quot;^1.0.0&quot;  &#125;,  &#x2F;&#x2F; å¼€å‘é˜¶æ®µéœ€è¦ç”¨åˆ°çš„ï¼Œä¸€èˆ¬æ˜¯examplesä¸­demoä½¿ç”¨  &quot;devDependencies&quot;: &#123;    &#x2F;&#x2F;...  &#125;&#125;</code></pre><h2 id="exports-ts"><a href="#exports-ts" class="headerlink" title="exports.ts"></a>exports.ts</h2><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">export &#123;  Provider, &#x2F;&#x2F; import Provider from &#39;.&#x2F;components&#x2F;Provider&#39;  ReactReduxContext, &#x2F;&#x2F; import &#123; ReactReduxContext &#125; from &#39;.&#x2F;components&#x2F;Context&#39;  connect, &#x2F;&#x2F; import connect from &#39;.&#x2F;components&#x2F;connect&#39;  useDispatch, &#x2F;&#x2F; import &#123; useDispatch, createDispatchHook &#125; from &#39;.&#x2F;hooks&#x2F;useDispatch&#39;  createDispatchHook, &#x2F;&#x2F; import &#123; useDispatch, createDispatchHook &#125; from &#39;.&#x2F;hooks&#x2F;useDispatch&#39;  useSelector, &#x2F;&#x2F; import &#123; useSelector, createSelectorHook &#125; from &#39;.&#x2F;hooks&#x2F;useSelector&#39;  createSelectorHook, &#x2F;&#x2F; import &#123; useSelector, createSelectorHook &#125; from &#39;.&#x2F;hooks&#x2F;useSelector&#39;  useStore, &#x2F;&#x2F; import &#123; useStore, createStoreHook &#125; from &#39;.&#x2F;hooks&#x2F;useStore&#39;  createStoreHook, &#x2F;&#x2F; import &#123; useStore, createStoreHook &#125; from &#39;.&#x2F;hooks&#x2F;useStore&#39;  shallowEqual, &#x2F;&#x2F; import shallowEqual from &#39;.&#x2F;utils&#x2F;shallowEqual&#39;&#125;</code></pre><h2 id="Provider"><a href="#Provider" class="headerlink" title="Provider"></a>Provider</h2><p>å…ˆçœ‹ä¸‹ ï¼Œæœ€ç†Ÿæ‚‰çš„api</p><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">&#x2F;&#x2F; components&#x2F;Provider.tsx&#x2F;&#x2F; è¿™ä¸ªç»„ä»¶åšçš„äº‹æƒ…&#x2F;&#x2F; 1. åˆå¹¶æµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„çŠ¶æ€&#x2F;&#x2F; 2. å¯¹äºåŒæ„çš„åº”ç”¨ï¼Œå¤„ç†subscriptionè®¢é˜…function Provider&lt;A extends Action &#x3D; AnyAction&gt;(&#123;  store,  context,  children,  serverState,&#125;: ProviderProps&lt;A&gt;) &#123;  &#x2F;&#x2F; 1.useMemoï¼Œå¯¹å…¥å‚è¿›è¡Œæ ¼å¼åŒ–ã€Œå¤„ç†äº†storeå’Œ æœåŠ¡ç«¯çš„ serverStateã€  const contextValue &#x3D; useMemo(() &#x3D;&gt; &#123;    const subscription &#x3D; createSubscription(store)    return &#123;      store,      subscription,      getServerState: serverState ? () &#x3D;&gt; serverState : undefined,    &#125;  &#125;, [store, serverState])  &#x2F;&#x2F; 2.ä¹‹å‰çš„stateçŠ¶æ€ä»storeä¸­ç›´æ¥è·å–  const previousState &#x3D; useMemo(() &#x3D;&gt; store.getState(), [store])  &#x2F;&#x2F; 3.åŒæ„ç›¸å…³ï¼Œè·³è¿‡  useIsomorphicLayoutEffect(() &#x3D;&gt; &#123;    const &#123; subscription &#125; &#x3D; contextValue    subscription.onStateChange &#x3D; subscription.notifyNestedSubs    subscription.trySubscribe()    if (previousState !&#x3D;&#x3D; store.getState()) &#123;      subscription.notifyNestedSubs()    &#125;    return () &#x3D;&gt; &#123;      subscription.tryUnsubscribe()      subscription.onStateChange &#x3D; undefined    &#125;  &#125;, [contextValue, previousState])  &#x2F;&#x2F; 4.react-reduxä¸Šä¸‹æ–‡  const Context &#x3D; context || ReactReduxContext  &#x2F;&#x2F; @ts-ignore &#39;AnyAction&#39; is assignable to the constraint of type &#39;A&#39;, but &#39;A&#39; could be instantiated with a different subtype  return &lt;Context.Provider value&#x3D;&#123;contextValue&#125;&gt;&#123;children&#125;&lt;&#x2F;Context.Provider&gt; &#x2F;&#x2F; è¿™è¡Œä»£ç æ˜¯ä¸æ˜¯éå¸¸ç†Ÿæ‚‰äº†&#125;export default Provider</code></pre><h2 id="ReactReduxContext"><a href="#ReactReduxContext" class="headerlink" title="ReactReduxContext"></a>ReactReduxContext</h2><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">&#x2F;&#x2F; .&#x2F;components&#x2F;Context.tsx&#x2F;&#x2F; è¿™ä¸ªç»„ä»¶åšçš„äº‹æƒ…&#x2F;&#x2F; 1.åˆ›å»ºä¸ªcreateContext&#x2F;&#x2F; 2.ç»™ä¸ªåå­—displayName&#x2F;&#x2F; ...ç±»å‹ä»£ç ä¸å…³æ³¨export const ReactReduxContext &#x3D;&#x2F;*#__PURE__*&#x2F; React.createContext&lt;ReactReduxContextValue&gt;(null as any)&#x2F;&#x2F; ...ç±»å‹ä»£ç ä¸å…³æ³¨if (process.env.NODE_ENV !&#x3D;&#x3D; &#39;production&#39;) &#123;  ReactReduxContext.displayName &#x3D; &#39;ReactRedux&#39;&#125;export default ReactReduxContext</code></pre><h2 id="connect"><a href="#connect" class="headerlink" title="connect"></a>connect</h2><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">&#x2F;&#x2F; .&#x2F;components&#x2F;connect.tsx&#x2F;&#x2F; è¿™ä¸ªæ–‡ä»¶æ¯”è¾ƒé•¿ï¼Œå…ˆä¸çœ‹&#x2F;&#x2F; hoist-non-react-staticsè¿™ä¸ªä¾èµ–å¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨æ‹·è´éReactçš„é™æ€æ–¹æ³•</code></pre><h2 id="useDispatchã€createDispatchHook"><a href="#useDispatchã€createDispatchHook" class="headerlink" title="useDispatchã€createDispatchHook"></a>useDispatchã€createDispatchHook</h2><p>æŠŠtsç±»å‹åˆ åˆ ï¼Œçœ‹ä¸Šå»æ›´ç®€å•äº†</p><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">&#x2F;&#x2F; .&#x2F;hooks&#x2F;useDispatch&#x2F;&#x2F; ç”¨createDispatchHooké’©å­å·¥å‚åˆ›å»ºäº†ä¸ªé’©å­useDispatchexport function createDispatchHook(context) &#123;  &#x2F;&#x2F; TODO: createStoreHookä¸‹é¢å†çœ‹ï¼Œå…ˆè·³è¿‡  const useStore &#x3D; context &#x3D;&#x3D;&#x3D; ReactReduxContext ? useDefaultStore : createStoreHook(context)  return function useDispatch() &#123;    const store &#x3D; useStore()    &#x2F;&#x2F; @ts-ignore    return store.dispatch  &#125;&#125;&#x2F;** * A hook to access the redux &#96;dispatch&#96; function. * * @returns &#123;any|function&#125; redux store&#39;s &#96;dispatch&#96; function * * @example * * import React, &#123; useCallback &#125; from &#39;react&#39; * import &#123; useDispatch &#125; from &#39;react-redux&#39; * * export const CounterComponent &#x3D; (&#123; value &#125;) &#x3D;&gt; &#123; *   const dispatch &#x3D; useDispatch() *   const increaseCounter &#x3D; useCallback(() &#x3D;&gt; dispatch(&#123; type: &#39;increase-counter&#39; &#125;), []) *   return ( *     &lt;div&gt; *       &lt;span&gt;&#123;value&#125;&lt;&#x2F;span&gt; *       &lt;button onClick&#x3D;&#123;increaseCounter&#125;&gt;Increase counter&lt;&#x2F;button&gt; *     &lt;&#x2F;div&gt; *   ) * &#125; *&#x2F;export const useDispatch &#x3D; &#x2F;*#__PURE__*&#x2F; createDispatchHook()</code></pre><h2 id="useSelectorã€createSelectorHook"><a href="#useSelectorã€createSelectorHook" class="headerlink" title="useSelectorã€createSelectorHook"></a>useSelectorã€createSelectorHook</h2><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">&#x2F;&#x2F; .&#x2F;hooks&#x2F;useSelector&#x2F;&#x2F; ç”¨ createSelectorHook é’©å­å·¥å‚åˆ›å»ºäº†ä¸ªé’©å­ useSelectorlet useSyncExternalStoreWithSelector &#x3D; notInitialized as uSESWSexport const initializeUseSelector &#x3D; (fn: uSESWS) &#x3D;&gt; &#123;  useSyncExternalStoreWithSelector &#x3D; fn&#125;const refEquality: EqualityFn&lt;any&gt; &#x3D; (a, b) &#x3D;&gt; a &#x3D;&#x3D;&#x3D; b&#x2F;&#x2F; ä¸‹é¢çš„ä»£ç ä¿ç•™èŒƒå‹ï¼ŒSelectedexport function createSelectorHook(  context &#x3D; ReactReduxContext): &lt;TState &#x3D; unknown, Selected &#x3D; unknown&gt;(  selector: (state: TState) &#x3D;&gt; Selected,  equalityFn?: EqualityFn&lt;Selected&gt;) &#x3D;&gt; Selected &#123;  const useReduxContext &#x3D;    context &#x3D;&#x3D;&#x3D; ReactReduxContext      ? useDefaultReduxContext      : () &#x3D;&gt; useContext(context)  return function useSelector(    selector,    equalityFn &#x3D; refEquality  ) &#123;    const &#123; store, subscription, getServerState &#125; &#x3D; useReduxContext()!    const selectedState &#x3D; useSyncExternalStoreWithSelector(      subscription.addNestedSub,      store.getState,      getServerState || store.getState,      selector,      equalityFn    )    useDebugValue(selectedState) &#x2F;&#x2F; æ ‡è®°    return selectedState  &#125;&#125;&#x2F;** * A hook to access the redux store&#39;s state. This hook takes a selector function * as an argument. The selector is called with the store state. * * This hook takes an optional equality comparison function as the second parameter * that allows you to customize the way the selected state is compared to determine * whether the component needs to be re-rendered. * * @param &#123;Function&#125; selector the selector function * @param &#123;Function&#x3D;&#125; equalityFn the function that will be used to determine equality * * @returns &#123;any&#125; the selected state * * @example * * import React from &#39;react&#39; * import &#123; useSelector &#125; from &#39;react-redux&#39; * * export const CounterComponent &#x3D; () &#x3D;&gt; &#123; *   const counter &#x3D; useSelector(state &#x3D;&gt; state.counter) *   return &lt;div&gt;&#123;counter&#125;&lt;&#x2F;div&gt; * &#125; *&#x2F;export const useSelector &#x3D; &#x2F;*#__PURE__*&#x2F; createSelectorHook()</code></pre><h2 id="useStoreã€createStoreHook"><a href="#useStoreã€createStoreHook" class="headerlink" title="useStoreã€createStoreHook"></a>useStoreã€createStoreHook</h2><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">&#x2F;&#x2F; 1.ç”¨é’©å­å·¥å‚åˆ›å»ºäº†ä¸ªé’©å­&#x2F;&#x2F; 2.ä»   const &#123; store &#125; &#x3D; useReduxContext()! è·å–store&#x2F;** * Hook factory, which creates a &#96;useStore&#96; hook bound to a given context. * * @param &#123;React.Context&#125; [context&#x3D;ReactReduxContext] Context passed to your &#96;&lt;Provider&gt;&#96;. * @returns &#123;Function&#125; A &#96;useStore&#96; hook bound to the specified context. *&#x2F;export function createStoreHook&lt;  S &#x3D; unknown,  A extends BasicAction &#x3D; AnyAction  &#x2F;&#x2F; @ts-ignore&gt;(context?: Context&lt;ReactReduxContextValue&lt;S, A&gt;&gt; &#x3D; ReactReduxContext) &#123;  const useReduxContext &#x3D;    &#x2F;&#x2F; @ts-ignore    context &#x3D;&#x3D;&#x3D; ReactReduxContext      ? useDefaultReduxContext      : () &#x3D;&gt; useContext(context)  return function useStore&lt;    State &#x3D; S,    Action extends BasicAction &#x3D; A    &#x2F;&#x2F; @ts-ignore  &gt;() &#123;    const &#123; store &#125; &#x3D; useReduxContext()!    &#x2F;&#x2F; @ts-ignore    return store as Store&lt;State, Action&gt;  &#125;&#125;&#x2F;** * A hook to access the redux store. * * @returns &#123;any&#125; the redux store * * @example * * import React from &#39;react&#39; * import &#123; useStore &#125; from &#39;react-redux&#39; * * export const ExampleComponent &#x3D; () &#x3D;&gt; &#123; *   const store &#x3D; useStore() *   return &lt;div&gt;&#123;store.getState()&#125;&lt;&#x2F;div&gt; * &#125; *&#x2F;export const useStore &#x3D; &#x2F;*#__PURE__*&#x2F; createStoreHook()</code></pre><h2 id="connect-1"><a href="#connect-1" class="headerlink" title="connect"></a>connect</h2><p> è§ï¼šreact-redux æºç 2</p>]]></content>
      
      
      <categories>
          
          <category> react-redux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react-redux </tag>
            
            <tag> redux </tag>
            
            <tag> æºç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flex width:0</title>
      <link href="//post/2022-05-23width0.html"/>
      <url>//post/2022-05-23width0.html</url>
      
        <content type="html"><![CDATA[<h2 id="flexåµŒå¥—"><a href="#flexåµŒå¥—" class="headerlink" title="flexåµŒå¥—"></a>flexåµŒå¥—</h2><p>å†…éƒ¨å…ƒç´ å®½åº¦é»˜è®¤100%ï¼Œæ’‘å¼€çˆ¶å…ƒç´ ï¼Œçˆ¶å…ƒç´ çš„æ ¹å…ƒç´ é™åˆ¶æœ€å¤§å®½åº¦ï¼Œå­å…ƒç´ å¹¶ä¸å—flexæ§åˆ¶</p><p>é‡åˆ°å¤šæ¬¡äº†ï¼Œè¿™æ¬¡æ˜¯ç»´æŠ¤å…¶ä»–åŒäº‹çš„ä»£ç ï¼Œåˆæ’è§äº†ï¼Œè¯´æ˜è¿™ä¸ªé—®é¢˜å¾ˆå¸¸è§ï¼Œä¸€ä¸ªä¸ç•™ç¥ï¼Œå°±è¸©åˆ°äº†</p><pre class="line-numbers language-none"><code class="language-none">æ ¹å…ƒç´   â€¦â€¦  - çˆ¶å…ƒç´ flex  â€¦â€¦ flex   - å­å…ƒç´ flex(é»˜è®¤å®½åº¦100%)</code></pre><pre class="line-numbers language-css" data-language="css"><code class="language-css">.doc-tree-base-title-node .doc-tree-base-title-text &gt; a &#123;    display: flex;    align-items: center;    color: #777;    white-space: nowrap;    overflow: hidden;    text-overflow: ellipsis;    flex: 1;&#125;</code></pre><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p><img src="http://t-blog-images.aijs.top/img/20220523171556.webp"></p><p> è§‚å¯Ÿä¸‹å‘ç°ï¼Œflexæ˜¯åµŒå¥—çš„ï¼Œæœ€å¤–å±‚çš„è¿˜æ˜¯flexï¼Œä¸€å±‚ä¸€å±‚ï¼Œæœ€å¤–å±‚çš„å®½åº¦ï¼Œå´æ˜¯ç”±æœ€å†…å±‚çš„å®½åº¦å†³å®šï¼ˆè¿™ä¸ªè°ƒè¯•å¯ä»¥çœ‹åˆ°ï¼‰</p><h2 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h2><ul><li>å›¾1</li></ul><p> <img src="http://t-blog-images.aijs.top/img/20220523171802.webp"></p><ul><li>å›¾2</li></ul><p> <img src="http://t-blog-images.aijs.top/img/20220523171918.webp"></p><ul><li>å›¾3</li></ul><p> <img src="http://t-blog-images.aijs.top/img/20220523172024.webp"></p><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p> å›¾1 å…ƒç´ æ²¡æœ‰å®½åº¦ï¼Œå®½åº¦é»˜è®¤æ˜¯<code>100%</code></p><p> å›¾1åˆ°å›¾3æ˜¯ç”±aæ ‡ç­¾å­å…ƒç´ æ’‘å¼€çš„ï¼Œå®½åº¦æ˜¯<code>100%</code>,åŠ ä¸Šæ“ä½œæŒ‰é’®ï¼Œå…ƒç´ å®½åº¦è¶…100%</p><p> è€Œåœ¨ä¾§è¾¹æ ‘ç»“æ„çš„æœ€å¤–å±‚è®¾ç½®äº†<code>max-width: 500px</code>,è€Œå†…éƒ¨å­å…ƒç´ å°ºå¯¸å´æ˜¯<code>599.48 x 36</code></p><p> æ˜¾ç„¶æ˜¯ä¸åˆç†çš„</p><h2 id="ä¿®å¤"><a href="#ä¿®å¤" class="headerlink" title="ä¿®å¤"></a>ä¿®å¤</h2> <pre class="line-numbers language-none"><code class="language-none">æ ¹å…ƒç´   â€¦â€¦  - çˆ¶å…ƒç´ flex  â€¦â€¦ flex   - å­å…ƒç´ flex(é»˜è®¤å®½åº¦è®¾ç½®å®½åº¦0 æˆ–è€…å…¶ä»–å°ç‚¹çš„å®½åº¦ï¼Œè¶Šå°è¶Šå¥½)</code></pre><p> <img src="http://t-blog-images.aijs.top/img/20220523173256.webp"></p><h2 id="ä»€ä¹ˆåŸå› å¯¼è‡´çš„"><a href="#ä»€ä¹ˆåŸå› å¯¼è‡´çš„" class="headerlink" title="ä»€ä¹ˆåŸå› å¯¼è‡´çš„"></a>ä»€ä¹ˆåŸå› å¯¼è‡´çš„</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex">MDN flex</a></p><p>è¯­æ³•</p><pre class="line-numbers language-none"><code class="language-none">&#x2F;* å…³é”®å­—å€¼ *&#x2F;flex: auto;flex: initial;flex: none;&#x2F;* ä¸€ä¸ªå€¼, æ— å•ä½æ•°å­—: flex-grow *&#x2F;flex: 2;&#x2F;* ä¸€ä¸ªå€¼, width&#x2F;height: flex-basis *&#x2F;flex: 10em;flex: 30px;flex: min-content;&#x2F;* ä¸¤ä¸ªå€¼: flex-grow | flex-basis *&#x2F;flex: 1 30px;&#x2F;* ä¸¤ä¸ªå€¼: flex-grow | flex-shrink *&#x2F;flex: 2 2;&#x2F;* ä¸‰ä¸ªå€¼: flex-grow | flex-shrink | flex-basis *&#x2F;flex: 2 2 10%;&#x2F;*å…¨å±€å±æ€§å€¼ *&#x2F;flex: inherit;flex: initial;flex: unset;</code></pre><p>å¯ä»¥ä½¿ç”¨ä¸€ä¸ªï¼Œä¸¤ä¸ªæˆ–ä¸‰ä¸ªå€¼æ¥æŒ‡å®š flexå±æ€§ã€‚</p><p>1.<strong>å•å€¼è¯­æ³•</strong>: å€¼å¿…é¡»ä¸ºä»¥ä¸‹å…¶ä¸­ä¹‹ä¸€:</p><ul><li>ä¸€ä¸ªæ— å•ä½æ•°(<code>&lt;number&gt;</code>): å®ƒä¼šè¢«å½“ä½œflex:<number> 1 0; <flex-shrink>çš„å€¼è¢«å‡å®šä¸º1ï¼Œç„¶å<flex-basis> çš„å€¼è¢«å‡å®šä¸º0ã€‚</li><li>ä¸€ä¸ªæœ‰æ•ˆçš„å®½åº¦(width)å€¼: å®ƒä¼šè¢«å½“ä½œ <flex-basis>çš„å€¼ã€‚</li><li>å…³é”®å­—noneï¼Œautoæˆ–initial.</li></ul><p>2.<strong>åŒå€¼è¯­æ³•</strong>: ç¬¬ä¸€ä¸ªå€¼å¿…é¡»ä¸ºä¸€ä¸ªæ— å•ä½æ•°ï¼Œå¹¶ä¸”å®ƒä¼šè¢«å½“ä½œ <flex-grow> çš„å€¼ã€‚ç¬¬äºŒä¸ªå€¼å¿…é¡»ä¸ºä»¥ä¸‹ä¹‹ä¸€ï¼š</p><ul><li>ä¸€ä¸ªæ— å•ä½æ•°ï¼šå®ƒä¼šè¢«å½“ä½œ <flex-shrink> çš„å€¼ã€‚</li><li>ä¸€ä¸ªæœ‰æ•ˆçš„å®½åº¦å€¼: å®ƒä¼šè¢«å½“ä½œ <flex-basis> çš„å€¼ã€‚</li></ul><p>3.<strong>ä¸‰å€¼è¯­æ³•</strong>:</p><ul><li>ç¬¬ä¸€ä¸ªå€¼å¿…é¡»ä¸ºä¸€ä¸ªæ— å•ä½æ•°ï¼Œå¹¶ä¸”å®ƒä¼šè¢«å½“ä½œ <flex-grow> çš„å€¼ã€‚</li><li>ç¬¬äºŒä¸ªå€¼å¿…é¡»ä¸ºä¸€ä¸ªæ— å•ä½æ•°ï¼Œå¹¶ä¸”å®ƒä¼šè¢«å½“ä½œ  <flex-shrink> çš„å€¼ã€‚</li><li>ç¬¬ä¸‰ä¸ªå€¼å¿…é¡»ä¸ºä¸€ä¸ªæœ‰æ•ˆçš„å®½åº¦å€¼ï¼Œ å¹¶ä¸”å®ƒä¼šè¢«å½“ä½œ <flex-basis> çš„å€¼ã€‚</li></ul><p> å¯ä»¥çœ‹åˆ°å•å€¼ï¼Œä½œä¸ºåŒå€¼å¤„ç†</p> <pre class="line-numbers language-css" data-language="css"><code class="language-css">flex-shrink:1;flex-basis: 0;</code></pre><h2 id="flex-basis"><a href="#flex-basis" class="headerlink" title="flex-basis"></a>flex-basis</h2><p> è‡ªæ¥çœ‹ä¸‹<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-basis">flex-base</a></p><p> æŸ¥çœ‹æ–‡æ¡£åå‘ç°ï¼Œæ–‡æ¡£ä¸Šæ²¡è¯´å…³äº<code>flex-basic: 0 </code>çš„äº‹æƒ…,ç»™äº†ä¸ªæ¼”ç¤ºï¼Œä¹Ÿçœ‹ä¸å‡ºæ¥æƒ³è¡¨è¾¾ä»€ä¹ˆ</p><p><a href="https://blog.csdn.net/u010951953/article/details/124145786">flex-basis å±æ€§çš„å«ä¹‰</a><br><a href="https://www.w3.org/TR/2018/CR-css-flexbox-1-20181119/#flex-basis-property">w3c flex-basis-property</a><br>flexå¸ƒå±€ä¸€èˆ¬ç”±flexå®¹å™¨ï¼ˆdisplay å±æ€§å€¼ä¸º flex æˆ– inline-flexï¼‰å’Œå…¶å­å…ƒç´ ï¼ˆåæ–‡äº¦ç§°flexå­é¡¹æˆ–flex itemï¼‰æ„æˆã€‚flex-basis å±æ€§ä¸€èˆ¬ä½œç”¨åœ¨flexå­é¡¹ä¸Šï¼Œå®ƒå®šä¹‰äº†ï¼šåœ¨flexå®¹å™¨åˆ†é…å‰©ä½™ç©ºé—´å‰flexå­é¡¹åœ¨ä¸»è½´æ–¹å‘ä¸Šçš„åˆå§‹å°ºå¯¸ã€‚flexå­é¡¹åœ¨ä¸»è½´æ–¹å‘ä¸Šçš„å®é™…å°ºå¯¸æ˜¯æ ¹æ®å…ƒç´ è‡ªèº«å°ºå¯¸ã€flex-basisã€flex-growã€flex-shrink ç­‰å±æ€§å…±åŒå†³å®šçš„ã€‚å¦‚ä½•è®¡ç®—å®é™…å°ºå¯¸ä¸æ˜¯æœ¬æ–‡é‡ç‚¹ï¼Œä¸ç»§ç»­å±•å¼€ã€‚</p><h2 id="flex-basis-0pxä¸0"><a href="#flex-basis-0pxä¸0" class="headerlink" title="flex-basis:0pxä¸0%"></a>flex-basis:0pxä¸0%</h2><ul><li>å¦‚æœ flex-basis çš„å€¼ä¸ºç™¾åˆ†æ•°ï¼Œä¸”å®ƒflexå®¹å™¨çš„å°ºå¯¸æ²¡æœ‰è¢«æ˜¾å¼è®¾ç½®ï¼Œæ­¤æ—¶ flex-basis çš„å€¼ä¼šè¢«è§£æä¸º content</li><li></li></ul><h2 id="å…¶ä»–ï¼Œå€¼å¾—ä¸€çœ‹"><a href="#å…¶ä»–ï¼Œå€¼å¾—ä¸€çœ‹" class="headerlink" title="å…¶ä»–ï¼Œå€¼å¾—ä¸€çœ‹"></a>å…¶ä»–ï¼Œå€¼å¾—ä¸€çœ‹</h2><h2 id="flex-1"><a href="#flex-1" class="headerlink" title="flex: 1"></a>flex: 1</h2><p>åœ¨æµè§ˆå™¨ä¸­ï¼Œflex: 1 çš„ flex-basis å€¼ä¸ºä»€ä¹ˆä¸æ˜¯W3Cæ–‡æ¡£ä¸­æåˆ°çš„ 0 ï¼Ÿ</p><p>å½“ä½¿ç”¨ flex å±æ€§ä½†åˆçœç•¥ä¸å†™å®ƒå…¶ä¸­çš„ flex-basis å€¼æ—¶ï¼Œä¼šå°† flex-basis è®¾ç½®ä¸º 0.</p><p>è¿™é‡Œçš„ 0 å•ä½æ˜¯ px è¿˜æ˜¯ % æˆ‘ä»¬åœ¨Chromeæµè§ˆå™¨é‡Œå°±èƒ½éªŒè¯ï¼š</p><img src="http://t-blog-images.aijs.top/img/20220523181618.webp" width=400  style="object-fit: content"/><p>ç­”æ¡ˆæ˜¯ px.</p><p>è¿™æ®µæ˜¯2015å¹´ä¿®æ­£æ—¥å¿—é‡Œçš„ï¼Œæ„æ€æ˜¯å°†ä¹‹å‰ flex ç®€å†™è¯­æ³•é‡Œçš„ flex-basis çš„è§£æå€¼ä» 0% æ¢å¤ä¸ºåŸæ¥çš„ 0.</p><p>æ³¨æ„ï¼š è¿™ä¸ªå€¼çš„è§£æè§„åˆ™ç»å†äº† 0px -&gt; 0% -&gt; 0px çš„å˜åŒ–ï¼Œè¿™æ˜¯W3C flex æ ‡å‡†æ–‡æ¡£çš„è§†è§’ã€‚</p><p>ç®€è€Œè¨€ä¹‹å°±æ˜¯æœ‰å…¼å®¹æ€§é—®é¢˜ã€‚ç°åœ¨å·²æœ‰å¾ˆå¤šç½‘é¡µéƒ½åˆ©ç”¨äº† flex å±æ€§çš„è¿™ä¸ªç‰¹æ€§æ¥å¼€å‘ã€‚å¦‚æœç®€å†™è¯­æ³•é‡Œ flex-basis çš„è§£æä» 0% å˜ä¸º 0px ä¼šå¯¼è‡´éƒ¨åˆ†æƒ…å†µä¸‹flexå®¹å™¨å¡Œé™·ï¼Œè‡´ä½¿å¾ˆå¤šç½‘é¡µå¼‚å¸¸</p><p><a href="https://blog.csdn.net/u010951953/article/details/124145786">å»ºè®®çœ‹åŸæ–‡</a></p>]]></content>
      
      
      <categories>
          
          <category> css3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> css3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSSå¦‚ä½•å·¥ä½œ</title>
      <link href="//post/2022-05-23css.html"/>
      <url>//post/2022-05-23css.html</url>
      
        <content type="html"><![CDATA[<h2 id="æµè§ˆå™¨å·¥ä½œåŸç†"><a href="#æµè§ˆå™¨å·¥ä½œåŸç†" class="headerlink" title="æµè§ˆå™¨å·¥ä½œåŸç†"></a>æµè§ˆå™¨å·¥ä½œåŸç†</h2><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>å½“æµè§ˆå™¨å±•ç¤ºä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œå®ƒå¿…é¡»å…¼é¡¾æ–‡ä»¶çš„å†…å®¹å’Œæ–‡ä»¶çš„æ ·å¼ä¿¡æ¯</p></blockquote><h2 id="å¦‚ä½•åŠ è½½CSSå’ŒHTML"><a href="#å¦‚ä½•åŠ è½½CSSå’ŒHTML" class="headerlink" title="å¦‚ä½•åŠ è½½CSSå’ŒHTML"></a>å¦‚ä½•åŠ è½½CSSå’ŒHTML</h2><p>ä¸‹é¢çš„æ­¥éª¤æ˜¯æµè§ˆåŠ è½½ç½‘é¡µçš„ç®€åŒ–ç‰ˆæœ¬:</p><ol><li>æµè§ˆå™¨è½½å…¥HTMLæ–‡ä»¶ï¼ˆæ¯”å¦‚ä»ç½‘ç»œä¸Šè·å–ï¼‰ã€‚</li><li>å°†HTMLæ–‡ä»¶è½¬åŒ–æˆä¸€ä¸ªDOMï¼ˆDocument Object Modelï¼‰ï¼ŒDOMæ˜¯æ–‡ä»¶åœ¨è®¡ç®—æœºå†…å­˜ä¸­çš„è¡¨ç°å½¢å¼ï¼Œä¸‹ä¸€èŠ‚å°†æ›´åŠ è¯¦ç»†çš„è§£é‡ŠDOMã€‚</li><li>æ¥ä¸‹æ¥ï¼Œæµè§ˆå™¨ä¼šæ‹‰å–è¯¥HTMLç›¸å…³çš„å¤§éƒ¨åˆ†èµ„æºï¼Œæ¯”å¦‚åµŒå…¥åˆ°é¡µé¢çš„å›¾ç‰‡ã€è§†é¢‘å’ŒCSSæ ·å¼ã€‚JavaScriptåˆ™ä¼šç¨åè¿›è¡Œå¤„ç†ï¼Œç®€å•èµ·è§ï¼ŒåŒæ—¶æ­¤èŠ‚ä¸»è®²CSSï¼Œæ‰€ä»¥è¿™é‡Œå¯¹å¦‚ä½•åŠ è½½JavaScriptä¸ä¼šå±•å¼€å™è¿°ã€‚</li><li>æµè§ˆå™¨æ‹‰å–åˆ°CSSä¹‹åä¼šè¿›è¡Œè§£æï¼Œæ ¹æ®é€‰æ‹©å™¨çš„ä¸åŒç±»å‹ï¼ˆæ¯”å¦‚elementã€classã€idç­‰ç­‰ï¼‰æŠŠä»–ä»¬åˆ†åˆ°ä¸åŒçš„â€œæ¡¶â€ä¸­ã€‚æµè§ˆå™¨åŸºäºå®ƒæ‰¾åˆ°çš„ä¸åŒçš„é€‰æ‹©å™¨ï¼Œå°†ä¸åŒçš„è§„åˆ™ï¼ˆåŸºäºé€‰æ‹©å™¨çš„è§„åˆ™ï¼Œå¦‚å…ƒç´ é€‰æ‹©å™¨ã€ç±»é€‰æ‹©å™¨ã€idé€‰æ‹©å™¨ç­‰ï¼‰åº”ç”¨åœ¨å¯¹åº”çš„DOMçš„èŠ‚ç‚¹ä¸­ï¼Œå¹¶æ·»åŠ èŠ‚ç‚¹ä¾èµ–çš„æ ·å¼ï¼ˆè¿™ä¸ªä¸­é—´æ­¥éª¤ç§°ä¸ºæ¸²æŸ“æ ‘ï¼‰ã€‚</li><li>ä¸Šè¿°çš„è§„åˆ™åº”ç”¨äºæ¸²æŸ“æ ‘ä¹‹åï¼Œæ¸²æŸ“æ ‘ä¼šä¾ç…§åº”è¯¥å‡ºç°çš„ç»“æ„è¿›è¡Œå¸ƒå±€ã€‚</li><li>ç½‘é¡µå±•ç¤ºåœ¨å±å¹•ä¸Šï¼ˆè¿™ä¸€æ­¥è¢«ç§°ä¸ºç€è‰²ï¼‰ã€‚</li></ol><p><strong>è¿è¡Œå›¾</strong></p><img src="http://t-blog-images.aijs.top/img/rendering.svg" width=400 style="object-fit:content; background: #fff"/><hr/><h2 id="æ— æ³•è§£æçš„CSSä¼šå‘ç”Ÿä»€ä¹ˆ"><a href="#æ— æ³•è§£æçš„CSSä¼šå‘ç”Ÿä»€ä¹ˆ" class="headerlink" title="æ— æ³•è§£æçš„CSSä¼šå‘ç”Ÿä»€ä¹ˆ"></a>æ— æ³•è§£æçš„CSSä¼šå‘ç”Ÿä»€ä¹ˆ</h2><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>ç­”æ¡ˆå°±æ˜¯æµè§ˆå™¨ä»€ä¹ˆä¹Ÿä¸ä¼šåšï¼Œç»§ç»­è§£æä¸‹ä¸€ä¸ªCSSæ ·å¼ï¼</p></blockquote><p>ä»¥ä¸‹æ˜¯åºŸè¯ï¼š</p><ul><li><p>æµè§ˆå™¨å¹¶ä¸ä¼šåŒæ—¶å®ç°æ‰€æœ‰çš„æ–°CSSï¼Œæ­¤å¤–å¾ˆå¤šäººä¹Ÿä¸ä¼šä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„æµè§ˆå™¨ã€‚é‰´äºCSSä¸€ç›´ä¸æ–­çš„å¼€å‘ï¼Œå› æ­¤é¢†å…ˆäºæµè§ˆå™¨å¯ä»¥è¯†åˆ«çš„èŒƒå›´ï¼Œé‚£ä¹ˆä½ ä¹Ÿè®¸ä¼šå¥½å¥‡å½“æµè§ˆå™¨é‡åˆ°æ— æ³•è§£æçš„CSSé€‰æ‹©å™¨æˆ–å£°æ˜çš„æ—¶å€™ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ</p></li><li><p>CSSè§„åˆ™ï¼š å¦‚æœä¸€ä¸ªæµè§ˆå™¨åœ¨è§£æä½ æ‰€ä¹¦å†™çš„CSSè§„åˆ™çš„è¿‡ç¨‹ä¸­é‡åˆ°äº†æ— æ³•ç†è§£çš„å±æ€§æˆ–è€…å€¼ï¼Œå®ƒä¼šå¿½ç•¥è¿™äº›å¹¶ç»§ç»­è§£æä¸‹é¢çš„CSSå£°æ˜ã€‚åœ¨ä½ ä¹¦å†™äº†é”™è¯¯çš„CSSä»£ç ï¼ˆæˆ–è€…è¯¯æ‹¼å†™ï¼‰ï¼Œåˆæˆ–è€…å½“æµè§ˆå™¨é‡åˆ°å¯¹äºå®ƒæ¥è¯´å¾ˆæ–°çš„è¿˜æ²¡æœ‰æ”¯æŒçš„CSSä»£ç çš„æ—¶å€™ä¸Šè¿°çš„æƒ…å†µåŒæ ·ä¼šå‘ç”Ÿï¼ˆç›´æ¥å¿½ç•¥ï¼‰ã€‚</p></li><li><p>é€‰æ‹©å™¨ï¼š ç›¸ä¼¼çš„ï¼Œå½“æµè§ˆå™¨é‡åˆ°æ— æ³•è§£æçš„é€‰æ‹©å™¨çš„æ—¶å€™ï¼Œä»–ä¼š<code>ç›´æ¥å¿½ç•¥æ•´ä¸ªé€‰æ‹©å™¨è§„åˆ™</code>ï¼Œç„¶åè§£æä¸‹ä¸€ä¸ªCSSé€‰æ‹©å™¨ã€‚</p></li></ul><hr/><h2 id="å…³äºDOM"><a href="#å…³äºDOM" class="headerlink" title="å…³äºDOM"></a>å…³äºDOM</h2><p>ä¸€ä¸ªDOMæœ‰ä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œæ ‡è®°è¯­è¨€ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ã€å±æ€§ä»¥åŠæ¯ä¸€æ®µæ–‡å­—éƒ½å¯¹åº”ç€ç»“æ„æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆNode&#x2F;DOMæˆ–DOM nodeï¼‰ã€‚èŠ‚ç‚¹ç”±èŠ‚ç‚¹æœ¬èº«å’Œå…¶ä»–DOMèŠ‚ç‚¹çš„å…³ç³»å®šä¹‰ï¼Œæœ‰äº›èŠ‚ç‚¹æœ‰çˆ¶èŠ‚ç‚¹ï¼Œæœ‰äº›èŠ‚ç‚¹æœ‰å…„å¼ŸèŠ‚ç‚¹ï¼ˆåŒçº§èŠ‚ç‚¹ï¼‰ã€‚</p><p>å¯¹äºDOMçš„ç†è§£ä¼šå¾ˆå¤§ç¨‹åº¦ä¸Šå¸®åŠ©ä½ è®¾è®¡ã€è°ƒè¯•å’Œç»´æŠ¤ä½ çš„CSSï¼Œå› ä¸ºDOMæ˜¯ä½ çš„CSSæ ·å¼å’Œæ–‡ä»¶å†…å®¹çš„ç»“åˆã€‚å½“ä½ ä½¿ç”¨æµè§ˆå™¨F12è°ƒè¯•çš„æ—¶å€™ä½ éœ€è¦æ“ä½œDOMä»¥æŸ¥çœ‹ä½¿ç”¨äº†å“ªäº›è§„åˆ™ã€‚</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">&lt;p&gt;  Let&#39;s use:  &lt;span&gt;Cascading&lt;&#x2F;span&gt;  &lt;span&gt;Style&lt;&#x2F;span&gt;  &lt;span&gt;Sheets&lt;&#x2F;span&gt;&lt;&#x2F;p&gt;</code></pre><pre class="line-numbers language-none"><code class="language-none">Pâ”œâ”€ &quot;Let&#39;s use:&quot;â”œâ”€ SPAN|  â””â”€ &quot;Cascading&quot;â”œâ”€ SPAN|  â””â”€ &quot;Style&quot;â””â”€ SPAN   â””â”€ &quot;Sheets&quot;</code></pre><hr/><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/First_steps/How_CSS_works">MDN</a></p>]]></content>
      
      
      <categories>
          
          <category> æµè§ˆå™¨åŸç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æµè§ˆå™¨åŸç† </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>monorepo</title>
      <link href="//post/2022-05-23monorepo.html"/>
      <url>//post/2022-05-23monorepo.html</url>
      
        <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><ul><li>è°ƒè¯•æºç æ—¶å€™ï¼Œæ€»ä¼šé‡åˆ°å¤šåŒ…çš„ä»“åº“ï¼Œé‡åˆ°äº†ä¸æ™“å¾—å¦‚ä½•è°ƒè¯•</li><li>å¼€å‘ä¸ªåº“æˆ–è€…æ˜¯æ’ä»¶ä¹‹ç±»çš„å¼€å‘çš„æ¯”è¾ƒæ··ä¹±</li><li>ç»å†å¤šä¸ªé¡¹ç›®çš„æ¯’æ‰“ï¼Œç»ˆäºæœ‰æ—¶é—´å­¦ä¸‹<code>monorepo</code></li></ul><h2 id="lernaã€yarn-workspace"><a href="#lernaã€yarn-workspace" class="headerlink" title="lernaã€yarn workspace"></a>lernaã€yarn workspace</h2><ul><li>å’Œjavaå¾®æœåŠ¡æ¶æ„ä»£ç å¾ˆåƒ</li><li>å¾ˆå¤šé¡¹ç›®æ˜¯ lerna+yarn workspaceï¼Œå¦‚æœä¸æ‡‚ï¼Œæˆ–è€…äº†è§£äº†ä¸€ç‚¹<code>lerna</code>ã€‚ä¸Šå»ä¸€é¡¿æ“ä½œï¼Œå„ç§æŠ¥é”™ï¼Œåœ¨æ‰€éš¾å…ï¼ˆäº²èº«ç»å†ï¼‰</li></ul><h2 id="monorepoç®¡ç†"><a href="#monorepoç®¡ç†" class="headerlink" title="monorepoç®¡ç†"></a>monorepoç®¡ç†</h2><p>å¯¹äºç»´æŠ¤è¿‡å¤šä¸ªpackage(åŠŸèƒ½ç›¸è¿‘)çš„åŒå­¦æ¥è¯´ï¼Œéƒ½ä¼šé‡åˆ°ä¸€ä¸ªé€‰æ‹©é¢˜ï¼Œè¿™äº›packageæ˜¯æ”¾åœ¨ä¸€ä¸ªä»“åº“é‡Œç»´æŠ¤è¿˜æ˜¯æ”¾åœ¨å¤šä¸ªä»“åº“é‡Œå•ç‹¬ç»´æŠ¤ã€‚Multirepo æ˜¯æ¯”è¾ƒä¼ ç»Ÿçš„åšæ³•ï¼Œå³æ¯ä¸€ä¸ª package éƒ½å•ç‹¬ç”¨ä¸€ä¸ªä»“åº“æ¥è¿›è¡Œç®¡ç†ã€‚Monorepo æ˜¯ç®¡ç†é¡¹ç›®ä»£ç çš„ä¸€ä¸ªæ–¹å¼ï¼ŒæŒ‡åœ¨ä¸€ä¸ªé¡¹ç›®ä»“åº“ (repo) ä¸­ç®¡ç†å¤šä¸ªæ¨¡å—&#x2F;åŒ… (package)ï¼Œä¸åŒäºå¸¸è§çš„æ¯ä¸ªæ¨¡å—å»ºä¸€ä¸ª repoã€‚</p><p>ç›®å‰æœ‰ä¸å°‘å¤§å‹å¼€æºé¡¹ç›®é‡‡ç”¨äº†è¿™ç§æ–¹å¼ï¼Œå¦‚ Babelï¼ŒReact, Meteor, Ember, Angular,Jest, Umijs, Vue, è¿˜æœ‰ create-react-app, react-router ç­‰ã€‚å‡ ä¹æˆ‘ä»¬ç†ŸçŸ¥çš„ä»“åº“ï¼Œéƒ½æ— ä¸€ä¾‹å¤–çš„é‡‡ç”¨äº†monorepo çš„æ–¹å¼ï¼Œå¯ä»¥çœ‹åˆ°è¿™äº›é¡¹ç›®çš„ç¬¬ä¸€çº§ç›®å½•çš„å†…å®¹ä»¥è„šæ‰‹æ¶ä¸ºä¸»ï¼Œä¸»è¦å†…å®¹éƒ½åœ¨ packagesç›®å½•ä¸­ã€åˆ†å¤šä¸ª package è¿›è¡Œç®¡ç†ã€‚</p><p>ç›®å½•ç»“æ„å¦‚ä¸‹:</p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">â”œâ”€â”€ packages|   â”œâ”€â”€ pkg1|   |   â”œâ”€â”€ package.json|   â”œâ”€â”€ pkg2|   |   â”œâ”€â”€ package.jsonâ”œâ”€â”€ package.json</code></pre><p>monorepo æœ€ä¸»è¦çš„å¥½å¤„æ˜¯ç»Ÿä¸€çš„å·¥ä½œæµå’ŒCode Sharingã€‚æ¯”å¦‚æˆ‘æƒ³çœ‹ä¸€ä¸ª pacakge çš„ä»£ç ã€äº†è§£æŸæ®µé€»è¾‘ï¼Œä¸éœ€è¦æ‰¾å®ƒçš„ repoï¼Œç›´æ¥å°±åœ¨å½“å‰ repoï¼›å½“æŸä¸ªéœ€æ±‚è¦ä¿®æ”¹å¤šä¸ª pacakge æ—¶ï¼Œä¸éœ€è¦åˆ†åˆ«åˆ°å„è‡ªçš„ repo è¿›è¡Œä¿®æ”¹ã€æµ‹è¯•ã€å‘ç‰ˆæˆ–è€… npm linkï¼Œç›´æ¥åœ¨å½“å‰ repo ä¿®æ”¹ï¼Œç»Ÿä¸€æµ‹è¯•ã€ç»Ÿä¸€å‘ç‰ˆã€‚åªè¦æ­å»ºä¸€å¥—è„šæ‰‹æ¶ï¼Œå°±èƒ½ç®¡ç†ï¼ˆæ„å»ºã€æµ‹è¯•ã€å‘å¸ƒï¼‰å¤šä¸ª packageã€‚</p><p>ä¸€å›¾èƒœåƒè¨€:<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxOS84LzE4LzE2Y2EyOThmNTYwZDgxZDg"></p><p>å‰è€…å…è®¸å¤šå…ƒåŒ–å‘å±•ï¼ˆå„é¡¹ç›®å¯ä»¥æœ‰è‡ªå·±çš„æ„å»ºå·¥å…·ã€ä¾èµ–ç®¡ç†ç­–ç•¥ã€å•å…ƒæµ‹è¯•æ–¹æ³•ï¼‰ï¼Œåè€…å¸Œæœ›é›†ä¸­ç®¡ç†ï¼Œå‡å°‘é¡¹ç›®é—´çš„å·®å¼‚å¸¦æ¥çš„æ²Ÿé€šæˆæœ¬ã€‚</p><p>è™½ç„¶æ‹†åˆ†å­ä»“åº“ã€æ‹†åˆ†å­ npm åŒ…æ˜¯è¿›è¡Œé¡¹ç›®éš”ç¦»çš„å¤©ç„¶æ–¹æ¡ˆï¼Œä½†å½“ä»“åº“å†…å®¹å‡ºç°å…³è”æ—¶ï¼Œæ²¡æœ‰ä»»ä½•ä¸€ç§è°ƒè¯•æ–¹å¼æ¯”æºç æ”¾åœ¨ä¸€èµ·æ›´é«˜æ•ˆã€‚</p><p>ç»“åˆshop-serviceé—¨æˆ·çš„å®é™…åœºæ™¯å’Œä¸šåŠ¡éœ€è¦ï¼Œå¤©ç„¶çš„ MonoRepo ! ä¸€ä¸ªç†æƒ³çš„å¼€å‘ç¯å¢ƒå¯ä»¥æŠ½è±¡æˆè¿™æ ·ï¼š</p><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>â€œåªå…³å¿ƒä¸šåŠ¡ä»£ç ï¼Œå¯ä»¥ç›´æ¥è·¨ä¸šåŠ¡å¤ç”¨è€Œä¸å…³å¿ƒå¤ç”¨æ–¹å¼ï¼Œè°ƒè¯•æ—¶æ‰€æœ‰ä»£ç éƒ½åœ¨æºç ä¸­ã€‚â€</p></blockquote><p>åœ¨å‰ç«¯å¼€å‘ç¯å¢ƒä¸­ï¼Œå¤š Git Repoï¼Œå¤š npm åˆ™æ˜¯è¿™ä¸ªç†æƒ³çš„é˜»åŠ›ï¼Œå®ƒä»¬å¯¼è‡´å¤ç”¨è¦å…³å¿ƒç‰ˆæœ¬å·ï¼Œè°ƒè¯•éœ€è¦ npm linkã€‚è€Œè¿™äº›æ˜¯ MonoRepo æœ€å¤§çš„ä¼˜åŠ¿ã€‚</p><p>ä¸Šå›¾ä¸­æåˆ°çš„åˆ©ç”¨ç›¸å…³å·¥å…·å°±æ˜¯ä»Šå¤©çš„ä¸»è§’ Lerna ! Lernaæ˜¯ä¸šç•ŒçŸ¥ååº¦æœ€é«˜çš„ Monorepo ç®¡ç†å·¥å…·ï¼ŒåŠŸèƒ½å®Œæ•´ã€‚</p><h2 id="Lerna"><a href="#Lerna" class="headerlink" title="Lerna"></a>Lerna</h2><p>Lerna æ˜¯ä¸€ä¸ªç®¡ç†å¤šä¸ª npm æ¨¡å—çš„å·¥å…·ï¼Œæ˜¯ Babel è‡ªå·±ç”¨æ¥ç»´æŠ¤è‡ªå·±çš„ Monorepo å¹¶å¼€æºå‡ºçš„ä¸€ä¸ªé¡¹ç›®ã€‚ä¼˜åŒ–ç»´æŠ¤å¤šåŒ…çš„å·¥ä½œæµï¼Œè§£å†³å¤šä¸ªåŒ…äº’ç›¸ä¾èµ–ï¼Œä¸”å‘å¸ƒéœ€è¦æ‰‹åŠ¨ç»´æŠ¤å¤šä¸ªåŒ…çš„é—®é¢˜ã€‚</p><p>2.1 å®‰è£…<br>æ¨èå…¨å±€å®‰è£…ï¼Œå› ä¸ºä¼šç»å¸¸ç”¨åˆ° lerna å‘½ä»¤</p><pre class="line-numbers language-none"><code class="language-none">npm i -g lerna</code></pre><p>2.2 åˆå§‹åŒ–é¡¹ç›®</p><pre class="line-numbers language-none"><code class="language-none">lerna init</code></pre><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxOS84LzE4LzE2Y2EyOWE5MDhiMTkyOWQ"></p><p>å…¶ä¸­ package.json &amp; lerna.json å¦‚ä¸‹:</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">&#x2F;&#x2F; package.json&#123;  &quot;name&quot;: &quot;root&quot;,  &quot;private&quot;: true, &#x2F;&#x2F; ç§æœ‰çš„ï¼Œä¸ä¼šè¢«å‘å¸ƒï¼Œæ˜¯ç®¡ç†æ•´ä¸ªé¡¹ç›®ï¼Œä¸è¦å‘å¸ƒåˆ°npmçš„è§£è€¦  &quot;devDependencies&quot;: &#123;    &quot;lerna&quot;: &quot;^3.15.0&quot;  &#125;&#125; &#x2F;&#x2F; lerna.json&#123;  &quot;packages&quot;: [    &quot;packages&#x2F;*&quot;  ],  &quot;version&quot;: &quot;0.0.0&quot;&#125;</code></pre><p>2.3 åˆ›å»ºnpmåŒ…<br>å¢åŠ ä¸¤ä¸ª packages</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxOS84LzE4LzE2Y2EyOWIyOTgzNjExZDE"></p><p>2.4 å¢åŠ æ¨¡å—ä¾èµ–<br>åˆ†åˆ«ç»™ç›¸åº”çš„ package å¢åŠ ä¾èµ–æ¨¡å—</p><pre class="line-numbers language-none"><code class="language-none">lerna add chalk &#x2F;&#x2F; ä¸ºæ‰€æœ‰ package å¢åŠ  chalk æ¨¡å— lerna add semver --scope @mo-demo&#x2F;cli-shared-utils &#x2F;&#x2F; ä¸º @mo-demo&#x2F;cli-shared-utils å¢åŠ  semver æ¨¡å— lerna add @mo-demo&#x2F;cli-shared-utils --scope @mo-demo&#x2F;cli &#x2F;&#x2F; å¢åŠ å†…éƒ¨æ¨¡å—ä¹‹é—´çš„ä¾èµ–</code></pre><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxOS84LzE4LzE2Y2EyOWI2NTNmMGQ5NjQ"></p><p>2.5 å‘å¸ƒ</p><pre class="line-numbers language-none"><code class="language-none">lerna publish</code></pre><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxOS84LzE4LzE2Y2EyOWJiMWY4MjhjZjk"></p><p>2.6 ä¾èµ–åŒ…ç®¡ç†<br>ä¸Šè¿°1-5æ­¥å·²ç»åŒ…å«äº† Lerna æ•´ä¸ªç”Ÿå‘½å‘¨æœŸçš„è¿‡ç¨‹äº†ï¼Œä½†å½“æˆ‘ä»¬ç»´æŠ¤è¿™ä¸ªé¡¹ç›®æ—¶ï¼Œæ–°æ‹‰ä¸‹æ¥ä»“åº“çš„ä»£ç åï¼Œéœ€è¦ä¸ºå„ä¸ª package å®‰è£…ä¾èµ–åŒ…ã€‚</p><p>æˆ‘ä»¬åœ¨ç¬¬4æ­¥ lerna add æ—¶ä¹Ÿå‘ç°äº†ï¼Œä¸ºæŸä¸ª package å®‰è£…çš„åŒ…è¢«æ”¾åˆ°äº†è¿™ä¸ª package ç›®å½•ä¸‹çš„ node_modules ç›®å½•ä¸‹ã€‚è¿™æ ·å¯¹äºå¤šä¸ª package éƒ½ä¾èµ–çš„åŒ…ï¼Œä¼šè¢«å¤šä¸ª package å®‰è£…å¤šæ¬¡ï¼Œå¹¶ä¸”æ¯ä¸ª package ä¸‹éƒ½ç»´æŠ¤ node_modules ï¼Œä¹Ÿä¸æ¸…çˆ½ã€‚äºæ˜¯æˆ‘ä»¬ä½¿ç”¨ â€“hoist æ¥æŠŠæ¯ä¸ª package ä¸‹çš„ä¾èµ–åŒ…éƒ½æå‡åˆ°å·¥ç¨‹æ ¹ç›®å½•ï¼Œæ¥é™ä½å®‰è£…ä»¥åŠç®¡ç†çš„æˆæœ¬ã€‚</p><pre class="line-numbers language-none"><code class="language-none">lerna bootstrap --hoist</code></pre><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxOS84LzE4LzE2Y2EyOWJmNjUxZDkxMWY"></p><p>ä¸ºäº†çœå»æ¯æ¬¡éƒ½è¾“å…¥ â€“hoist å‚æ•°çš„éº»çƒ¦ï¼Œå¯ä»¥åœ¨ lerna.json é…ç½®ï¼š</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">&#123;  &quot;packages&quot;: [    &quot;packages&#x2F;*&quot;  ],  &quot;command&quot;: &#123;    &quot;bootstrap&quot;: &#123;      &quot;hoist&quot;: true    &#125;  &#125;,  &quot;version&quot;: &quot;0.0.1-alpha.0&quot;&#125;</code></pre><p>é…ç½®å¥½åï¼Œå¯¹äºä¹‹å‰ä¾èµ–åŒ…å·²ç»è¢«å®‰è£…åˆ°å„ä¸ª package ä¸‹çš„æƒ…å†µï¼Œæˆ‘ä»¬åªéœ€è¦æ¸…ç†ä¸€ä¸‹å®‰è£…çš„ä¾èµ–å³å¯ï¼š</p><pre class="line-numbers language-none"><code class="language-none">lerna clean</code></pre><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxOS84LzE4LzE2Y2EyOWM2OTdjODVjMWM" width=350 style="object-fit:contain"/>ç„¶åæ‰§è¡Œ lerna bootstrap å³å¯çœ‹åˆ° package çš„ä¾èµ–éƒ½è¢«å®‰è£…åˆ°æ ¹ç›®å½•ä¸‹çš„ `node_modules` ä¸­äº†ã€‚<h2 id="Lerna-Monorepo-æœ€ä½³å®è·µ"><a href="#Lerna-Monorepo-æœ€ä½³å®è·µ" class="headerlink" title="Lerna + Monorepo æœ€ä½³å®è·µ"></a>Lerna + Monorepo æœ€ä½³å®è·µ</h2><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>lernaä¸è´Ÿè´£æ„å»ºï¼Œæµ‹è¯•ç­‰ä»»åŠ¡ï¼Œå®ƒæå‡ºäº†ä¸€ç§é›†ä¸­ç®¡ç†packageçš„ç›®å½•æ¨¡å¼ï¼Œæä¾›äº†ä¸€å¥—è‡ªåŠ¨åŒ–ç®¡ç†ç¨‹åºï¼Œè®©å¼€å‘è€…ä¸å¿…å†æ·±è€•åˆ°å…·ä½“çš„ç»„ä»¶é‡Œç»´æŠ¤å†…å®¹ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•å°±å¯ä»¥å…¨å±€æŒæ§ï¼ŒåŸºäº npm scriptsï¼Œä½¿ç”¨è€…å¯ä»¥å¾ˆå¥½åœ°å®Œæˆç»„ä»¶æ„å»ºï¼Œä»£ç æ ¼å¼åŒ–ç­‰æ“ä½œã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹çœ‹ï¼Œå¦‚æœåŸºäº Lernaï¼Œå¹¶ç»“åˆå…¶å®ƒå·¥å…·æ¥æ­å»º Monorepo é¡¹ç›®çš„æœ€ä½³å®è·µã€‚</p></blockquote><p>ç›®å‰æœ€å¸¸è§çš„ monorepo è§£å†³æ–¹æ¡ˆæ˜¯ Lerna å’Œ yarn çš„ workspaces ç‰¹æ€§ï¼ŒåŸºäºlernaå’Œyarn workspaceçš„monorepoå·¥ä½œæµã€‚ç”±äºyarnå’Œlernaåœ¨åŠŸèƒ½ä¸Šæœ‰è¾ƒå¤šçš„é‡å ,æˆ‘ä»¬é‡‡ç”¨yarnå®˜æ–¹æ¨èçš„åšæ³•,ç”¨yarnæ¥å¤„ç†ä¾èµ–é—®é¢˜ï¼Œç”¨lernaæ¥å¤„ç†å‘å¸ƒé—®é¢˜ã€‚èƒ½ç”¨yarnåšçš„å°±ç”¨yarnåšå§</p><h2 id="yarn-workspace"><a href="#yarn-workspace" class="headerlink" title="yarn workspace"></a>yarn workspace</h2><p>3.1.1 æ­å»ºç¯å¢ƒ<br>æ™®é€šé¡¹ç›®ï¼šcloneä¸‹æ¥åé€šè¿‡yarn install,å³å¯æ­å»ºå®Œé¡¹ç›®ï¼Œæœ‰æ—¶éœ€è¦é…åˆpostinstall hooks,æ¥è¿›è¡Œè‡ªåŠ¨ç¼–è¯‘ï¼Œæˆ–è€…å…¶ä»–è®¾ç½®ã€‚</p><p>monorepo: å„ä¸ªåº“ä¹‹é—´å­˜åœ¨ä¾èµ–ï¼Œå¦‚Aä¾èµ–äºBï¼Œå› æ­¤æˆ‘ä»¬é€šå¸¸éœ€è¦å°†B linkåˆ°Açš„node_moduleé‡Œï¼Œä¸€æ—¦ä»“åº“å¾ˆå¤šçš„è¯ï¼Œæ‰‹åŠ¨çš„ç®¡ç†è¿™äº›linkæ“ä½œè´Ÿæ‹…å¾ˆå¤§ï¼Œå› æ­¤éœ€è¦è‡ªåŠ¨åŒ–çš„linkæ“ä½œï¼ŒæŒ‰ç…§æ‹“æ‰‘æ’åºå°†å„ä¸ªä¾èµ–è¿›è¡Œlink</p><p>è§£å†³æ–¹å¼ï¼šé€šè¿‡ä½¿ç”¨workspaceï¼Œyarn installä¼šè‡ªåŠ¨çš„å¸®å¿™è§£å†³å®‰è£…å’Œlinké—®é¢˜</p><pre class="line-numbers language-none"><code class="language-none">yarn install # ç­‰ä»·äº lerna bootstrap --npm-client yarn --use-workspaces</code></pre><p>3.1.2 æ¸…ç†ç¯å¢ƒ<br>åœ¨ä¾èµ–ä¹±æ‰æˆ–è€…å·¥ç¨‹æ··ä¹±çš„æƒ…å†µä¸‹ï¼Œæ¸…ç†ä¾èµ–</p><p>æ™®é€šé¡¹ç›®ï¼š ç›´æ¥åˆ é™¤node_modulesä»¥åŠç¼–è¯‘åçš„äº§ç‰©ã€‚</p><p>monorepoï¼š ä¸ä»…éœ€è¦åˆ é™¤rootçš„node_modulesçš„ç¼–è¯‘äº§ç‰©è¿˜éœ€è¦åˆ é™¤å„ä¸ªpackageé‡Œçš„node_modulesä»¥åŠç¼–è¯‘äº§ç‰©</p><p>è§£å†³æ–¹å¼ï¼šä½¿ç”¨lerna cleanæ¥åˆ é™¤æ‰€æœ‰çš„node_modulesï¼Œä½¿ç”¨yarn workspaces run cleanæ¥æ‰§è¡Œæ‰€æœ‰packageçš„æ¸…ç†å·¥ä½œ</p><pre class="line-numbers language-none"><code class="language-none">lerna clean # æ¸…ç†æ‰€æœ‰çš„node_modulesyarn workspaces run clean # æ‰§è¡Œæ‰€æœ‰packageçš„cleanæ“ä½œ</code></pre><p>3.1.3 å®‰è£…|åˆ é™¤ä¾èµ–<br>æ™®é€šé¡¹ç›®ï¼š é€šè¿‡yarn addå’Œyarn removeå³å¯ç®€å•å§è§£å†³ä¾èµ–åº“çš„å®‰è£…å’Œåˆ é™¤é—®é¢˜</p><p>monorepo: ä¸€èˆ¬åˆ†ä¸ºä¸‰ç§åœºæ™¯</p><p>ç»™æŸä¸ªpackageå®‰è£…ä¾èµ–ï¼šyarn workspace packageB add packageA å°†packageAä½œä¸ºpackageBçš„ä¾èµ–è¿›è¡Œå®‰è£…</p><p>ç»™æ‰€æœ‰çš„packageå®‰è£…ä¾èµ–: ä½¿ç”¨yarn workspaces add lodash ç»™æ‰€æœ‰çš„packageå®‰è£…ä¾èµ–</p><p>ç»™root å®‰è£…ä¾èµ–ï¼šä¸€èˆ¬çš„å…¬ç”¨çš„å¼€å‘å·¥å…·éƒ½æ˜¯å®‰è£…åœ¨rooté‡Œï¼Œå¦‚typescript,æˆ‘ä»¬ä½¿ç”¨yarn add -W -D typescriptæ¥ç»™rootå®‰è£…ä¾èµ–</p><p>å¯¹åº”çš„ä¸‰ç§åœºæ™¯åˆ é™¤ä¾èµ–å¦‚ä¸‹</p><pre class="line-numbers language-none"><code class="language-none">yarn workspace packageB remove packageAyarn workspaces remove lodashyarn remove -W -D typescript</code></pre><p>3.1.4 é¡¹ç›®æ„å»º<br>æ™®é€šé¡¹ç›®ï¼šå»ºç«‹ä¸€ä¸ªbuildçš„npm scriptï¼Œä½¿ç”¨yarn buildå³å¯å®Œæˆé¡¹ç›®æ„å»º</p><p>monorepo:åŒºåˆ«äºæ™®é€šé¡¹ç›®ä¹‹å¤„åœ¨äºå„ä¸ªpackageä¹‹é—´å­˜åœ¨ç›¸äº’ä¾èµ–ï¼Œå¦‚packageBåªæœ‰åœ¨packageAæ„å»ºå®Œä¹‹åæ‰èƒ½è¿›è¡Œæ„å»ºï¼Œå¦åˆ™å°±ä¼šå‡ºé”™ï¼Œè¿™å®é™…ä¸Šè¦æ±‚æˆ‘ä»¬ä»¥ä¸€ç§æ‹“æ‰‘æ’åºçš„è§„åˆ™è¿›è¡Œæ„å»ºã€‚</p><p>æˆ‘ä»¬å¯ä»¥è‡ªå·±æ„å»ºæ‹“æ‰‘æ’åºè§„åˆ™ï¼Œå¾ˆä¸å¹¸çš„æ˜¯yarnçš„workspaceæš‚æ—¶å¹¶æœªæ”¯æŒæŒ‰ç…§æ‹“æ‰‘æ’åºè§„åˆ™æ‰§è¡Œå‘½ä»¤,è™½ç„¶è¯¥ rfcå·²ç»è¢«acceptedï¼Œä½†æ˜¯å°šæœªå®ç°, å¹¸è¿çš„æ˜¯lernaæ”¯æŒæŒ‰ç…§æ‹“æ‰‘æ’åºè§„åˆ™æ‰§è¡Œå‘½ä»¤, â€“sortå‚æ•°å¯ä»¥æ§åˆ¶ä»¥æ‹“æ‰‘æ’åºè§„åˆ™æ‰§è¡Œå‘½ä»¤</p><pre class="line-numbers language-none"><code class="language-none">lerna run --stream --sort build</code></pre><p>3.1.5 ç‰ˆæœ¬å‡çº§åŠå‘åŒ…<br>é¡¹ç›®æµ‹è¯•å®Œæˆåï¼Œå°±æ¶‰åŠåˆ°ç‰ˆæœ¬å‘å¸ƒï¼Œç‰ˆæœ¬å‘å¸ƒä¸€èˆ¬æ¶‰åŠåˆ°å¦‚ä¸‹ä¸€äº›æ­¥éª¤</p><p>æ¡ä»¶éªŒè¯: å¦‚éªŒè¯æµ‹è¯•æ˜¯å¦é€šè¿‡ï¼Œæ˜¯å¦å­˜åœ¨æœªæäº¤çš„ä»£ç ï¼Œæ˜¯å¦åœ¨ä¸»åˆ†æ”¯ä¸Šè¿›è¡Œç‰ˆæœ¬å‘å¸ƒæ“ä½œ</p><p>version_bump:å‘ç‰ˆçš„æ—¶å€™éœ€è¦æ›´æ–°ç‰ˆæœ¬å·ï¼Œè¿™æ—¶å€™å¦‚ä½•æ›´æ–°ç‰ˆæœ¬å·å°±æ˜¯ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬å¤§å®¶éƒ½ä¼šéµå¾ª semVerè¯­ä¹‰ï¼Œ</p><p>ç”Ÿæˆchangelog: ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹æ¯ä¸ªpackageæ¯ä¸ªç‰ˆæœ¬è§£å†³äº†å“ªäº›åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦ç»™æ¯ä¸ªpackageéƒ½ç”Ÿæˆä¸€ä»½changelogæ–¹ä¾¿ç”¨æˆ·æŸ¥çœ‹å„ä¸ªç‰ˆæœ¬çš„åŠŸèƒ½å˜åŒ–ã€‚</p><p>ç”Ÿæˆgit tagï¼šä¸ºäº†æ–¹ä¾¿åç»­å›æ»šé—®é¢˜åŠé—®é¢˜æ’æŸ¥é€šå¸¸éœ€è¦ç»™æ¯ä¸ªç‰ˆæœ¬åˆ›å»ºä¸€ä¸ªgit tag</p><p>git å‘å¸ƒç‰ˆæœ¬ï¼šæ¯æ¬¡å‘ç‰ˆæˆ‘ä»¬éƒ½éœ€è¦å•ç‹¬ç”Ÿæˆä¸€ä¸ªcommitè®°å½•æ¥æ ‡è®°milestone</p><p>å‘å¸ƒnpmåŒ…ï¼šå‘å¸ƒå®Œgitåæˆ‘ä»¬è¿˜éœ€è¦å°†æ›´æ–°çš„ç‰ˆæœ¬å‘å¸ƒåˆ°npmä¸Šï¼Œä»¥ä¾¿å¤–éƒ¨ç”¨æˆ·ä½¿ç”¨</p><p>æˆ‘ä»¬å‘ç°æ‰‹åŠ¨çš„æ‰§è¡Œè¿™äº›æ“ä½œæ˜¯å¾ˆéº»çƒ¦çš„ä¸”åŠå…¶å®¹æ˜“å‡ºé”™ï¼Œå¹¸è¿çš„æ˜¯lernaå¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³è¿™äº›é—®é¢˜</p><p>yarnå®˜æ–¹å¹¶ä¸æ‰“ç®—æ”¯æŒå‘å¸ƒæµç¨‹ï¼Œåªæ˜¯æƒ³åšå¥½åŒ…ç®¡ç†å·¥å…·ï¼Œå› æ­¤è¿™éƒ¨åˆ†è¿˜æ˜¯éœ€è¦é€šè¿‡lernaæ”¯æŒ</p><p>lernaæä¾›äº†publishå’Œversionæ¥æ”¯æŒç‰ˆæœ¬çš„å‡çº§å’Œå‘å¸ƒ, publishçš„åŠŸèƒ½å¯ä»¥å³åŒ…å«versionçš„å·¥ä½œï¼Œä¹Ÿå¯ä»¥å•çº¯çš„åªåšå‘å¸ƒæ“ä½œã€‚</p><p>3.2 ä¼˜é›…çš„æäº¤<br>3.2.1 <code>commitizen</code> &amp;&amp; <code>cz-lerna-changelog</code><br>commitizen æ˜¯ç”¨æ¥æ ¼å¼åŒ– git commit message çš„å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸€ç§é—®è¯¢å¼çš„æ–¹å¼å»è·å–æ‰€éœ€çš„æäº¤ä¿¡æ¯ã€‚</p><p>cz-lerna-changelog æ˜¯ä¸“é—¨ä¸º Lerna é¡¹ç›®é‡èº«å®šåˆ¶çš„æäº¤è§„èŒƒï¼Œåœ¨é—®è¯¢çš„è¿‡ç¨‹ï¼Œä¼šæœ‰ç±»ä¼¼å½±å“å“ªäº› package çš„é€‰æ‹©ã€‚å¦‚ä¸‹ï¼š</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxOS84LzE4LzE2Y2EyYTNmZGEyMTA3MGI"></p><p>æˆ‘ä»¬ä½¿ç”¨ commitizen å’Œ cz-lerna-changelog æ¥è§„èŒƒæäº¤ï¼Œä¸ºåé¢è‡ªåŠ¨ç”Ÿæˆæ—¥å¿—ä½œå¥½å‡†å¤‡ã€‚</p><p>å› ä¸ºè¿™æ˜¯æ•´ä¸ªå·¥ç¨‹çš„å¼€å‘ä¾èµ–ï¼Œæ‰€ä»¥åœ¨æ ¹ç›®å½•å®‰è£…ï¼š</p><pre class="line-numbers language-none"><code class="language-none">yarn add  -D commitizenyarn add  -D cz-lerna-changelog</code></pre><p>å®‰è£…å®Œæˆåï¼Œåœ¨ <code>package.json</code> ä¸­å¢åŠ  <code>config</code> å­—æ®µï¼ŒæŠŠ <code>cz-lerna-changelog</code> é…ç½®ç»™ <code>commitizen</code>ã€‚åŒæ—¶å› ä¸º<code>commitizen</code>ä¸æ˜¯å…¨å±€å®‰å…¨çš„ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ  <code>scripts</code> è„šæœ¬æ¥æ‰§è¡Œ <code>git-cz</code></p><pre class="line-numbers language-json" data-language="json"><code class="language-json">&#123;  &quot;name&quot;: &quot;root&quot;,  &quot;private&quot;: true,  &quot;scripts&quot;: &#123;    &quot;commit&quot;: &quot;git-cz&quot;  &#125;,  &quot;config&quot;: &#123;    &quot;commitizen&quot;: &#123;      &quot;path&quot;: &quot;.&#x2F;node_modules&#x2F;cz-lerna-changelog&quot;    &#125;  &#125;,  &quot;devDependencies&quot;: &#123;    &quot;commitizen&quot;: &quot;^3.1.1&quot;,    &quot;cz-lerna-changelog&quot;: &quot;^2.0.2&quot;,    &quot;lerna&quot;: &quot;^3.15.0&quot;  &#125;&#125;</code></pre><p>ä¹‹ååœ¨å¸¸è§„çš„å¼€å‘ä¸­å°±å¯ä»¥ä½¿ç”¨ yarn run commit æ¥æ ¹æ®æç¤ºä¸€æ­¥ä¸€æ­¥è¾“å…¥ï¼Œæ¥å®Œæˆä»£ç çš„æäº¤ã€‚</p><p>3.2.2 commitlint &amp;&amp; husky<br>ä¸Šé¢æˆ‘ä»¬ä½¿ç”¨äº† commitizen æ¥è§„èŒƒæäº¤ï¼Œä½†è¿™ä¸ªè¦é å¼€å‘è‡ªè§‰ä½¿ç”¨<code>yarn run commit</code> ã€‚ä¸‡ä¸€å¿˜è®°äº†ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨ git commit æäº¤æ€ä¹ˆåŠï¼Ÿç­”æ¡ˆå°±æ˜¯åœ¨æäº¤æ—¶å¯¹æäº¤ä¿¡æ¯è¿›è¡Œæ ¡éªŒï¼Œå¦‚æœä¸ç¬¦åˆè¦æ±‚å°±ä¸è®©æäº¤ï¼Œå¹¶æç¤ºã€‚æ ¡éªŒçš„å·¥ä½œç”± commitlint æ¥å®Œæˆï¼Œæ ¡éªŒçš„æ—¶æœºåˆ™ç”± husky æ¥æŒ‡å®šã€‚husky ç»§æ‰¿äº† Git ä¸‹æ‰€æœ‰çš„é’©å­ï¼Œåœ¨è§¦å‘é’©å­çš„æ—¶å€™ï¼Œhusky å¯ä»¥é˜»æ­¢ä¸åˆæ³•çš„ commit,push ç­‰ç­‰ã€‚</p><p>å®‰è£… commitlint ä»¥åŠè¦éµå®ˆçš„è§„èŒƒ</p><pre class="line-numbers language-none"><code class="language-none">yarn add -D @commitlint&#x2F;cli @commitlint&#x2F;config-conventional</code></pre><p>åœ¨å·¥ç¨‹æ ¹ç›®å½•ä¸º commitlint å¢åŠ é…ç½®æ–‡ä»¶ commitlint.config.js ä¸ºcommitlint æŒ‡å®šç›¸åº”çš„è§„èŒƒ</p><pre class="line-numbers language-none"><code class="language-none">module.exports &#x3D; &#123; extends: [&#39;@commitlint&#x2F;config-conventional&#39;] &#125;</code></pre><p>å®‰è£… husky</p><pre class="line-numbers language-none"><code class="language-none">yarn add -D husky</code></pre><p>åœ¨ package.json ä¸­å¢åŠ å¦‚ä¸‹é…ç½®</p><pre class="line-numbers language-none"><code class="language-none">&quot;husky&quot;: &#123; &quot;hooks&quot;: &#123;    &quot;commit-msg&quot;: &quot;commitlint -E HUSKY_GIT_PARAMS&quot;     &#125;&#125;</code></pre><p>â€œcommit-msgâ€æ˜¯gitæäº¤æ—¶æ ¡éªŒæäº¤ä¿¡æ¯çš„é’©å­ï¼Œå½“è§¦å‘æ—¶ä¾¿ä¼šä½¿ç”¨ commitlit æ¥æ ¡éªŒã€‚å®‰è£…é…ç½®å®Œæˆåï¼Œæƒ³é€šè¿‡ git commit æˆ–è€…å…¶å®ƒç¬¬ä¸‰æ–¹å·¥å…·æäº¤æ—¶ï¼Œåªè¦æäº¤ä¿¡æ¯ä¸ç¬¦åˆè§„èŒƒå°±æ— æ³•æäº¤ã€‚ä»è€Œçº¦æŸå¼€å‘è€…ä½¿ç”¨ yarn run commit æ¥æäº¤ã€‚</p><p>3.2.3 eslint &amp;&amp; lint-staged<br>é™¤äº†è§„èŒƒæäº¤ä¿¡æ¯ï¼Œä»£ç æœ¬èº«è‚¯å®šä¹Ÿå°‘äº†é è§„èŒƒæ¥ç»Ÿä¸€é£æ ¼ã€‚</p><p>å®‰è£…</p><pre class="line-numbers language-none"><code class="language-none">yarn add  -D standard lint-staged</code></pre><p>eslintå°±æ˜¯å®Œæ•´çš„ä¸€å¥— JavaScriptï¼ˆtypescriptï¼‰ ä»£ç è§„èŒƒï¼Œè‡ªå¸¦ linter &amp; ä»£ç è‡ªåŠ¨ä¿®æ­£ã€‚è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç å¹¶ä¿®æ­£ï¼Œæå‰å‘ç°é£æ ¼ä»¥åŠç¨‹åºé—®é¢˜, åŒæ—¶ä¹Ÿæ”¯æŒtypescriptçš„ä»£ç è§„èŒƒæ ¡éªŒï¼Œ<code>eslintrc.json</code>é…ç½®ï¼š</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">&#123;    &quot;extends&quot;: [        &quot;yayajing&quot;,        &quot;plugin:@typescript-eslint&#x2F;recommended&quot;    ],    &quot;parser&quot;: &quot;typescript-eslint-parser&quot;,    &quot;plugins&quot;: [&quot;@typescript-eslint&quot;],    &quot;rules&quot;: &#123;        &quot;eqeqeq&quot;:&quot;off&quot;,        &quot;@typescript-eslint&#x2F;explicit-function-return-type&quot;: &quot;off&quot;,        &quot;no-template-curly-in-string&quot;: &quot;off&quot;    &#125;  &#125;</code></pre><p><code>lint-staged staged</code> æ˜¯ Git é‡Œçš„æ¦‚å¿µï¼Œè¡¨ç¤ºæš‚å­˜åŒºï¼Œlint-staged è¡¨ç¤ºåªæ£€æŸ¥å¹¶çŸ«æ­£æš‚å­˜åŒºä¸­çš„æ–‡ä»¶ã€‚ä¸€æ¥æé«˜æ ¡éªŒæ•ˆç‡ï¼ŒäºŒæ¥å¯ä»¥ä¸ºè€çš„é¡¹ç›®å¸¦å»å·¨å¤§çš„æ–¹ä¾¿ã€‚<br>package.jsoné…ç½®</p><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; package.json&#123;  &quot;name&quot;: &quot;root&quot;,  &quot;private&quot;: true,  &quot;scripts&quot;: &#123;    &quot;c&quot;: &quot;git-cz&quot;  &#125;,  &quot;config&quot;: &#123;    &quot;commitizen&quot;: &#123;      &quot;path&quot;: &quot;.&#x2F;node_modules&#x2F;cz-lerna-changelog&quot;    &#125;  &#125;,  &quot;husky&quot;: &#123;    &quot;hooks&quot;: &#123;      &quot;pre-commit&quot;: &quot;lint-staged&quot;,      &quot;commit-msg&quot;: &quot;commitlint -E HUSKY_GIT_PARAMS&quot;    &#125;  &#125;,  &quot;lint-staged&quot;: &#123;    &quot;*.ts&quot;: [      &quot;eslint --fix&quot;,      &quot;git add&quot;    ]  &#125;,  &quot;devDependencies&quot;: &#123;    &quot;@commitlint&#x2F;cli&quot;: &quot;^8.1.0&quot;,    &quot;@commitlint&#x2F;config-conventional&quot;: &quot;^8.1.0&quot;,    &quot;commitizen&quot;: &quot;^3.1.1&quot;,    &quot;cz-lerna-changelog&quot;: &quot;^2.0.2&quot;,    &quot;husky&quot;: &quot;^3.0.0&quot;,    &quot;lerna&quot;: &quot;^3.15.0&quot;,    &quot;lint-staged&quot;: &quot;^9.2.0&quot;  &#125;&#125;</code></pre><p>å®‰è£…å®Œæˆåï¼Œåœ¨ package.json å¢åŠ  lint-staged é…ç½®ï¼Œå¦‚ä¸Šæ‰€ç¤ºè¡¨ç¤ºå¯¹æš‚å­˜åŒºä¸­çš„ js æ–‡ä»¶æ‰§è¡Œ eslint â€“fix æ ¡éªŒå¹¶è‡ªåŠ¨ä¿®å¤ã€‚é‚£ä»€ä¹ˆæ—¶å€™å»æ ¡éªŒå‘¢ï¼Œå°±åˆç”¨åˆ°äº†ä¸Šé¢å®‰è£…çš„ husky ï¼Œhuskyçš„é…ç½®ä¸­å¢åŠ pre-commitçš„é’©å­ç”¨æ¥æ‰§è¡Œ lint-staged çš„æ ¡éªŒæ“ä½œã€‚</p><p>æ­¤æ—¶æäº¤ ts æ–‡ä»¶æ—¶ï¼Œä¾¿ä¼šè‡ªåŠ¨ä¿®æ­£å¹¶æ ¡éªŒé”™è¯¯ã€‚å³ä¿è¯äº†ä»£ç é£æ ¼ç»Ÿä¸€ï¼Œåˆèƒ½æé«˜ä»£ç è´¨é‡ã€‚</p><p>3.3 å‘å¸ƒè‡ªåŠ¨ç”Ÿæˆæ—¥å¿—<br>æœ‰äº†ä¹‹å‰çš„è§„èŒƒæäº¤ï¼Œè‡ªåŠ¨ç”Ÿæˆæ—¥å¿—ä¾¿æ°´åˆ°æ¸ æˆäº†ã€‚å†è¯¦ç»†çœ‹ä¸‹ lerna publish æ—¶åšäº†å“ªäº›äº‹æƒ…ï¼š</p><p>3.3.1 lerna version æ›´æ–°ç‰ˆæœ¬</p><ul><li><p>æ‰¾å‡ºä»ä¸Šä¸€ä¸ªç‰ˆæœ¬å‘å¸ƒä»¥æ¥æœ‰è¿‡å˜æ›´çš„ package</p></li><li><p>æç¤ºå¼€å‘è€…ç¡®å®šè¦å‘å¸ƒçš„ç‰ˆæœ¬å·</p></li><li><p>å°†æ‰€æœ‰æ›´æ–°è¿‡çš„çš„ package ä¸­çš„package.jsonçš„versionå­—æ®µæ›´æ–°</p></li><li><p>å°†ä¾èµ–æ›´æ–°è¿‡çš„ package çš„ åŒ…ä¸­çš„ä¾èµ–ç‰ˆæœ¬å·æ›´æ–°</p></li><li><p>æ›´æ–° lerna.json ä¸­çš„ version å­—æ®µ</p></li><li><p>æäº¤ä¸Šè¿°ä¿®æ”¹ï¼Œå¹¶æ‰“ä¸€ä¸ª tag</p></li><li><p>æ¨é€åˆ° git ä»“åº“<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxOS84LzE4LzE2Y2EyYTMzNTMzMzhkYTA"></p></li></ul><p>3.3.2 ä½¿ç”¨ npm publish å°†æ–°ç‰ˆæœ¬æ¨é€åˆ° npm<br><code>CHANGELOG</code> å¾ˆæ˜æ˜¾æ˜¯å’Œ version ä¸€ä¸€å¯¹åº”çš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨ lerna version ä¸­æƒ³åŠæ³•ï¼ŒæŸ¥çœ‹ lerna version å‘½ä»¤çš„è¯¦ç»†è¯´æ˜åï¼Œä¼šçœ‹åˆ°ä¸€ä¸ªé…ç½®å‚æ•° <code>--conventional-commits</code>ã€‚æ²¡é”™ï¼Œåªè¦æˆ‘ä»¬æŒ‰è§„èŒƒæäº¤åï¼Œåœ¨ lerna version çš„è¿‡ç¨‹ä¸­ä¼šä¾¿ä¼šè‡ªåŠ¨ç”Ÿæˆå½“å‰è¿™ä¸ªç‰ˆæœ¬çš„ CHANGELOGã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œä¸ç”¨æ¯æ¬¡è¾“å…¥å‚æ•°ï¼Œå¯ä»¥é…ç½®åœ¨ <code>lerna.json</code>ä¸­ï¼Œå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">&#123;  &quot;packages&quot;: [    &quot;packages&#x2F;*&quot;  ],  &quot;command&quot;: &#123;    &quot;bootstrap&quot;: &#123;      &quot;hoist&quot;: true    &#125;,    &quot;version&quot;: &#123;      &quot;conventionalCommits&quot;: true    &#125;  &#125;,  &quot;ignoreChanges&quot;: [    &quot;**&#x2F;*.md&quot;  ],  &quot;version&quot;: &quot;0.0.1-alpha.1&quot;&#125;</code></pre><p><code>lerna version</code> ä¼šæ£€æµ‹ä»ä¸Šä¸€ä¸ªç‰ˆæœ¬å‘å¸ƒä»¥æ¥çš„å˜åŠ¨ï¼Œä½†æœ‰ä¸€äº›æ–‡ä»¶çš„æäº¤ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›è§¦å‘ç‰ˆæœ¬çš„å˜åŠ¨ï¼Œè­¬å¦‚ .md æ–‡ä»¶çš„ä¿®æ”¹ï¼Œå¹¶æ²¡æœ‰å®é™…å¼•èµ· package é€»è¾‘çš„å˜åŒ–ï¼Œä¸åº”è¯¥è§¦å‘ç‰ˆæœ¬çš„å˜æ›´ã€‚å¯ä»¥é€šè¿‡ <code>ignoreChanges</code> é…ç½®æ’é™¤ã€‚å¦‚ä¸Šã€‚<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly91c2VyLWdvbGQtY2RuLnhpdHUuaW8vMjAxOS84LzE4LzE2Y2EyYTM3NTQwN2Y0MzY"></p><p>å®é™… <code>lerna version</code>å¾ˆå°‘ç›´æ¥ä½¿ç”¨ï¼Œå› ä¸ºå®ƒåŒ…å«åœ¨ <code>lerna publish</code> ä¸­äº†ï¼Œç›´æ¥ä½¿ç”¨ <code>lerna publish</code>å°±å¥½äº†ã€‚</p><p>3.4 å®Œå–„çš„æµ‹è¯•ç”¨ä¾‹<br>monorepoé¡¹ç›®ï¼šæµ‹è¯•æœ‰ä¸¤ç§æ–¹å¼</p><ul><li><p>ä½¿ç”¨ç»Ÿä¸€çš„jestæµ‹è¯•é…ç½®è¿™æ ·æ–¹ä¾¿å…¨å±€çš„è·‘jestå³å¯ï¼Œå¥½å¤„æ˜¯å¯ä»¥æ–¹ä¾¿ç»Ÿè®¡æ‰€æœ‰ä»£ç çš„æµ‹è¯•è¦†ç›–ç‡ï¼Œåå¤„æ˜¯å¦‚æœpackageæ¯”è¾ƒå¼‚æ„ï¼ˆå¦‚å°ç¨‹åºï¼Œå‰ç«¯ï¼Œnode æœåŠ¡ç«¯ç­‰ï¼‰ï¼Œç»Ÿä¸€çš„æµ‹è¯•é…ç½®ä¸å¤ªå¥½ç¼–å†™</p></li><li><p>æ¯ä¸ªpackageå•ç‹¬æ”¯æŒtestå‘½ä»¤ï¼Œä½¿ç”¨yarn workspace run testï¼Œåå¤„æ˜¯ä¸å¥½ç»Ÿä¸€æ”¶é›†æ‰€æœ‰ä»£ç çš„æµ‹è¯•è¦†ç›–ç‡</p></li></ul><p>å¦‚æœé‡‡ç”¨jestç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œæ”¯æŒtypescriptçš„è¯ï¼Œéœ€è¦åˆå§‹åŒ–é…ç½®jest.config.jsï¼š</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">module.exports &#x3D; &#123;  preset: &#39;ts-jest&#39;,  moduleFileExtensions: [&#39;ts&#39;],  testEnvironment: &#39;node&#39;&#125;</code></pre><p>4 å®è·µæ€»ç»“<br>åˆ°è¿™é‡Œï¼ŒåŸºæœ¬ä¸Šå·²ç»æ„å»ºäº†åŸºäºlernaå’Œyarn workspaceçš„monorepoé¡¹ç›®çš„æœ€ä½³å®è·µäº†ï¼Œè¯¥æœ‰çš„åŠŸèƒ½éƒ½æœ‰ï¼š</p><ul><li><p>å®Œå–„çš„å·¥ä½œæµ</p></li><li><p>typescriptæ”¯æŒ</p></li><li><p>é£æ ¼ç»Ÿä¸€çš„ç¼–ç </p></li><li><p>å®Œæ•´çš„å•å…ƒæµ‹è¯•</p></li><li><p>ä¸€é”®å¼çš„å‘å¸ƒæœºåˆ¶</p></li><li><p>å®Œç¾çš„æ›´æ–°æ—¥å¿—</p></li></ul><p>â€¦â€¦</p><p>å½“ç„¶ï¼Œæ„å»ºä¸€å¥—å®Œå–„çš„ä»“åº“ç®¡ç†æœºåˆ¶ï¼Œå¯èƒ½å®ƒçš„æ”¶ç›Šä¸æ˜¯ä¸€äº›é‡åŒ–çš„æŒ‡æ ‡å¯ä»¥è¡¡é‡å‡ºæ¥çš„ï¼Œä¹Ÿæ²¡æœ‰ç›´æ¥çš„ä»·å€¼è¾“å‡ºï¼Œä½†å®ƒèƒ½åœ¨æ—¥å¸¸çš„å·¥ä½œä¸­æå¤§çš„æé«˜å·¥ä½œæ•ˆç‡ï¼Œè§£æ”¾ç”Ÿäº§åŠ›ï¼ŒèŠ‚çœå¤§é‡çš„äººåŠ›æˆæœ¬ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/i10630226/article/details/99702447">lerna+yarn workspace+monorepoé¡¹ç›®çš„æœ€ä½³å®è·µ</a><br><a href="https://www.jianshu.com/p/c10d0b8c5581">5åˆ†é’Ÿææ‡‚Monorepo</a><br><a href="https://www.easemob.com/news/5948">2021å¹´ç®¡ç†Monorepoä»£ç åº“çš„11ç§å‡ºè‰²å·¥å…·</a></p>]]></content>
      
      
      <categories>
          
          <category> npm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¢æ•ˆ </tag>
            
            <tag> npm </tag>
            
            <tag> monorepo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¿¡æ ‡ï¼ˆBeacon ï¼‰</title>
      <link href="//post/2022-05-23beacon.html"/>
      <url>//post/2022-05-23beacon.html</url>
      
        <content type="html"><![CDATA[<h2 id="Beacon-ç‰¹ç‚¹"><a href="#Beacon-ç‰¹ç‚¹" class="headerlink" title="Beacon  ç‰¹ç‚¹"></a>Beacon  ç‰¹ç‚¹</h2><ul><li>æ¥å£ç”¨äºå°†<em>å¼‚æ­¥</em>å’Œ<em>éé˜»å¡</em>è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ã€‚</li><li>è¯·æ±‚ä½¿ç”¨HTTPåè®®ä¸­çš„POSTæ–¹æ³•ï¼Œè¯·æ±‚é€šå¸¸<em>ä¸éœ€è¦å“åº”</em>ã€‚</li><li>è¿™ä¸ªè¯·æ±‚è¢«ä¿è¯åœ¨ï¼Œé¡µé¢çš„unloadçŠ¶æ€ä»å‘èµ·åˆ°å®Œæˆä¹‹å‰ï¼Œè¢«å‘é€ã€‚è€Œå¹¶ä¸éœ€è¦ä¸€ä¸ªé˜»å¡è¯·æ±‚ï¼Œä¾‹å¦‚ XMLHttpRequest ã€‚<h2 id="Beacon-åœºæ™¯"><a href="#Beacon-åœºæ™¯" class="headerlink" title="Beacon  åœºæ™¯"></a>Beacon  åœºæ™¯</h2>å‘é€å¼‚æ­¥éé˜»å¡æ•°æ®åˆ°æœåŠ¡ç«¯<h2 id="ä¸ºä»€ä¹ˆæ˜¯ä¿¡æ ‡ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæ˜¯ä¿¡æ ‡ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæ˜¯ä¿¡æ ‡ï¼Ÿ"></a>ä¸ºä»€ä¹ˆæ˜¯ä¿¡æ ‡ï¼Ÿ</h2>Beacon æ¥å£æ»¡è¶³äº†<em>åˆ†æ</em>å’Œ<em>è¯Šæ–­ä»£ç </em>çš„éœ€è¦ï¼Œè¿™äº›ä»£ç é€šå¸¸ä¼šå°è¯•åœ¨<em>å¸è½½æ–‡æ¡£ä¹‹å‰å°†æ•°æ®å‘é€åˆ° webæœåŠ¡å™¨</em>ã€‚å‘é€æ•°æ®çš„ä»»ä½•è¿‡æ—©æ—¶æœºéƒ½å¯èƒ½å¯¼è‡´é”™å¤±æ”¶é›†æ•°æ®çš„æœºä¼šã€‚ä½†æ˜¯ï¼Œç¡®ä¿åœ¨å¸è½½æ–‡æ¡£æœŸé—´å‘é€æ•°æ®æ˜¯å¼€å‘äººå‘˜éš¾ä»¥åšåˆ°çš„ã€‚</li></ul><p>ç”¨æˆ·ä»£ç†é€šå¸¸ä¼šå¿½ç•¥å¸è½½æ–‡æ¡£å¤„ç†ç¨‹åºä¸­çš„å¼‚æ­¥ XMLHttpRequests è¯·æ±‚ã€‚è‹¥è¦è§£å†³æ­¤é—®é¢˜ï¼Œä¸ºäº†åˆ†æå’Œè¯Šæ–­ä»£ç ï¼Œé€šå¸¸ä¼šåœ¨ unload (en-US) äº‹ä»¶æˆ– beforeunload (en-US) äº‹ä»¶ä¸­åˆ›å»ºåŒæ­¥ XMLHttpRequest è¯·æ±‚ä»¥æäº¤æ•°æ®ã€‚åŒæ­¥ XMLHttpRequest è¯·æ±‚å¼ºåˆ¶æµè§ˆå™¨å»¶è¿Ÿå¸è½½æ–‡æ¡£ï¼Œå¹¶ä½¿ä¸‹ä¸€ä¸ªé¡µé¢è·³è½¬çœ‹èµ·æ¥è¾ƒæ…¢ã€‚ä¸‹ä¸€é¡µé¢æ²¡æœ‰ä»»ä½•åŠæ³•æ¥é¿å…è¿™ç§é¡µé¢åŠ è½½æ€§èƒ½ä¸ä½³çš„æ„Ÿè§‰ã€‚</p><h2 id="å…¶ä»–æŠ€æœ¯"><a href="#å…¶ä»–æŠ€æœ¯" class="headerlink" title="å…¶ä»–æŠ€æœ¯"></a>å…¶ä»–æŠ€æœ¯</h2><p>å…¶ä¸­ä¸€ç§æŠ€æœ¯æ˜¯é€šè¿‡åˆ›å»º Image å…ƒç´ å¹¶åœ¨å¸è½½æ–‡æ¡£å¤„ç†ç¨‹åºä¸­è®¾ç½®å…¶ src å±æ€§æ¥å»¶è¿Ÿå¸è½½ä»¥æäº¤æ•°æ®ã€‚ç”±äºå¤§å¤šæ•°ç”¨æˆ·ä»£ç†ä¼šå»¶è¿Ÿæ–‡æ¡£å¸è½½ï¼Œä»¥å®ŒæˆæŒ‚èµ·çš„å›¾ç‰‡åŠ è½½ï¼Œå› æ­¤å¯ä»¥åœ¨å¸è½½è¿‡ç¨‹ä¸­æäº¤æ•°æ®ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯åœ¨å¸è½½å¤„ç†ç¨‹åºä¸­åˆ›å»ºä¸€ä¸ªæ— æ“ä½œå¾ªç¯ï¼ŒèŠ±è´¹æ•°ç§’ä»¥å»¶è¿Ÿå¸è½½å¹¶å°†æ•°æ®æäº¤åˆ°æœåŠ¡å™¨ã€‚</p><p>ä½†æ˜¯ä¸Šè¿°æŠ€æœ¯ä¸ä»…ä»£è¡¨äº†è¾ƒå·®çš„ç¼–ç æ¨¡å¼ï¼Œå…¶ä¸­ä¸€äº›è¿˜æ˜¯ä¸å¯é çš„ï¼Œä¼šå¯¼è‡´ä¸‹ä¸€ä¸ªå¯¼èˆªçš„é¡µé¢åŠ è½½æ€§èƒ½è¾ƒå·®çš„æ„Ÿè§‰ã€‚ä¿¡æ ‡ API æä¾›äº†è§£å†³è¿™äº›é—®é¢˜çš„æ ‡å‡†æ–¹æ³•ã€‚</p><h2 id="å…¨å±€ç¯å¢ƒ"><a href="#å…¨å±€ç¯å¢ƒ" class="headerlink" title="å…¨å±€ç¯å¢ƒ"></a>å…¨å±€ç¯å¢ƒ</h2><p>Beacon API çš„ Navigator.sendBeacon() æ–¹æ³•ç”¨äºåœ¨å…¨å±€æµè§ˆä¸Šä¸‹æ–‡ä¸­å‘æœåŠ¡å™¨å‘é€æ•°æ®ä¿¡æ ‡ã€‚è¯¥æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼ŒURLå’Œè¦åœ¨è¯·æ±‚ä¸­å‘é€çš„æ•°æ®dataã€‚dataå‚æ•°æ˜¯å¯é€‰çš„ï¼Œå…¶ç±»å‹å¯ä»¥æ˜¯ ArrayBufferViewã€Blobã€DOMString æˆ–FormDataã€‚å¦‚æœæµè§ˆå™¨æˆåŠŸçš„ä»¥é˜Ÿåˆ—å½¢å¼æ’åˆ—äº†ç”¨äºä¼ é€’çš„è¯·æ±‚ï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›â€œtrueâ€ï¼Œå¦åˆ™è¿”å›â€œfalseâ€ã€‚</p><h2 id="ç”Ÿäº§ç¯å¢ƒ"><a href="#ç”Ÿäº§ç¯å¢ƒ" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒ"></a>ç”Ÿäº§ç¯å¢ƒ</h2><p>Beacon APIçš„ WorkerNavigator.sendBeacon() æ–¹æ³•ç”¨äºä» worker global scope å‘æœåŠ¡å™¨å‘é€æ•°æ®ä¿¡æ ‡ã€‚è¯¥æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼ŒURLå’Œè¦åœ¨è¯·æ±‚ä¸­å‘é€çš„æ•°æ®dataã€‚dataå‚æ•°æ˜¯å¯é€‰çš„ï¼Œå…¶ç±»å‹å¯ä»¥æ˜¯ ArrayBufferViewã€Blobã€DOMString æˆ– FormDataã€‚å¦‚æœæµè§ˆå™¨æˆåŠŸçš„ä»¥é˜Ÿåˆ—å½¢å¼æ’åˆ—äº†ç”¨äºä¼ é€’çš„è¯·æ±‚ï¼Œåˆ™è¯¥æ–¹æ³•è¿”å›â€œtrueâ€ï¼Œå¦åˆ™è¿”å›â€œfalseâ€ã€‚</p><h2 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h2><ul><li>API æä¾›äº†è§£å†³è¿™äº›é—®é¢˜çš„æ ‡å‡†æ–¹æ³•</li></ul><h2 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h2><ul><li>æµè§ˆå™¨å…¼å®¹æ€§<br>Navigator.sendBeacon().Browser_compatibilityè¡¨è¯´æ˜äº†è¯¥æ–¹æ³•å…·æœ‰ç›¸å¯¹å¹¿æ³›åœ°å®ç°ã€‚ä½†æ˜¯ï¼ŒWorkerNavigator.sendBeacon().Browser_compatibilityæ•°æ®æ˜¾ç¤ºè¯¥æ–¹æ³•æ²¡æœ‰è¢«å®ç°ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> æµè§ˆå™¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æµè§ˆå™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flutter Bruno</title>
      <link href="//post/2022-05-20fluter-bruno.html"/>
      <url>//post/2022-05-20fluter-bruno.html</url>
      
        <content type="html"><![CDATA[<h1 id="Bruno"><a href="#Bruno" class="headerlink" title="Bruno"></a>Bruno</h1><p><img src="http://t-blog-images.aijs.top/img/20220520105610.webp"><br>Bruno æ˜¯ç”±è´å£³ã€Œç”¨æˆ·ä½“éªŒä¸­å¿ƒ &amp; ç§»åŠ¨ç«¯ä½œä¸šç»„ã€è”åˆæ‰“é€ çš„ä¸€å¥—ä¼ä¸šçº§ç§»åŠ¨ç«¯ Flutter ç»„ä»¶åº“ï¼Œäº 12 æœˆ 10 æ—¥æ­£å¼å¼€æº:</p><p><a href="https://bruno.ke.com/">å®˜ç½‘</a></p><p><a href="https://pub.flutter-io.cn/packages/bruno">Pub åœ°å€</a></p><p><a href="https://github.com/LianjiaTech/bruno">GitHub ä»“åº“</a></p><h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>è´å£³è‡ª 2018 å¹´åº•å¼€å§‹å¯¹ Flutter çš„æ¢ç´¢å’Œå®è·µï¼ŒFlutter è½åœ°ä¸šåŠ¡æœ‰æ•ˆåœ°æå‡äº†äº§ç ”æ•ˆç‡ã€‚ä½†è·¨ä¸šåŠ¡çº¿ååŒæ•ˆç‡è¾ƒä½ï¼Œé‡å¤åŠ³åŠ¨åŠ›å¤§ï¼Œä»£ç ç»´æŠ¤æˆæœ¬é«˜ç­‰é—®é¢˜ä¾æ—§å‡¸æ˜¾ã€‚Bruno æ˜¯è´å£³é’ˆå¯¹ä¸Šè¿°é—®é¢˜åœ¨å…¬å¸å†…å‘èµ·çš„ææ•ˆä¸“é¡¹ï¼Œè‡´åŠ›äºæ‰“é€ è´å£³æ ‡å‡† Flutter ç”Ÿæ€ã€‚ç»è¿‡ä¸¤å¹´çš„æ‰“ç£¨å’Œæ²‰æ·€ï¼ŒBruno ç°å·²æœåŠ¡è´å£³ B ç«¯å…¨çº¿ä¸šåŠ¡ï¼Œæ¶µç›– 30 å¤šç§ç±»å‹ 100+  ç»„ä»¶ï¼Œä¸ºè¿‘ 18 ä¸ª App æœåŠ¡ï¼Œæ–°å¢é¡µé¢ç»„ä»¶è¦†ç›–ç‡å¹³å‡è¾¾åˆ° 80% ä»¥ä¸Šã€‚</p><p>ç›¸ä¿¡è´å£³é‡åˆ°çš„é—®é¢˜ä¹Ÿæ˜¯å¤§å‹å›¢é˜Ÿæˆ–è€…ä¸ªäººå¼€å‘è€…ä¸å¯é¿å…çš„é—®é¢˜ï¼Œç›®å‰é’ˆå¯¹è¯¥ç±»é—®é¢˜çš„ä¸­åå°è§£å†³æ–¹æ¡ˆå±‚å‡ºä¸ç©·ï¼Œä½†åœ¨ Flutter ç”Ÿæ€ä¸­ç±»ä¼¼æˆç†Ÿè§£å†³æ–¹æ¡ˆåŒ®ä¹ã€‚æˆ‘ä»¬å¸Œæœ›å°†è´å£³åœ¨ Flutter é¢†åŸŸçš„å®è·µç»éªŒå›é¦ˆç»™ç¤¾åŒºï¼Œæ›´åŠ å®Œå–„ Flutter ç”Ÿæ€ï¼Œå› æ­¤ Bruno æ­£å¼å¼€æºã€‚</p><h1 id="è®¾è®¡ç†å¿µ"><a href="#è®¾è®¡ç†å¿µ" class="headerlink" title="è®¾è®¡ç†å¿µ"></a>è®¾è®¡ç†å¿µ</h1><p>Bruno åŸºäºç”Ÿé•¿ã€åŒ…å®¹ã€è”æ¥çš„è®¾è®¡ç†å¿µï¼Œèµ‹äºˆç»„ä»¶è½»å·§çµæ´»ã€æ‹¥æŠ±å˜åŒ–ã€åŒ…å®¹ä¸‡ç‰©çš„å“è´¨ã€‚</p><h1 id="Bruno-çš„ä¼˜åŠ¿"><a href="#Bruno-çš„ä¼˜åŠ¿" class="headerlink" title="Bruno çš„ä¼˜åŠ¿"></a>Bruno çš„ä¼˜åŠ¿</h1><ol><li>é€‚åº¦çµæ´»ã€å……åˆ†å¯æ‰©å±•</li></ol><p>Bruno å€¡å¯¼æ ‡å‡†åŒ–ä¸‹çš„è‡ªç”±ã€ç®€å•ã€çµæ´»ï¼ŒåŸºäº Flutter åŸºç¡€ç»„ä»¶çš„å°è£…ï¼Œä½¿å…¶å…·å¤‡é€‚åº¦çµæ´»ï¼Œä½¿ç”¨ç»„ä»¶ææ•ˆå°¤ä¸ºé‡è¦ã€‚åŒæ—¶ç»„ä»¶æ”¯æŒå……åˆ†å¯æ‰©å±•ï¼Œæ—¢å¯æ»¡è¶³å¤šäº§å“çš„å¿«é€Ÿæ¥å…¥åˆèƒ½åŒ…å®¹ç‰¹æ®Šåœºæ™¯ã€‚</p><p>ç»è¿‡ä¸¤å¹´çš„ä¸šåŠ¡å®è·µï¼Œæˆ‘ä»¬æœ€ç»ˆäº§å‡ºäº† 102 ä¸ªç»„ä»¶ï¼Œè¦†ç›–ç±»å‹æœ‰ å›¾è¡¨ã€å¯¼èˆªã€æ•°æ®å½•å…¥ã€æ“ä½œåé¦ˆã€å†…å®¹å±•ç¤º ç­‰ã€‚</p><p><img src="http://t-blog-images.aijs.top/img/54b2f46cdc6ee8467b67d92d9c0d2d98.gif"><br>2. è¿æ¥è®¾è®¡&lt;â€“&gt;å¼€å‘</p><p>Bruno åŸºäº Sketch MeaXure äºŒæ¬¡å¼€å‘ï¼Œå®ç°ç»„ä»¶è‡ªåŠ¨è¯†åˆ«å’Œæ ‡æ³¨ã€‚å¼€å‘è€…å¯ä»¥ä»è®¾è®¡ä¾§äº§å‡ºçš„æ ‡æ³¨ç¨¿ä¸­æ¸…æ™°çš„çœ‹åˆ°é¡µé¢æ¶µç›–çš„ç»„ä»¶ï¼Œä¿¡æ¯æ— ç¼ä¼ è¾¾ï¼Œé«˜æ•ˆè¿æ¥è®¾è®¡ä¸å¼€å‘ã€‚</p><p><img src="http://t-blog-images.aijs.top/img/a72e4aee43eb8e32589bef23dd95c75d.gif"><br>3. ä¸»é¢˜å®šåˆ¶ã€å“ç‰Œé£æ ¼è‡ªå®šä¹‰</p><p>Bruno ä¸ä»…æ”¯æŒå…¨å±€è‰²å·çš„æ›¿æ¢ï¼Œè¿˜æ”¯æŒç»„ä»¶åœ†è§’ã€å­—ä½“å¤§å°ã€å†…éƒ¨é—´è·ç­‰å±æ€§çš„å®šåˆ¶ã€‚åœ¨å®šåˆ¶å…¨å±€æ ·å¼æ‰“é€ è‡ªæœ‰å“ç‰Œé£æ ¼çš„åŒæ—¶ï¼Œæ”¯æŒå•ä¸ªç»„ä»¶è‡ªå®šä¹‰æ»¡è¶³ç‰¹å¼‚åŒ–åœºæ™¯éœ€æ±‚ã€‚</p><ul><li>é»˜è®¤åŸºç¡€è§„èŒƒ</li></ul><img src="http://t-blog-images.aijs.top/img/20220520105949.webp" style="width:400px;object-fit:contain" /><img src="http://t-blog-images.aijs.top/img/20220520110003.webp" style="width:400px;object-fit:contain" /><ul><li>å…¨å±€æ ·å¼å®šåˆ¶</li></ul><p><img src="http://t-blog-images.aijs.top/img/61dc33d90cd80e88c4a52cccdc713c48.gif"></p><ul><li>å•ç»„ä»¶æ ·å¼å®šåˆ¶</li></ul><p><img src="http://t-blog-images.aijs.top/img/6da0a3d9b63b47e64a127320597900eb.gif"><br>Bruno è¿˜å¯æ”¯æŒå•ä¸šåŠ¡çš„å…¨å±€é…ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ æ˜¯ç»„ä»¶åŒ–å·¥ç¨‹ç»“æ„ï¼Œé‚£ä¹ˆä½ å¯ä»¥å®šä¹‰æ¯ä¸ªä¸šåŠ¡ç»„ä»¶çš„ç‰¹æœ‰é£æ ¼ã€‚</p><ol start="4"><li>ç‰©æ–™æ‰¿è½½ã€æ•™ç¨‹æŒ‡å¼•</li></ol><p>Bruno å®˜ç½‘æ‰¿è½½äº§å“è®¾è®¡ç‰©æ–™ã€ç»„ä»¶é…å¥—æ–‡æ¡£ã€Demo ä¸‹è½½ã€æœç´¢ç­‰åŸºç¡€èƒ½åŠ›ï¼ŒåŒæ—¶é…æœ‰æ•™ç¨‹æŒ‡å¼•å¼€å‘ä¹Ÿå¯æ“ä½œ Sketch æ’ä»¶è®¾è®¡é¡µé¢ï¼Œå®ç°é›¶è®¾è®¡èµ„æºä»‹å…¥ã€‚</p><p><img src="http://t-blog-images.aijs.top/img/ea334037633605e094d03338cc151045.gif"><br>Bruno å®˜ç½‘: <a href="https://bruno.ke.com/">https://bruno.ke.com</a></p><h1 id="æœªæ¥å±•æœ›"><a href="#æœªæ¥å±•æœ›" class="headerlink" title="æœªæ¥å±•æœ›"></a>æœªæ¥å±•æœ›</h1><ol><li>ä¸°å¯Œå’Œå®Œå–„ç»„ä»¶</li></ol><p>ç›®å‰ Bruno ç»„ä»¶æ¶µç›–ç§ç±»å¯ä»¥è¦†ç›–å¸¸è§ä½¿ç”¨åœºæ™¯ï¼Œæ»¡è¶³ä¼ä¸šå»ºç«‹è‡ªæœ‰å“ç‰Œå½¢è±¡ App éœ€æ±‚ã€‚æœªæ¥æˆ‘ä»¬ä¼šæ ¹æ®ä¸šåŠ¡å‘å±•å’Œäº§å“å‡çº§ä¸æ–­è¿­ä»£ç»„ä»¶ï¼Œä¸°å¯Œäº§å“å†…å®¹æå‡è§†è§‰ä½“éªŒã€‚</p><ol start="2"><li>æå‡è½åœ°æ•ˆç‡</li></ol><p>æˆ‘ä»¬ä¸æ­¢å…³æ³¨ç»„ä»¶çš„è®¾è®¡ä¸ç ”å‘ï¼Œç»„ä»¶è½åœ°ä¹Ÿæ˜¯æå‡äº§ç ”æ•ˆç‡è‡³å…³é‡è¦çš„ç¯èŠ‚ï¼Œå› æ­¤æˆ‘ä»¬å¯¹ Sketch MeaXure åšäº†äºŒæ¬¡æ”¹é€ ï¼Œå®ç°ç»„ä»¶è‡ªåŠ¨åŒ–æ ‡æ³¨ã€‚åŒæ—¶è´å£³äº§ç ”å›¢é˜ŸæŠŠè‡ªåŠ¨åŒ–æ ‡æ³¨èƒ½åŠ›çº¿ä¸ŠåŒ–ï¼Œè¿›ä¸€æ­¥æå‡ç»„ä»¶è½åœ°æ•ˆç‡ã€‚</p><p>3ã€UI è‡ªåŠ¨åŒ–èµ°æŸ¥</p><p>è´å£³äº§ç ”å›¢é˜Ÿä¹Ÿåœ¨æ¢ç´¢ UI è‡ªåŠ¨åŒ–èµ°æŸ¥æ–¹å‘ï¼ŒæœŸæœ›è§£æ”¾è®¾è®¡ä¾§èµ°æŸ¥äººåŠ›ï¼Œè®©è®¾è®¡å¸ˆæ›´å¤šæŠ•å…¥å¯¹äº§å“çš„æ´å¯Ÿç†è§£ï¼Œåˆ›é€ ä¼˜è´¨è®¾è®¡ï¼Œæå‡è§†è§‰ä½“éªŒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¢æ•ˆ </tag>
            
            <tag> flutter </tag>
            
            <tag> mobile </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npmå¼€å‘wikiç¼–è¾‘å™¨é—®é¢˜æ€»ç»“</title>
      <link href="//post/2022-05-19npm-pkg.html"/>
      <url>//post/2022-05-19npm-pkg.html</url>
      
        <content type="html"><![CDATA[<h2 id="åŸæ¶æ„"><a href="#åŸæ¶æ„" class="headerlink" title="åŸæ¶æ„"></a>åŸæ¶æ„</h2><p><img src="http://t-blog-images.aijs.top/img/wiki-ui.webp"></p><h2 id="é‡æ„å"><a href="#é‡æ„å" class="headerlink" title="é‡æ„å"></a>é‡æ„å</h2><p><img src="http://t-blog-images.aijs.top/img/slate-wiki.webp"></p><h2 id="tsconfig-ts"><a href="#tsconfig-ts" class="headerlink" title="tsconfig.ts"></a>tsconfig.ts</h2><pre class="line-numbers language-none"><code class="language-none">&#123;  &#x2F;&#x2F; ç¼–è¯‘é€‰é¡¹  &quot;compilerOptions&quot;: &#123;    &#x2F;&#x2F; ç”Ÿæˆä»£ç çš„è¯­è¨€ç‰ˆæœ¬ï¼šå°†æˆ‘ä»¬å†™çš„ TS ä»£ç ç¼–è¯‘æˆå“ªä¸ªç‰ˆæœ¬çš„ JS ä»£ç     &quot;target&quot;: &quot;es5&quot;,    &#x2F;&#x2F; æŒ‡å®šè¦åŒ…å«åœ¨ç¼–è¯‘ä¸­çš„ library    &#x2F;&#x2F; https:&#x2F;&#x2F;github.com&#x2F;microsoft&#x2F;TypeScript&#x2F;blob&#x2F;90e83adb44&#x2F;lib&#x2F;lib.dom.iterable.d.ts    &quot;lib&quot;: [&quot;dom&quot;, &quot;dom.iterable&quot;, &quot;esnext&quot;],    &#x2F;&#x2F; å…è®¸ ts ç¼–è¯‘å™¨ç¼–è¯‘ js æ–‡ä»¶    &quot;allowJs&quot;: true,    &#x2F;&#x2F; è·³è¿‡ç±»å‹å£°æ˜æ–‡ä»¶çš„ç±»å‹æ£€æŸ¥    &quot;skipLibCheck&quot;: true,    &#x2F;&#x2F; es æ¨¡å— äº’æ“ä½œï¼Œå±è”½ ESModule å’Œ CommonJS ä¹‹é—´çš„å·®å¼‚    &quot;esModuleInterop&quot;: true,    &#x2F;&#x2F; å…è®¸é€šè¿‡ import x from &#39;y&#39; å³ä½¿æ¨¡å—æ²¡æœ‰æ˜¾å¼æŒ‡å®š default å¯¼å‡º    &quot;allowSyntheticDefaultImports&quot;: true,    &#x2F;&#x2F; å¼€å¯ä¸¥æ ¼æ¨¡å¼    &quot;strict&quot;: true,    &#x2F;&#x2F; å¯¹æ–‡ä»¶åç§°å¼ºåˆ¶åŒºåˆ†å¤§å°å†™    &quot;forceConsistentCasingInFileNames&quot;: true,    &#x2F;&#x2F; ä¸º switch è¯­å¥å¯ç”¨é”™è¯¯æŠ¥å‘Š    &quot;noFallthroughCasesInSwitch&quot;: true,    &#x2F;&#x2F; ç”Ÿæˆä»£ç çš„æ¨¡å—åŒ–æ ‡å‡†    &quot;module&quot;: &quot;esnext&quot;,    &#x2F;&#x2F; æ¨¡å—è§£æï¼ˆæŸ¥æ‰¾ï¼‰ç­–ç•¥    &quot;moduleResolution&quot;: &quot;node&quot;,    &#x2F;&#x2F; å…è®¸å¯¼å…¥æ‰©å±•åä¸º.jsonçš„æ¨¡å—    &quot;resolveJsonModule&quot;: true,    &#x2F;&#x2F; æ˜¯å¦å°†æ²¡æœ‰ import&#x2F;export çš„æ–‡ä»¶è§†ä¸ºæ—§ï¼ˆå…¨å±€è€Œéæ¨¡å—åŒ–ï¼‰è„šæœ¬æ–‡ä»¶    &quot;isolatedModules&quot;: true,    &#x2F;&#x2F; ç¼–è¯‘æ—¶ä¸ç”Ÿæˆä»»ä½•JSæ–‡ä»¶ï¼ˆåªè¿›è¡Œç±»å‹æ£€æŸ¥ï¼‰    &quot;noEmit&quot;: true,    &#x2F;&#x2F; æŒ‡å®šå°† JSX ç¼–è¯‘æˆä»€ä¹ˆå½¢å¼    &quot;jsx&quot;: &quot;react-jsx&quot;  &#125;,  &#x2F;&#x2F; æŒ‡å®šå…è®¸ ts å¤„ç†çš„ç›®å½•  &quot;include&quot;: [&quot;src&quot;]&#125;&#x2F;&#x2F; https:&#x2F;&#x2F;blog.csdn.net&#x2F;m0_62118859&#x2F;article&#x2F;details&#x2F;124543485</code></pre><h2 id="Cannot-read-properties-of-null"><a href="#Cannot-read-properties-of-null" class="headerlink" title="Cannot read properties of null"></a>Cannot read properties of null</h2><pre class="line-numbers language-none"><code class="language-none">react.development.js:1621 Uncaught TypeError: Cannot read properties of null</code></pre><hr/><h2 id="ahooks-ç‰ˆæœ¬"><a href="#ahooks-ç‰ˆæœ¬" class="headerlink" title="ahooks  ç‰ˆæœ¬"></a>ahooks  ç‰ˆæœ¬</h2><ol><li><p>useControlledValue</p><pre class="line-numbers language-none"><code class="language-none">Uncaught SyntaxError: The requested module &#39;&#x2F;node_modules&#x2F;.vite&#x2F;deps&#x2F;ahooks.js?v&#x3D;a7b43f7a&#39; does not provide an export named &#39;useControlledValue&#39; (at index.tsx:2:1)</code></pre><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>Deprecated the useControlledValue naming left over from 1.0, please use useControllableValue instead<br><a href="https://github.com/alibaba/hooks/releases?page=5#:~:text=Deprecated%20the%20useControlledValue%20naming%20left%20over%20from%201.0%2C%20please%20use%20useControllableValue%20instead"><a href="https://github.com/alibaba/hooks/releases/tag/v3.0.0-alpha.4">v3.0.0-alpha.4</a></a></p></blockquote></li><li><p>useRequest</p></li></ol><pre class="line-numbers language-none"><code class="language-none">react_devtools_backend.js:4026 Warning: Failed prop type: The prop &#96;loadMore&#96; is marked as required in &#96;InfiniteScroll&#96;, but its value is &#96;undefined&#96;.</code></pre><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>Removed loadMore related attributes, it is recommended to use useInfiniteScroll to achieve unlimited loading capacity.<br><a href="https://github.com/alibaba/hooks/releases/tag/v3.0.0-alpha.4">v3.0.0-alpha.4</a></p></blockquote><p><a href="http://quanzhan.applemei.com/webStack/TmpJeE1BPT0=">é™¤äº† dependencies å’Œ devDependenciesï¼Œå…¶ä»–çš„ä¾èµ–æœ‰ä»€ä¹ˆä½œç”¨å‘¢</a></p><pre class="line-numbers language-none"><code class="language-none">Pre-bundling dependencies:reactrecoilreact-domreact-router-domantd(...and 29 more)</code></pre><h3 id="æœ¬åœ°npm-linkå¤„ç†ä¸äº†ä¾èµ–å†²çª"><a href="#æœ¬åœ°npm-linkå¤„ç†ä¸äº†ä¾èµ–å†²çª" class="headerlink" title="æœ¬åœ°npm linkå¤„ç†ä¸äº†ä¾èµ–å†²çª"></a>æœ¬åœ°<code>npm link</code>å¤„ç†ä¸äº†ä¾èµ–å†²çª</h3><ul><li>è€ç‰ˆæœ¬å¯ä»¥è¿è¡Œ</li></ul><p><img src="http://t-blog-images.aijs.top/img/20220519183558.webp"></p><ul><li>æ–°ç‰ˆæœ¬æŠ¥é”™</li><li>åŸå›  ahooks^3.x.xæ²¡æœ‰v2ç‰ˆæœ¬api</li></ul><hr/><h3 id="å‘å¸ƒå®‰è£…åˆ°é¡¹ç›®ä¸­æµ‹è¯•"><a href="#å‘å¸ƒå®‰è£…åˆ°é¡¹ç›®ä¸­æµ‹è¯•" class="headerlink" title="å‘å¸ƒå®‰è£…åˆ°é¡¹ç›®ä¸­æµ‹è¯•"></a>å‘å¸ƒå®‰è£…åˆ°é¡¹ç›®ä¸­æµ‹è¯•</h3><ul><li>å‘å¸ƒ</li></ul><ol><li><p>npm è„šæœ¬</p><pre class="line-numbers language-none"><code class="language-none">&quot;scripts&quot;: &#123;    &quot;dev&quot;: &quot;vite --port 3004&quot;,    &quot;start&quot;: &quot;yarn build:css &amp;&amp; webpack serve --config config&#x2F;webpack.dev.config.js&quot;,    &quot;copy:css&quot;: &quot;cp src&#x2F;**&#x2F;*.css dist&#x2F; &amp;&amp; rsync src&#x2F;styles&#x2F;*.css dist&#x2F;styles&#x2F;&quot;,    &quot;build&quot;: &quot;tsc&quot;,    &quot;build:css&quot;: &quot;node-sass src&#x2F; -o src&#x2F; &quot;,    &quot;prepublishOnly&quot;: &quot;rm -rf dist&#x2F; &amp;&amp; yarn build &amp;&amp; yarn build:css &amp;&amp; yarn copy:css&quot;,    &quot;t&quot;: &quot;rm -rf dist&#x2F; &amp;&amp; yarn build &amp;&amp; yarn build:css &amp;&amp; yarn copy:css&quot;,    &quot;push:beta&quot;: &quot;npm publish --tag beta&quot;  &#125;,</code></pre></li><li><p>æ‰§è¡Œè„šæœ¬<br><code>$ yarn push:beta</code></p></li><li><p>å‘å¸ƒç»“æœ</p></li></ol><pre class="line-numbers language-none"><code class="language-none">## Current Tags*   [0.0.1Â ](https:&#x2F;&#x2F;tnpm.ty-inc.top&#x2F;package&#x2F;@ty-fe&#x2F;slate-wiki-pro&#x2F;v&#x2F;0.0.1)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  Â Â Â Â Â Â Â Â Â  ... Â Â Â Â Â Â Â Â Â Â betaÂ (a few seconds ago)*   [0.0.1Â ](https:&#x2F;&#x2F;tnpm.ty-inc.top&#x2F;package&#x2F;@ty-fe&#x2F;slate-wiki-pro&#x2F;v&#x2F;0.0.1)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  Â Â Â Â Â Â Â Â Â  ... Â Â Â Â Â Â Â Â Â Â latestÂ (a few seconds ago)</code></pre><p><img src="http://t-blog-images.aijs.top/img/20220519183625.webp"><br><img src="http://t-blog-images.aijs.top/img/20220519183638.webp"></p><hr/><h2 id="å›¾ç‰‡æ²¡æœ‰æ¸²æŸ“ï¼Œä¿®æ”¹ï¼Œæ‰“åŒ…é‡æ–°å‘å¸ƒ0-0-1-220519betaç‰ˆæœ¬æµ‹è¯•"><a href="#å›¾ç‰‡æ²¡æœ‰æ¸²æŸ“ï¼Œä¿®æ”¹ï¼Œæ‰“åŒ…é‡æ–°å‘å¸ƒ0-0-1-220519betaç‰ˆæœ¬æµ‹è¯•" class="headerlink" title="å›¾ç‰‡æ²¡æœ‰æ¸²æŸ“ï¼Œä¿®æ”¹ï¼Œæ‰“åŒ…é‡æ–°å‘å¸ƒ0.0.1-220519betaç‰ˆæœ¬æµ‹è¯•"></a>å›¾ç‰‡æ²¡æœ‰æ¸²æŸ“ï¼Œä¿®æ”¹ï¼Œæ‰“åŒ…é‡æ–°å‘å¸ƒ<code>0.0.1-220519beta</code>ç‰ˆæœ¬æµ‹è¯•</h2><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">slate-wiki@0.0.1-220519betanpm notice &#x3D;&#x3D;&#x3D; Tarball Details &#x3D;&#x3D;&#x3D; npm notice name:          @ty-fe&#x2F;slate-wiki                     npm notice version:       0.0.1-220519beta                        npm notice filename:      @ty-fe&#x2F;slate-wiki-0.0.1-220519beta.tgznpm notice package size:  228.0 kB                                npm notice unpacked size: 1.2 MB                                  npm notice shasum:        a2991de4933a9e5039ceb7082c5e0a80c2db828cnpm notice integrity:     sha512-iHQKpR2LM+F6Z[...]XDN40tHfwMxNg&#x3D;&#x3D;npm notice total files:   417                                     npm notice + @ty-fe&#x2F;slate-wiki@0.0.1-220519betaâœ¨  Done in 16.36s.slate-wiki-pro@0.0.1-220519betanpm notice &#x3D;&#x3D;&#x3D; Tarball Details &#x3D;&#x3D;&#x3D; npm notice name:          @ty-fe&#x2F;slate-wiki-pro                     npm notice version:       0.0.1-220519beta                            npm notice filename:      @ty-fe&#x2F;slate-wiki-pro-0.0.1-220519beta.tgznpm notice package size:  83.5 kB                                     npm notice unpacked size: 413.7 kB                                    npm notice shasum:        85cbe6fbffafc75db16e02427d1eac9b6a906ec3    npm notice integrity:     sha512-3viVco6ssb2N3[...]xxisHN9+qYnCA&#x3D;&#x3D;    npm notice total files:   205                                         npm notice + @ty-fe&#x2F;slate-wiki-pro@0.0.1-220519betaâœ¨  Done in 14.68s.</code></pre><hr/><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ol><li>ä¼ æŸ“æ€§<br>slate-wiki-pro,ä¾èµ–äºslate-wikiã€‚slate-wikiæ”¹åŠ¨ï¼Œé¡¹ç›®ä¾èµ–slate-wiki-proï¼Œéœ€è¦å‘slate-wikiå’Œslate-wiki-proï¼Œé¡¹ç›®è¦å®‰è£…slate-wiki-pro</li></ol><p><code>æ˜¯å¦å¯ä»¥è®©é¡¹ç›®ç›´æ¥ä¾èµ–slate-wikiã€slate-wiki-proæ”¹åŠ¨å“ªä¸ªå‘å¸ƒå“ªä¸ªï¼Œäº’ä¸å½±å“ï¼Ÿ</code></p><ol start="2"><li>é¡¹ç›®å¾ˆå¡</li></ol><p><code>å°†slateã€slate-wikiã€slate-wiki-proä½¿ç”¨umdèµ„æºï¼Œé¿å…é‡å¤ç¼–è¯‘æ˜¯å¦å¯ä»¥ï¼Ÿ</code></p><ol start="3"><li>ä¾èµ–è´¼å¤š</li></ol><pre class="line-numbers language-none"><code class="language-none">[######--------------------------------------------------] 49992&#x2F;102014</code></pre><ol start="4"><li>å¯åŠ¨æ²¡æœ‰æƒ³è±¡ä¸­é‚£ä¹ˆå¿«äº†</li></ol><p>viteé¢„ç¼–è¯‘æ—¶é—´è¿‡é•¿  130262ms &#x2F; 1000 &#x2F; 60 å¤§æ¦‚ä¸¤åˆ†é’Ÿï¼ŒåŠ è½½ç¼–è¯‘å¤§æ¦‚å‡ åˆ†é’Ÿï¼Œæ…¢çš„å“äºº</p><pre class="line-numbers language-none"><code class="language-none">vite v2.7.1 dev server running at:&gt; Local: http:&#x2F;&#x2F;localhost:3005&#x2F;&gt; Network: use &#96;--host&#96; to exposeready in 130262ms.  #é¦–æ¬¡ç¼–è¯‘vite v2.7.1 dev server running at:&gt; Local: http:&#x2F;&#x2F;localhost:3005&#x2F;&gt; Network: use &#96;--host&#96; to exposeready in 43312ms. #éé¦–æ¬¡ç¼–è¯‘</code></pre><hr/><h2 id="ä»£ç æ”¾ä»“åº“"><a href="#ä»£ç æ”¾ä»“åº“" class="headerlink" title="ä»£ç æ”¾ä»“åº“"></a>ä»£ç æ”¾ä»“åº“</h2><ul><li>slate-wiki</li></ul><p><img src="http://t-blog-images.aijs.top/img/20220519183700.webp"></p><p>Command line instructions<br>You can also upload existing files from your computer using the instructions below.</p><p>Git global setup</p><pre class="line-numbers language-none"><code class="language-none">git config --global user.name &quot;é™ˆæµ·é¾™&quot;git config --global user.email &quot;haotian.chen@ty.com&quot;</code></pre><p>Create a new repository</p><pre class="line-numbers language-none"><code class="language-none">git clone ssh:&#x2F;&#x2F;git@registry.code.ty-inc.top:10023&#x2F;fe-efficacy&#x2F;slate-wiki.gitcd slate-wikitouch README.mdgit add README.mdgit commit -m &quot;add README&quot;</code></pre><p>Push an existing folder</p><pre class="line-numbers language-none"><code class="language-none">cd existing_foldergit initgit remote add origin ssh:&#x2F;&#x2F;git@registry.code.ty-inc.top:10023&#x2F;fe-efficacy&#x2F;slate-wiki.gitgit add .git commit -m &quot;Initial commit&quot;</code></pre><p>Push an existing Git repository</p><pre class="line-numbers language-none"><code class="language-none">cd existing_repogit remote rename origin old-origingit remote add origin ssh:&#x2F;&#x2F;git@registry.code.ty-inc.top:10023&#x2F;fe-efficacy&#x2F;slate-wiki.git</code></pre><ul><li>slate-wiki-pro<br>ç•¥<hr/></li></ul><p>æ·±å…¥äº†è§£æ‰“åŒ…ï¼Œæœ¬ç«™è¯·æœ<a href="https://v.aijs.top/post/2022-05-19npm"><code>npm ç‰ˆæœ¬çš„ä¾èµ–</code></a></p><h2 id="react-codemirrorä½¿ç”¨ç‰ˆæœ¬react16-æ’ä»¶åŠé¡¹ç›®ä½¿ç”¨react18"><a href="#react-codemirrorä½¿ç”¨ç‰ˆæœ¬react16-æ’ä»¶åŠé¡¹ç›®ä½¿ç”¨react18" class="headerlink" title="react-codemirrorä½¿ç”¨ç‰ˆæœ¬react16,æ’ä»¶åŠé¡¹ç›®ä½¿ç”¨react18"></a>react-codemirrorä½¿ç”¨ç‰ˆæœ¬react16,æ’ä»¶åŠé¡¹ç›®ä½¿ç”¨react18</h2><pre class="line-numbers language-none"><code class="language-none">react-dom.development.js:22738 Uncaught TypeError: cm is not a function    at UnControlled.componentDidMount (react-codemirror.tsx:718:19)    at commitLayoutEffectOnFiber (react-dom.development.js:23204:30)    at commitLayoutMountEffects_complete (react-dom.development.js:24578:9)    at commitLayoutEffects_begin (react-dom.development.js:24564:7)    at commitLayoutEffects (react-dom.development.js:24502:3)    at commitRootImpl (react-dom.development.js:26779:5)    at commitRoot (react-dom.development.js:26638:5)    at performSyncWorkOnRoot (react-dom.development.js:26073:3)    at flushSyncCallbacks (react-dom.development.js:12009:22)    at flushSyncCallbacksOnlyInLegacyMode (react-dom.development.js:11988:5)</code></pre><p><img src="http://t-blog-images.aijs.top/img/20220520141611.webp"></p><h2 id="vite-å…³äº-global-is-not-defined-é—®é¢˜"><a href="#vite-å…³äº-global-is-not-defined-é—®é¢˜" class="headerlink" title="vite å…³äº global is not defined é—®é¢˜"></a>vite å…³äº global is not defined é—®é¢˜</h2><p><a href="https://github.com/scniro/react-codemirror2/blob/0f2bb13cad2fb1364eb063cbd7ec9aae726a55eb/src/index.tsx#L7">react-codemirror2 æºç </a></p><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">declare let global: any;declare let require: any;const SERVER_RENDERED &#x3D; (typeof navigator &#x3D;&#x3D;&#x3D; &#39;undefined&#39; || (typeof global !&#x3D;&#x3D; &#39;undefined&#39; &amp;&amp; global[&#39;PREVENT_CODEMIRROR_RENDER&#39;] &#x3D;&#x3D;&#x3D; true));let cm;if (!SERVER_RENDERED) &#123;  cm &#x3D; require(&#39;codemirror&#39;);&#125;</code></pre><h2 id="vite-404"><a href="#vite-404" class="headerlink" title="vite 404"></a>vite 404</h2><pre class="line-numbers language-none"><code class="language-none">Could not load content for http:&#x2F;&#x2F;localhost:3005&#x2F;node_modules&#x2F;@tuya-fe&#x2F;slate-wiki&#x2F;src&#x2F;slate&#x2F;3rd&#x2F;react-codemirror.tsx (HTTP error: status code 404, net::ERR_HTTP_RESPONSE_CODE_FAILURE)</code></pre><h2 id="todo"><a href="#todo" class="headerlink" title="todo"></a>todo</h2><ul><li>codemirror åœ¨viteä¸­è¿è¡ŒæŠ¥é”™ï¼Œcodemirroræ‰¾ä¸åˆ°ï¼Œwebpackæ‰“åŒ…æ­£å¸¸</li></ul>]]></content>
      
      
      <categories>
          
          <category> npm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
            <tag> wiki </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm ç‰ˆæœ¬çš„ä¾èµ–</title>
      <link href="//post/2022-05-19npm.html"/>
      <url>//post/2022-05-19npm.html</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æèµ· npmï¼Œå¤§å®¶ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„åº”è¯¥å°±æ˜¯ npm install äº†ï¼Œä½†æ˜¯ npm install ä¹‹åç”Ÿæˆçš„ node_modules å¤§å®¶æœ‰è§‚å¯Ÿè¿‡å—ï¼Ÿpackage-lock.json æ–‡ä»¶çš„ä½œç”¨å¤§å®¶çŸ¥é“å—ï¼Ÿé™¤äº† dependencies å’Œ devDependenciesï¼Œå…¶ä»–çš„ä¾èµ–æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿæ¥ä¸‹æ¥ï¼Œæœ¬æ–‡å°†é’ˆå¯¹ npm ä¸­çš„ä½ å¯èƒ½å¿½ç•¥çš„ç»†èŠ‚å’Œå¤§å®¶åˆ†äº«ä¸€äº›ç»éªŒ ã€‚</p><h1 id="npm-å®‰è£…æœºåˆ¶"><a href="#npm-å®‰è£…æœºåˆ¶" class="headerlink" title="npm å®‰è£…æœºåˆ¶"></a>npm å®‰è£…æœºåˆ¶</h1><p>A å’Œ B åŒæ—¶ä¾èµ– Cï¼ŒC è¿™ä¸ªåŒ…ä¼šè¢«å®‰è£…åœ¨å“ªé‡Œå‘¢ï¼ŸC çš„ç‰ˆæœ¬ç›¸åŒå’Œç‰ˆæœ¬ä¸åŒæ—¶å®‰è£…ä¼šæœ‰ä»€ä¹ˆå·®å¼‚å‘¢ï¼Ÿpackage.json ä¸­åŒ…çš„å‰åé¡ºåºå¯¹äºå®‰è£…æ—¶æœ‰ä»€ä¹ˆå½±å“å—ï¼Ÿè¿™äº›é—®é¢˜å¹³æ—¶å¤§å®¶å¯èƒ½æ²¡æœ‰æ³¨æ„è¿‡ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥ä¸€èµ·ç ”ç©¶ä¸€ä¸‹å§ã€‚</p><h2 id="A-å’Œ-B-åŒæ—¶ä¾èµ–-Cï¼Œè¿™ä¸ªåŒ…ä¼šè¢«å®‰è£…åœ¨å“ªé‡Œå‘¢ï¼Ÿ"><a href="#A-å’Œ-B-åŒæ—¶ä¾èµ–-Cï¼Œè¿™ä¸ªåŒ…ä¼šè¢«å®‰è£…åœ¨å“ªé‡Œå‘¢ï¼Ÿ" class="headerlink" title="A å’Œ B åŒæ—¶ä¾èµ– Cï¼Œè¿™ä¸ªåŒ…ä¼šè¢«å®‰è£…åœ¨å“ªé‡Œå‘¢ï¼Ÿ"></a>A å’Œ B åŒæ—¶ä¾èµ– Cï¼Œè¿™ä¸ªåŒ…ä¼šè¢«å®‰è£…åœ¨å“ªé‡Œå‘¢ï¼Ÿ</h2><p>å‡å¦‚æœ‰ A å’Œ B ä¸¤ä¸ªåŒ…ï¼Œä¸¤ä¸ªåŒ…éƒ½ä¾èµ– C è¿™ä¸ªåŒ…ï¼Œnpm 2 ä¼šä¾æ¬¡é€’å½’å®‰è£… A å’Œ B ä¸¤ä¸ªåŒ…åŠå…¶å­ä¾èµ–åŒ…åˆ° node_modules ä¸­ã€‚æ‰§è¡Œå®Œæ¯•åï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ° <code>./node_modules</code> è¿™å±‚ç›®å½•åªå«æœ‰è¿™ä¸¤ä¸ªå­ç›®å½•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">node_modules&#x2F; â”œâ”€â”¬ A â”‚ â”œâ”€â”€ C â”œâ”€â”¬ B â”‚ â””â”€â”€ C </code></pre><p>å¦‚æœä½¿ç”¨ npm 3 æ¥è¿›è¡Œå®‰è£…çš„è¯ï¼Œ<code>./node_modules</code> ä¸‹çš„ç›®å½•å°†ä¼šåŒ…å«ä¸‰ä¸ªå­ç›®å½•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">node_modules&#x2F; â”œâ”€â”¬ A â”œâ”€â”¬ B â”œâ”€â”¬ C </code></pre><p>ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„åŒºåˆ«å‘¢ï¼Ÿè¿™å°±è¦ä» npm çš„å·¥ä½œæ–¹å¼è¯´èµ·äº†ï¼š</p><h2 id="npm-2-å’Œ-npm-3-æ¨¡å—å®‰è£…æœºåˆ¶çš„å·®å¼‚"><a href="#npm-2-å’Œ-npm-3-æ¨¡å—å®‰è£…æœºåˆ¶çš„å·®å¼‚" class="headerlink" title="npm 2 å’Œ npm 3 æ¨¡å—å®‰è£…æœºåˆ¶çš„å·®å¼‚"></a>npm 2 å’Œ npm 3 æ¨¡å—å®‰è£…æœºåˆ¶çš„å·®å¼‚</h2><p>è™½ç„¶ç›®å‰æœ€æ–°çš„ npm ç‰ˆæœ¬æ˜¯ npm 6ï¼Œä½† npm 2 åˆ° npm 3 çš„ç‰ˆæœ¬å˜æ›´ä¸­å®ç°äº†ç›®å½•æ‰“å¹³ï¼Œä¸å…¶ä»–ç‰ˆæœ¬ç›¸æ¯”å·®åˆ«è¾ƒå¤§ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬å…·ä½“çœ‹ä¸‹è¿™ä¸¤ä¸ªç‰ˆæœ¬çš„å·®å¼‚ã€‚</p><p>npm 2 åœ¨å®‰è£…ä¾èµ–åŒ…æ—¶ï¼Œé‡‡ç”¨ç®€å•çš„é€’å½’å®‰è£…æ–¹æ³•ã€‚æ‰§è¡Œ npm install åï¼Œnpm æ ¹æ® dependencies å’Œ devDependencies å±æ€§ä¸­æŒ‡å®šçš„åŒ…æ¥ç¡®å®šç¬¬ä¸€å±‚ä¾èµ–ï¼Œnpm 2 ä¼šæ ¹æ®ç¬¬ä¸€å±‚ä¾èµ–çš„å­ä¾èµ–ï¼Œé€’å½’å®‰è£…å„ä¸ªåŒ…åˆ°å­ä¾èµ–çš„ node_modules ä¸­ï¼Œç›´åˆ°å­ä¾èµ–ä¸å†ä¾èµ–å…¶ä»–æ¨¡å—ã€‚æ‰§è¡Œå®Œæ¯•åï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ° .&#x2F;node_modules è¿™å±‚ç›®å½•ä¸­åŒ…å«æœ‰æˆ‘ä»¬ package.json æ–‡ä»¶ä¸­æ‰€æœ‰çš„ä¾èµ–åŒ…ï¼Œè€Œè¿™äº›ä¾èµ–åŒ…çš„å­ä¾èµ–åŒ…éƒ½å®‰è£…åœ¨äº†è‡ªå·±çš„ node_modules ä¸­ ï¼Œå½¢æˆç±»ä¼¼äºä¸‹é¢çš„ä¾èµ–æ ‘ï¼š</p><p><img src="http://t-blog-images.aijs.top/img/20220519181427.webp"></p><p>è¿™æ ·çš„ç›®å½•æœ‰è¾ƒä¸ºæ˜æ˜¾çš„å¥½å¤„ï¼š</p><p>1ï¼‰å±‚çº§ç»“æ„éå¸¸æ˜æ˜¾ï¼Œå¯ä»¥æ¸…æ¥šçš„åœ¨ç¬¬ä¸€å±‚çš„ node_modules ä¸­çœ‹åˆ°æˆ‘ä»¬å®‰è£…çš„æ‰€æœ‰åŒ…çš„å­ç›®å½•ï¼›</p><p>2ï¼‰åœ¨å·²çŸ¥è‡ªå·±æ‰€éœ€åŒ…çš„åå­—ä»¥åŠç‰ˆæœ¬å·æ—¶ï¼Œå¯ä»¥å¤åˆ¶ç²˜è´´ç›¸åº”çš„æ–‡ä»¶åˆ° node_modules ä¸­ï¼Œç„¶åæ‰‹åŠ¨æ›´æ”¹ package.json ä¸­çš„é…ç½®ï¼›</p><p>3ï¼‰å¦‚æœæƒ³è¦åˆ é™¤æŸä¸ªåŒ…ï¼Œåªéœ€è¦ç®€å•çš„åˆ é™¤ package.json æ–‡ä»¶ä¸­ç›¸åº”çš„æŸä¸€è¡Œï¼Œç„¶ååˆ é™¤ node_modules ä¸­è¯¥åŒ…çš„ç›®å½•ï¼›</p><p>ä½†æ˜¯è¿™æ ·çš„å±‚çº§ç»“æ„ä¹Ÿæœ‰è¾ƒä¸ºæ˜æ˜¾çš„ç¼ºé™·ï¼Œå½“æˆ‘çš„ Aï¼ŒBï¼ŒC ä¸‰ä¸ªåŒ…ä¸­æœ‰ç›¸åŒçš„ä¾èµ– D æ—¶ï¼Œæ‰§è¡Œ <code>npm install</code> åï¼ŒD ä¼šè¢«é‡å¤ä¸‹è½½ä¸‰æ¬¡ï¼Œè€Œéšç€æˆ‘ä»¬çš„é¡¹ç›®è¶Šæ¥è¶Šå¤æ‚ï¼Œ<code>node_modules</code> ä¸­çš„ä¾èµ–æ ‘ä¹Ÿä¼šè¶Šæ¥è¶Šå¤æ‚ï¼Œåƒ D è¿™æ ·çš„åŒ…ä¹Ÿä¼šè¶Šæ¥è¶Šå¤šï¼Œé€ æˆäº†å¤§é‡çš„å†—ä½™ï¼›åœ¨ windows ç³»ç»Ÿä¸­ï¼Œç”šè‡³ä¼šå› ä¸ºç›®å½•çš„å±‚çº§å¤ªæ·±å¯¼è‡´æ–‡ä»¶çš„è·¯å¾„è¿‡é•¿ï¼Œè§¦å‘æ–‡ä»¶è·¯å¾„ä¸èƒ½è¶…è¿‡ 280 ä¸ªå­—ç¬¦çš„é”™è¯¯ï¼›</p><p>ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œnpm 3 çš„ node_modules ç›®å½•æ”¹æˆäº†æ›´ä¸ºæ‰å¹³çŠ¶çš„å±‚çº§ç»“æ„ï¼Œå°½é‡æŠŠä¾èµ–ä»¥åŠä¾èµ–çš„ä¾èµ–å¹³é“ºåœ¨ node_modules æ–‡ä»¶å¤¹ä¸‹å…±äº«ä½¿ç”¨ã€‚</p><h2 id="npm-3-å¯¹äºåŒä¸€ä¾èµ–çš„ä¸åŒç‰ˆæœ¬ä¼šæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ"><a href="#npm-3-å¯¹äºåŒä¸€ä¾èµ–çš„ä¸åŒç‰ˆæœ¬ä¼šæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ" class="headerlink" title="npm 3 å¯¹äºåŒä¸€ä¾èµ–çš„ä¸åŒç‰ˆæœ¬ä¼šæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ"></a>npm 3 å¯¹äºåŒä¸€ä¾èµ–çš„ä¸åŒç‰ˆæœ¬ä¼šæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</h2><p>npm 3 ä¼šéå†æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œé€ä¸ªå°†æ¨¡å—æ”¾åœ¨ node_modules çš„ç¬¬ä¸€å±‚ï¼Œå½“å‘ç°æœ‰é‡å¤æ¨¡å—æ—¶ï¼Œåˆ™ä¸¢å¼ƒï¼Œ å¦‚æœé‡åˆ°æŸäº›ä¾èµ–ç‰ˆæœ¬ä¸å…¼å®¹çš„é—®é¢˜ï¼Œåˆ™ç»§ç»­é‡‡ç”¨ npm 2 çš„å¤„ç†æ–¹å¼ï¼Œå‰é¢çš„æ”¾åœ¨ node_modules ç›®å½•ä¸­ï¼Œåé¢çš„æ”¾åœ¨ä¾èµ–æ ‘ä¸­ã€‚ä¸¾ä¸ªä¾‹å­ï¼š Aï¼ŒBï¼Œä¾èµ– D(v 0.0.1)ï¼ŒC ä¾èµ– D(v 0.0.2):</p><p><img src="http://t-blog-images.aijs.top/img/20220519181500.webp"></p><p>ä½†æ˜¯ npm 3 ä¼šå¸¦æ¥ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼šç”±äºåœ¨æ‰§è¡Œ npm install çš„æ—¶å€™ï¼ŒæŒ‰ç…§ package.json é‡Œä¾èµ–çš„é¡ºåºä¾æ¬¡è§£æï¼Œä¸Šå›¾å¦‚æœ C çš„é¡ºåºåœ¨ Aï¼ŒB çš„å‰è¾¹ï¼Œnode_modules æ ‘åˆ™ä¼šæ”¹å˜ï¼Œä¼šå‡ºç°ä¸‹è¾¹çš„æƒ…å†µï¼š</p><p><img src="http://t-blog-images.aijs.top/img/20220519181517.webp"></p><p>ç”±æ­¤å¯è§ï¼Œnpm 3 å¹¶æœªå®Œå…¨è§£å†³å†—ä½™çš„é—®é¢˜ï¼Œç”šè‡³è¿˜ä¼šå¸¦æ¥æ–°çš„é—®é¢˜ã€‚</p><h2 id="ä¸ºä»€ä¹ˆä¼šå‡ºç°-package-lock-json-å‘¢ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¼šå‡ºç°-package-lock-json-å‘¢ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šå‡ºç° package-lock.json å‘¢ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¼šå‡ºç° package-lock.json å‘¢ï¼Ÿ</h2><p>ä¸ºä»€ä¹ˆä¼šæœ‰ package-lock.json æ–‡ä»¶å‘¢ï¼Ÿè¿™ä¸ªæˆ‘ä»¬å°±è¦å…ˆä» package.json æ–‡ä»¶è¯´èµ·äº†ã€‚</p><h2 id="package-json-çš„ä¸è¶³ä¹‹å¤„"><a href="#package-json-çš„ä¸è¶³ä¹‹å¤„" class="headerlink" title="package.json çš„ä¸è¶³ä¹‹å¤„"></a>package.json çš„ä¸è¶³ä¹‹å¤„</h2><p>npm install æ‰§è¡Œåï¼Œä¼šç”Ÿæˆä¸€ä¸ª node_modules æ ‘ï¼Œåœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œ å¸Œæœ›å¯¹äºåŒä¸€ä¸ª package.json æ€»æ˜¯ç”Ÿæˆå®Œå…¨ç›¸åŒ node_modules æ ‘ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œç¡®å®å¦‚æ­¤ã€‚ä½†åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œnpm æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ã€‚æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŸå› ï¼š</p><p>1ï¼‰æŸäº›ä¾èµ–é¡¹è‡ªä¸Šæ¬¡å®‰è£…ä»¥æ¥ï¼Œå¯èƒ½å·²å‘å¸ƒäº†æ–°ç‰ˆæœ¬ ã€‚æ¯”å¦‚ï¼šA åŒ…åœ¨å›¢é˜Ÿä¸­ç¬¬ä¸€ä¸ªäººå®‰è£…çš„æ—¶å€™æ˜¯ 1.0.5 ç‰ˆæœ¬ï¼Œpackage.json ä¸­çš„é…ç½®é¡¹ä¸º <code>A: &#39;^1.0.5&#39;</code> ï¼›å›¢é˜Ÿä¸­ç¬¬äºŒä¸ªäººæŠŠä»£ç æ‹‰ä¸‹æ¥çš„æ—¶å€™ï¼ŒA åŒ…çš„ç‰ˆæœ¬å·²ç»å‡çº§æˆäº† 1.0.8ï¼Œæ ¹æ® package.json ä¸­çš„ semver-range version è§„èŒƒï¼Œæ­¤æ—¶ç¬¬äºŒä¸ªäºº npm install å A çš„ç‰ˆæœ¬ä¸º 1.0.8ï¼› å¯èƒ½ä¼šé€ æˆå› ä¸ºä¾èµ–ç‰ˆæœ¬ä¸åŒè€Œå¯¼è‡´çš„ bugï¼›</p><p>2ï¼‰é’ˆå¯¹ 1ï¼‰ä¸­çš„é—®é¢˜ï¼Œå¯èƒ½æœ‰çš„å°ä¼™ä¼´ä¼šæƒ³ï¼ŒæŠŠ A çš„ç‰ˆæœ¬å·å›ºå®šä¸º <code>A: &#39;1.0.5&#39;</code> ä¸å°±å¯ä»¥äº†å—ï¼Ÿä½†æ˜¯è¿™æ ·çš„åšæ³•å…¶å®å¹¶æ²¡æœ‰è§£å†³é—®é¢˜ï¼Œ æ¯”å¦‚ A çš„æŸä¸ªä¾èµ–åœ¨ç¬¬ä¸€ä¸ªäººä¸‹è½½çš„æ—¶å€™æ˜¯ 2.1.3 ç‰ˆæœ¬ï¼Œä½†æ˜¯ç¬¬äºŒä¸ªäººä¸‹è½½çš„æ—¶å€™å·²ç»å‡çº§åˆ°äº† 2.2.5 ç‰ˆæœ¬ï¼Œæ­¤æ—¶ç”Ÿæˆçš„ node_modules æ ‘ä¾æ—§ä¸å®Œå…¨ç›¸åŒ ï¼Œå›ºå®šç‰ˆæœ¬åªæ˜¯å›ºå®šæ¥è‡ªèº«çš„ç‰ˆæœ¬ï¼Œä¾èµ–çš„ç‰ˆæœ¬æ— æ³•å›ºå®šã€‚</p><h2 id="é’ˆå¯¹-package-json-ä¸è¶³çš„è§£å†³æ–¹æ³•"><a href="#é’ˆå¯¹-package-json-ä¸è¶³çš„è§£å†³æ–¹æ³•" class="headerlink" title="é’ˆå¯¹ package.json ä¸è¶³çš„è§£å†³æ–¹æ³•"></a>é’ˆå¯¹ package.json ä¸è¶³çš„è§£å†³æ–¹æ³•</h2><p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ä»¥åŠ npm 3 çš„é—®é¢˜ï¼Œåœ¨ npm 5.0 ç‰ˆæœ¬åï¼Œnpm install åéƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª package-lock.json æ–‡ä»¶ ï¼Œå½“åŒ…ä¸­æœ‰ package-lock.json æ–‡ä»¶æ—¶ï¼Œnpm install æ‰§è¡Œæ—¶ï¼Œå¦‚æœ package.json å’Œ package-lock.json ä¸­çš„ç‰ˆæœ¬å…¼å®¹ï¼Œä¼šæ ¹æ® package-lock.json ä¸­çš„ç‰ˆæœ¬ä¸‹è½½ï¼›å¦‚æœä¸å…¼å®¹ï¼Œå°†ä¼šæ ¹æ® package.json çš„ç‰ˆæœ¬ï¼Œæ›´æ–° package-lock.json ä¸­çš„ç‰ˆæœ¬ï¼Œå·²ä¿è¯ package-lock.json ä¸­çš„ç‰ˆæœ¬å…¼å®¹ package.jsonã€‚</p><h2 id="package-lock-json-æ–‡ä»¶çš„ç»“æ„"><a href="#package-lock-json-æ–‡ä»¶çš„ç»“æ„" class="headerlink" title="package-lock.json æ–‡ä»¶çš„ç»“æ„"></a>package-lock.json æ–‡ä»¶çš„ç»“æ„</h2><p>package-lock.json æ–‡ä»¶ä¸­çš„ nameã€version ä¸ package.json ä¸­çš„ nameã€version ä¸€æ ·ï¼Œæè¿°äº†å½“å‰åŒ…çš„åå­—å’Œç‰ˆæœ¬ï¼Œdependencies æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å’Œ node_modules ä¸­çš„åŒ…ç»“æ„ä¸€ä¸€å¯¹åº”ï¼Œå¯¹è±¡çš„ key ä¸ºåŒ…çš„åç§°ï¼Œå€¼ä¸ºåŒ…çš„ä¸€äº›æè¿°ä¿¡æ¯ï¼Œ æ ¹æ® <a href="https://docs.npmjs.com/configuring-npm/package-lock-json.html#requires">package-lock-jsonå®˜æ–¹æ–‡æ¡£</a>ï¼Œä¸»è¦çš„ç»“æ„å¦‚ä¸‹ï¼š</p><ul><li><p>version ï¼šåŒ…ç‰ˆæœ¬ï¼Œå³è¿™ä¸ªåŒ…å½“å‰å®‰è£…åœ¨ node_modules ä¸­çš„ç‰ˆæœ¬</p></li><li><p>resolved ï¼šåŒ…å…·ä½“çš„å®‰è£…æ¥æº</p></li><li><p>integrity ï¼šåŒ… hash å€¼ï¼ŒéªŒè¯å·²å®‰è£…çš„è½¯ä»¶åŒ…æ˜¯å¦è¢«æ”¹åŠ¨è¿‡ã€æ˜¯å¦å·²å¤±æ•ˆ</p></li><li><p>requires ï¼šå¯¹åº”å­ä¾èµ–çš„ä¾èµ–ï¼Œä¸å­ä¾èµ–çš„ package.json ä¸­ dependencies çš„ä¾èµ–é¡¹ç›¸åŒ</p></li><li><p>dependencies ï¼šç»“æ„å’Œå¤–å±‚çš„ <code>dependencies</code> ç»“æ„ç›¸åŒï¼Œå­˜å‚¨å®‰è£…åœ¨å­ä¾èµ– <code>node_modules</code> ä¸­çš„ä¾èµ–åŒ…</p></li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„å­ä¾èµ–éƒ½æœ‰ <code>dependencies</code> å±æ€§ï¼Œåªæœ‰å­ä¾èµ–çš„ä¾èµ–å’Œå½“å‰å·²å®‰è£…åœ¨æ ¹ç›®å½•çš„ <code>node_modules</code> ä¸­çš„ä¾èµ–å†²çªä¹‹åï¼Œæ‰ä¼šæœ‰è¿™ä¸ªå±æ€§ã€‚</p><h2 id="package-lock-json-æ–‡ä»¶çš„ä½œç”¨"><a href="#package-lock-json-æ–‡ä»¶çš„ä½œç”¨" class="headerlink" title="package-lock.json æ–‡ä»¶çš„ä½œç”¨"></a>package-lock.json æ–‡ä»¶çš„ä½œç”¨</h2><p>åœ¨å›¢é˜Ÿå¼€å‘ä¸­ï¼Œç¡®ä¿æ¯ä¸ªå›¢é˜Ÿæˆå‘˜å®‰è£…çš„ä¾èµ–ç‰ˆæœ¬æ˜¯ä¸€è‡´çš„ï¼Œç¡®å®šä¸€æ£µå”¯ä¸€çš„ node_modules æ ‘ï¼›</p><p>node_modules ç›®å½•æœ¬èº«æ˜¯ä¸ä¼šè¢«æäº¤åˆ°ä»£ç åº“çš„ï¼Œä½†æ˜¯ package-lock.json å¯ä»¥æäº¤åˆ°ä»£ç åº“ï¼Œå¦‚æœå¼€å‘äººå‘˜æƒ³è¦å›æº¯åˆ°æŸä¸€å¤©çš„ç›®å½•çŠ¶æ€ï¼Œåªéœ€è¦æŠŠ package.json å’Œ package-lock.json è¿™ä¸¤ä¸ªæ–‡ä»¶å›é€€åˆ°é‚£ä¸€å¤©å³å¯ ã€‚</p><p>ç”±äº package-lock.json å’Œ node_modules ä¸­çš„ä¾èµ–åµŒå¥—å®Œå…¨ä¸€è‡´ï¼Œå¯ä»¥æ›´åŠ æ¸…æ¥šçš„äº†è§£æ ‘çš„ç»“æ„åŠå…¶å˜åŒ–ã€‚</p><p>åœ¨å®‰è£…æ—¶ï¼Œnpm ä¼šæ¯”è¾ƒ node_modules å·²æœ‰çš„åŒ…ï¼Œå’Œ package-lock.json è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœé‡å¤çš„è¯ï¼Œå°±è·³è¿‡å®‰è£… ï¼Œä»è€Œä¼˜åŒ–äº†å®‰è£…çš„è¿‡ç¨‹ã€‚</p><h1 id="ä¾èµ–çš„åŒºåˆ«ä¸ä½¿ç”¨åœºæ™¯"><a href="#ä¾èµ–çš„åŒºåˆ«ä¸ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä¾èµ–çš„åŒºåˆ«ä¸ä½¿ç”¨åœºæ™¯"></a>ä¾èµ–çš„åŒºåˆ«ä¸ä½¿ç”¨åœºæ™¯</h1><h2 id="npm-ç›®å‰æ”¯æŒä»¥ä¸‹å‡ ç±»ä¾èµ–åŒ…ç®¡ç†åŒ…æ‹¬"><a href="#npm-ç›®å‰æ”¯æŒä»¥ä¸‹å‡ ç±»ä¾èµ–åŒ…ç®¡ç†åŒ…æ‹¬" class="headerlink" title="npm ç›®å‰æ”¯æŒä»¥ä¸‹å‡ ç±»ä¾èµ–åŒ…ç®¡ç†åŒ…æ‹¬"></a>npm ç›®å‰æ”¯æŒä»¥ä¸‹å‡ ç±»ä¾èµ–åŒ…ç®¡ç†åŒ…æ‹¬</h2><ol><li><p>dependencies</p></li><li><p>devDependencies</p></li><li><p>optionalDependencies å¯é€‰æ‹©çš„ä¾èµ–åŒ…</p></li><li><p>peerDependencies åŒç­‰ä¾èµ–</p></li><li><p>bundledDependencies æ†ç»‘ä¾èµ–åŒ…</p></li></ol><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™å‡ ç§ä¾èµ–çš„åŒºåˆ«ä»¥åŠå„è‡ªçš„åº”ç”¨åœºæ™¯ï¼š</p><h2 id="dependencies"><a href="#dependencies" class="headerlink" title="dependencies"></a>dependencies</h2><p>dependencies æ˜¯æ— è®ºåœ¨å¼€å‘ç¯å¢ƒè¿˜æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒéƒ½å¿…é¡»ä½¿ç”¨çš„ä¾èµ–ï¼Œæ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„ä¾èµ–åŒ…ç®¡ç†å¯¹è±¡ï¼Œä¾‹å¦‚ Reactï¼ŒLoadshï¼ŒAxios ç­‰ï¼Œé€šè¿‡ npm install XXX ä¸‹è½½çš„åŒ…éƒ½ä¼šé»˜è®¤å®‰è£…åœ¨ dependencies å¯¹è±¡ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>npm install XXX --save</code> ä¸‹è½½ dependencies ä¸­çš„åŒ…ï¼›</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">&quot;devDependencies&quot;:&#123;  &quot;eslint&quot;: &quot;^5.0.0&quot;,  &quot;debug&quot;: &quot;^3.1.0&quot;,&#125;</code></pre><h2 id="devDependencies"><a href="#devDependencies" class="headerlink" title="devDependencies"></a>devDependencies</h2><p>devDependencies æ˜¯æŒ‡å¯ä»¥åœ¨å¼€å‘ç¯å¢ƒä½¿ç”¨çš„ä¾èµ–ï¼Œä¾‹å¦‚ eslintï¼Œdebug ç­‰ï¼Œé€šè¿‡ <code>npm install packageName --save-dev</code> ä¸‹è½½çš„åŒ…éƒ½ä¼šåœ¨ devDependencies å¯¹è±¡ä¸­ï¼›</p><p>dependencies å’Œ devDependencies æœ€å¤§çš„åŒºåˆ«æ˜¯åœ¨æ‰“åŒ…è¿è¡Œæ—¶ï¼Œæ‰§è¡Œ <code>npm install</code> æ—¶é»˜è®¤ä¼šæŠŠæ‰€æœ‰ä¾èµ–å…¨éƒ¨å®‰è£…ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨ <code>npm install --production</code> æ—¶å°±åªä¼šå®‰è£… dependencies ä¸­çš„ä¾èµ–ï¼Œå¦‚æœæ˜¯ node æœåŠ¡é¡¹ç›®ï¼Œå°±å¯ä»¥é‡‡ç”¨è¿™æ ·çš„æ–¹å¼ç”¨äºæœåŠ¡è¿è¡Œæ—¶å®‰è£…å’Œæ‰“åŒ…ï¼Œå‡å°‘åŒ…å¤§å°ã€‚</p><h2 id="optionalDependencies"><a href="#optionalDependencies" class="headerlink" title="optionalDependencies"></a>optionalDependencies</h2><p>optionalDependencies æŒ‡çš„æ˜¯å¯ä»¥é€‰æ‹©çš„ä¾èµ–ï¼Œå½“ä½ å¸Œæœ›æŸäº›ä¾èµ–å³ä½¿ä¸‹è½½å¤±è´¥æˆ–è€…æ²¡æœ‰æ‰¾åˆ°æ—¶ï¼Œé¡¹ç›®ä¾ç„¶å¯ä»¥æ­£å¸¸è¿è¡Œæˆ–è€… npm ç»§ç»­è¿è¡Œçš„æ—¶ï¼Œå°±å¯ä»¥æŠŠè¿™äº›ä¾èµ–æ”¾åœ¨ optionalDependencies å¯¹è±¡ä¸­ï¼Œä½†æ˜¯ optionalDependencies ä¼šè¦†ç›– dependencies ä¸­çš„åŒåä¾èµ–åŒ…ï¼Œæ‰€ä»¥ä¸è¦æŠŠä¸€ä¸ªåŒ…åŒæ—¶å†™è¿›ä¸¤ä¸ªå¯¹è±¡ä¸­ã€‚</p><p>optionalDependencies å°±åƒæ˜¯æˆ‘ä»¬çš„ä»£ç çš„ä¸€ç§ä¿æŠ¤æœºåˆ¶ä¸€æ ·ï¼Œå¦‚æœåŒ…å­˜åœ¨çš„è¯å°±èµ°å­˜åœ¨çš„é€»è¾‘ï¼Œä¸å­˜åœ¨çš„å°±èµ°ä¸å­˜åœ¨çš„é€»è¾‘ã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">try &#123;   var axios &#x3D; require(&#39;axios&#39;)   var fooVersion &#x3D; require(&#39;axios&#x2F;package.json&#39;).version &#125; catch (er) &#123;   foo &#x3D; null &#125; &#x2F;&#x2F; .. then later in your program .. if (foo) &#123;   foo.doFooThings() &#125; </code></pre><h2 id="peerDependencies"><a href="#peerDependencies" class="headerlink" title="peerDependencies"></a>peerDependencies</h2><p>peerDependencies ç”¨äºæŒ‡å®šä½ å½“å‰çš„æ’ä»¶å…¼å®¹çš„å®¿ä¸»å¿…é¡»è¦å®‰è£…çš„åŒ…çš„ç‰ˆæœ¬ï¼Œè¿™ä¸ªæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼šæˆ‘ä»¬å¸¸ç”¨çš„ react ç»„ä»¶åº“ <code>ant-design@3.x</code> çš„ <code>package.json</code> ä¸­çš„é…ç½®å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">&quot;peerDependencies&quot;: &#123;   &quot;react&quot;: &quot;&gt;&#x3D;16.9.0&quot;,   &quot;react-dom&quot;: &quot;&gt;&#x3D;16.9.0&quot;  &#125;, </code></pre><p>å‡è®¾æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º project çš„é¡¹ç›®ï¼Œåœ¨æ­¤é¡¹ç›®ä¸­æˆ‘ä»¬è¦ä½¿ç”¨ <code>ant-design@3.x</code> è¿™ä¸ªæ’ä»¶ï¼Œæ­¤æ—¶æˆ‘ä»¬çš„é¡¹ç›®å°±å¿…é¡»å…ˆå®‰è£… React &gt;&#x3D; 16.9.0 å’Œ React-dom &gt;&#x3D; 16.9.0 çš„ç‰ˆæœ¬ã€‚</p><p>åœ¨ npm 2 ä¸­ï¼Œå½“æˆ‘ä»¬ä¸‹è½½ <code>ant-design@3.x</code> æ—¶ï¼ŒpeerDependencies ä¸­æŒ‡å®šçš„ä¾èµ–ä¼šéšç€ <code>ant-design@3.x</code> ä¸€èµ·è¢«å¼ºåˆ¶å®‰è£…ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦åœ¨å®¿ä¸»é¡¹ç›®çš„ <code>package.json</code> æ–‡ä»¶ä¸­æŒ‡å®š peerDependencies ä¸­çš„ä¾èµ–ï¼Œä½†æ˜¯åœ¨ npm 3 ä¸­ï¼Œä¸ä¼šå†å¼ºåˆ¶å®‰è£… peerDependencies ä¸­æ‰€æŒ‡å®šçš„åŒ…ï¼Œè€Œæ˜¯é€šè¿‡è­¦å‘Šçš„æ–¹å¼æ¥æç¤ºæˆ‘ä»¬ï¼Œæ­¤æ—¶å°±éœ€è¦æ‰‹åŠ¨åœ¨ package.json æ–‡ä»¶ä¸­æ‰‹åŠ¨æ·»åŠ ä¾èµ–ï¼›</p><h2 id="bundledDependencies"><a href="#bundledDependencies" class="headerlink" title="bundledDependencies"></a>bundledDependencies</h2><p>è¿™ä¸ªä¾èµ–é¡¹ä¹Ÿå¯ä»¥è®°ä¸º bundleDependenciesï¼Œä¸å…¶ä»–å‡ ç§ä¾èµ–é¡¹ä¸åŒï¼Œä»–ä¸æ˜¯ä¸€ä¸ªé”®å€¼å¯¹çš„å¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œæ˜¯åŒ…åçš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">&#123;   &quot;name&quot;: &quot;project&quot;,   &quot;version&quot;: &quot;1.0.0&quot;,   &quot;bundleDependencies&quot;: [     &quot;axios&quot;,      &quot;lodash&quot;   ] &#125; </code></pre><p>å½“ä½¿ç”¨ npm pack çš„æ–¹å¼æ¥æ‰“åŒ…æ—¶ï¼Œä¸Šè¿°çš„ä¾‹å­ä¼šç”Ÿæˆä¸€ä¸ª project-1.0.0.tgz çš„æ–‡ä»¶ï¼Œåœ¨ä½¿ç”¨äº† bundledDependencies åï¼Œæ‰“åŒ…æ—¶ä¼šæŠŠ Axios å’Œ Lodash è¿™ä¸¤ä¸ªä¾èµ–ä¸€èµ·æ”¾å…¥åŒ…ä¸­ï¼Œä¹‹åæœ‰äººä½¿ç”¨ <code>npm install project-1.0.0.tgz</code> ä¸‹è½½åŒ…æ—¶ï¼ŒAxios å’Œ Lodash è¿™ä¸¤ä¸ªä¾èµ–ä¹Ÿä¼šè¢«å®‰è£…ã€‚éœ€è¦æ³¨æ„çš„æ˜¯å®‰è£…ä¹‹å Axios å’Œ Lodash è¿™ä¸¤ä¸ªåŒ…çš„ä¿¡æ¯åœ¨ dependencies ä¸­ï¼Œå¹¶ä¸”ä¸åŒ…æ‹¬ç‰ˆæœ¬ä¿¡æ¯ã€‚</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">&quot;bundleDependencies&quot;: [     &quot;axios&quot;,     &quot;lodash&quot;   ], &quot;dependencies&quot;: &#123;   &quot;axios&quot;: &quot;*&quot;,   &quot;lodash&quot;: &quot;*&quot; &#125;, </code></pre><p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨å¸¸è§„çš„ npm publish æ¥å‘å¸ƒçš„è¯ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ï¼Œæ‰€ä»¥æ—¥å¸¸æƒ…å†µä¸­ä½¿ç”¨çš„è¾ƒå°‘ã€‚</p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ¬æ–‡ä»‹ç»çš„æ˜¯ npm 2ï¼Œnpm 3ï¼Œpackage-lock.json ä»¥åŠå‡ ç§ä¾èµ–çš„åŒºåˆ«å’Œä½¿ç”¨åœºæ™¯ï¼Œå¸Œæœ›èƒ½å¤Ÿè®©å¤§å®¶å¯¹ npm çš„äº†è§£æ›´åŠ å¤šä¸€ç‚¹ï¼Œæœ‰ä»€ä¹ˆä¸æ¸…æ¥šçš„åœ°æ–¹æˆ–è€…ä¸è¶³ä¹‹å¤„æ¬¢è¿å¤§å®¶åœ¨è¯„è®ºåŒºç•™è¨€ã€‚</p><h1 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h1><ol><li><a href="https://www.zoo.team/article/npm-details">åŸæ–‡</a></li><li><a href="https://docs.npmjs.com/files/package.json#peerdependencies">package.jsonå®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://docs.npmjs.com/configuring-npm/package-lock-json.html#requires">package-lock-jsonå®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://juejin.im/post/6844903582337237006#heading-0">npmæ–‡æ¡£æ€»ç»“</a></li><li><a href="https://www.npmjs.cn/cli/pack/">npm-pack</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> npm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TypeScript noEmit</title>
      <link href="//post/2022-05-18ts.html"/>
      <url>//post/2022-05-18ts.html</url>
      
        <content type="html"><![CDATA[<h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>No Emit -<br>noEmit<br>Do not emit compiler output files like JavaScript source code, source-maps or declarations.<br>ä¸è¦å‘å‡ºç¼–è¯‘å™¨è¾“å‡ºæ–‡ä»¶ï¼Œå¦‚JavaScriptæºä»£ç ã€æºæ˜ å°„æˆ–å£°æ˜ã€‚</p><p>This makes room for another tool like Babel, or swc to handle converting the TypeScript file to a file which can run inside a JavaScript environment.</p><p>You can then use TypeScript as a tool for providing editor integration, and as a source code type-checker.</p><p><code>å¯¼è‡´outDirä¸è¾“å‡º</code></p>]]></content>
      
      
      <categories>
          
          <category> TypeScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TypeScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Slate å­¦ä¹ </title>
      <link href="//post/2022-04-29slate-lean.html"/>
      <url>//post/2022-04-29slate-lean.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h2><p><a href="https://doodlewind.github.io/slate-doc-cn/">slate ä¸­æ–‡æ–‡æ¡£</a><br><a href="https://docs.slatejs.org/">slate è‹±æ–‡æ–‡æ¡£</a></p><h2 id="æ˜¯ä»€ä¹ˆ"><a href="#æ˜¯ä»€ä¹ˆ" class="headerlink" title="æ˜¯ä»€ä¹ˆ"></a>æ˜¯ä»€ä¹ˆ</h2><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><a href="https://doodlewind.github.io/slate-doc-cn/">Slate</a> æ˜¯ä¸€ä¸ª å®Œå…¨ å¯å®šåˆ¶çš„å¯Œæ–‡æœ¬ç¼–è¾‘æ¡†æ¶ã€‚<br>é€šè¿‡ Slateï¼Œä½ å¯ä»¥æ„å»ºå‡ºç±»ä¼¼ Mediumã€Dropbox Paper æˆ–è€… Canvas è¿™æ ·ä½¿ç”¨ç›´è§‚ã€å¯Œäº¤äº’ã€ä½“éªŒä¸šå·²æˆä¸º Web åº”ç”¨æ ‡æ†çš„ç¼–è¾‘å™¨ã€‚åŒæ—¶ï¼Œä½ ä¹Ÿæ— éœ€æ‹…å¿ƒåœ¨ä»£ç å®ç°ä¸Šé™·å…¥å¤æ‚åº¦çš„æ³¥æ½­ä¹‹ä¸­ã€‚</p></blockquote><h2 id="èƒ½åšä»€ä¹ˆ"><a href="#èƒ½åšä»€ä¹ˆ" class="headerlink" title="èƒ½åšä»€ä¹ˆ"></a>èƒ½åšä»€ä¹ˆ</h2><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>é€šè¿‡ Slateï¼Œä½ å¯ä»¥æ„å»ºå‡ºç±»ä¼¼ Mediumã€Dropbox Paper æˆ–è€… Canvas è¿™æ ·ä½¿ç”¨ç›´è§‚ã€å¯Œäº¤äº’ã€ä½“éªŒä¸šå·²æˆä¸º Web åº”ç”¨æ ‡æ†çš„ç¼–è¾‘å™¨ã€‚åŒæ—¶ï¼Œä½ ä¹Ÿæ— éœ€æ‹…å¿ƒåœ¨ä»£ç å®ç°ä¸Šé™·å…¥å¤æ‚åº¦çš„æ³¥æ½­ä¹‹ä¸­ã€‚<br>Slate ä¹‹æ‰€ä»¥èƒ½åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ˜¯å› ä¸ºå®ƒçš„æ‰€æœ‰é€»è¾‘éƒ½æ˜¯é€šè¿‡ä¸€ç³»åˆ—çš„æ’ä»¶å®ç°çš„ã€‚è¿™æ ·ï¼Œä½ å°±å†ä¹Ÿä¸ä¼šè¢«æŸé¡¹ç‰¹æ€§ åœ¨ æˆ– ä¸åœ¨ ç¼–è¾‘å™¨ã€æ ¸å¿ƒã€‘è¾¹ç•Œä¹‹å†…çš„é—®é¢˜æ‰€å›°æ‰°äº†ã€‚ä½ å¯ä»¥å°†å®ƒç†è§£ä¸ºåœ¨ React å’Œ Immutable åŸºç¡€ä¸Šï¼Œä¸€ç§å¯æ’æ‹”çš„ contenteditable å®ç°ã€‚å¦å¤–ï¼Œå®ƒçš„çµæ„Ÿæ¥è‡ªäº Draft.jsï¼ŒProsemirror å’Œ Quill ç­‰ç±»åº“ã€‚</p></blockquote><h2 id="äº§ç”Ÿçš„èƒŒæ™¯"><a href="#äº§ç”Ÿçš„èƒŒæ™¯" class="headerlink" title="äº§ç”Ÿçš„èƒŒæ™¯"></a>äº§ç”Ÿçš„èƒŒæ™¯</h2><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>ä¸ºä»€ä¹ˆå‘æ˜ Slate å‘¢ï¼Ÿå¥½å§â€¦ï¼ˆæ³¨æ„ï¼Œè¿™éƒ¨åˆ†å†…å®¹åŒ…å«äº†ä¸€äº›æˆ‘çš„ä¸ªäººè§‚ç‚¹ï¼ï¼‰</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>åœ¨å‘æ˜ Slate ä¹‹å‰ï¼Œæˆ‘å°è¯•äº†è®¸å¤šä¸åŒçš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ã€‚æˆ‘å‘ç°è™½ç„¶å®ƒä»¬åœ¨ç¼–å†™ç®€å•ç¤ºä¾‹æ—¶åŸºæœ¬æ²¡æœ‰é—®é¢˜ï¼Œä½†ä¸€æ—¦æƒ³è¦æ„å»ºä¸€äº›ç±»ä¼¼ Mediumã€Dropbox Paper æˆ–è€… Google Docs è¿™æ ·çš„å†…å®¹ï¼Œä½ å°±ä¼šå‘ç°ä¸€äº›æ·±å±‚æ¬¡çš„é—®é¢˜ï¼Œæ¯”å¦‚â€¦</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><strong>ç¼–è¾‘å™¨ç¡¬ç¼–ç äº†æ–‡æ¡£çš„ç»“æ„è§„èŒƒï¼Œéš¾ä»¥å®šåˆ¶</strong>ã€‚ç±»ä¼¼åŠ ç²—å’Œæ–œä½“çš„ç»“æ„å¯ä»¥å¼€ç®±å³ç”¨ï¼Œä½†è¯„è®ºã€åµŒå…¥å†…å®¹ä»¥åŠæ›´å¤šçš„å®šåˆ¶æ€§éœ€æ±‚å‘¢ï¼Ÿ</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><strong>å¯¹æ–‡æ¡£çš„ç¼–ç¨‹å¼å˜æ¢éå¸¸é”™ç»¼å¤æ‚</strong>ã€‚ç”¨æˆ·çš„ç¼–å†™ä½“éªŒå¯èƒ½ä¸é”™ï¼Œä½†åœ¨æ‰§è¡Œç¼–ç¨‹å¼å˜æ›´æ—¶å´ä¸å¿…è¦åœ°å¤æ‚ï¼Œè€Œè¿™å¯¹äºæ„å»ºé«˜çº§çš„ç¼–è¾‘è¡Œä¸ºè‡³å…³é‡è¦ã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><strong>å¯¹ HTMLã€Markdown ç­‰å†…å®¹çš„åºåˆ—åŒ–æ”¯æŒçœ‹èµ·æ¥åƒæ˜¯äº‹ååŠ ä¸Šçš„</strong>ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸å¸¸è§çš„ä½¿ç”¨åœºæ™¯ï¼Œä½†è¦å®ç°å°†æ–‡æ¡£è½¬æ¢ä¸º HTML æˆ– Markdown çš„ç®€å•åŠŸèƒ½éƒ½éœ€è¦ç¼–å†™å¤§é‡çš„æ¨¡æ¿ä»£ç ã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><strong>é‡æ–°å­¦ä¹ ä¸€ä¸ªæ–°çš„è§†å›¾å±‚æ•ˆç‡ä¸é«˜ä¸”ååˆ†å—é™</strong>ã€‚å„ç§ç¼–è¾‘å™¨åœ¨é‡æ–°å‘æ˜è§†å›¾å±‚çš„è½®å­ï¼Œè€Œéä½¿ç”¨ React è¿™æ ·å·²æœ‰çš„æŠ€æœ¯æ–¹æ¡ˆã€‚ä½ å¿…é¡»å­¦ä¹ ä¸€å¥—å¸¦ç€è‡ªæœ‰é™åˆ¶å’Œé™·é˜±çš„æ–°ç³»ç»Ÿã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>**<code>å¯¹ååŒç¼–è¾‘æ²¡æœ‰é¢„å…ˆè®¾è®¡å¥½çš„æ”¯æŒ</code>**ã€‚ç¼–è¾‘å™¨å†…éƒ¨çš„æ•°æ®ç»“æ„ä½¿å…¶æ— æ³•ç”¨äºå®æ—¶ã€åä½œçš„ç¼–è¾‘åœºæ™¯ä¸­ï¼Œé™¤éé‡å†™ç¼–è¾‘å™¨ã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><strong>ä»£ç ä»“åº“æ˜¯å•ä½“çš„ï¼Œè€Œéå°è€Œå¯å¤ç”¨çš„</strong>ã€‚è®¸å¤šç¼–è¾‘å™¨æ²¡æœ‰å¯¹å¤–å¼€æ”¾æœ¬åº”ä¸ºå¼€å‘è€…æ‰€å¤ç”¨çš„å†…éƒ¨å·¥å…·ï¼Œä»¥è‡³äºä¸å¾—ä¸é‡æ–°å‘æ˜è½®å­ã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><strong>æ— æ³•æ„å»ºå¤æ‚è€Œå­˜åœ¨åµŒå¥—å…³ç³»çš„æ–‡æ¡£</strong>ã€‚ä¸å°‘ç¼–è¾‘å™¨æ˜¯å›´ç»•ç®€å•çš„ã€æ‰å¹³ã€‘æ–‡æ¡£ç»“æ„è®¾è®¡çš„ï¼Œè¿™ä½¿å¾—è¡¨æ ¼ã€åµŒå…¥å†…å®¹å’Œå­—å¹•ç­‰å†…å®¹éš¾ä»¥ç†è§£ï¼Œæœ‰æ—¶ç”šè‡³æ— æ³•å®ç°ã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>å½“ç„¶ï¼Œå¹¶éæ‰€æœ‰çš„ç¼–è¾‘å™¨éƒ½å­˜åœ¨ä»¥ä¸Šçš„é—®é¢˜ï¼Œä½†å¦‚æœä½ å·²ç»å°è¯•è¿‡ä¸€äº›ç¼–è¾‘å™¨ï¼Œä½ å¯èƒ½å·²ç»è¸©è¿‡ç±»ä¼¼çš„å‘äº†ã€‚ä¸ºäº†æ‘†è„±å®ƒä»¬åœ¨ API ä¸Šçš„é™åˆ¶æ¥è¾¾åˆ°ä½ æœŸæœ›çš„ç”¨æˆ·ä½“éªŒï¼Œä½ å¾—ä½¿ç”¨å„ç§å¥‡æŠ€æ·«å·§ï¼Œæœ‰äº›ä½“éªŒç”šè‡³æ˜¯å®Œå…¨æ— æ³•å®ç°çš„ã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>å¦‚æœä½ é‡åˆ°äº†ç›¸ä¼¼çš„é—®é¢˜ï¼Œé‚£ä¹ˆä¹Ÿè®¸ä½ ä¼šå–œæ¬¢ä¸Š Slateã€‚è®©æˆ‘æ¥ä»‹ç»ä¸€ä¸‹ Slate æ˜¯å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜çš„å§â€¦</p></blockquote><h2 id="æä¾›äº†ä»€ä¹ˆèƒ½åŠ›"><a href="#æä¾›äº†ä»€ä¹ˆèƒ½åŠ›" class="headerlink" title="æä¾›äº†ä»€ä¹ˆèƒ½åŠ›"></a>æä¾›äº†ä»€ä¹ˆèƒ½åŠ›</h2><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>Slate å°è¯•é€šè¿‡ä¸€äº›åŸåˆ™æ¥è§£å†³ â€œWhy?â€ è¿™ä¸€èŠ‚ä¸­çš„é—®é¢˜ï¼š</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><strong>ä½œä¸ºä¸€ç­‰å…¬æ°‘çš„æ’ä»¶</strong>ã€‚ åœ¨ Slate ä¸­æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œæ’ä»¶æ˜¯ä¸€ç­‰å…¬æ°‘ï¼ˆfirst-classï¼‰çš„å®ä½“â€”â€”ç”šè‡³è¿ç¼–è¾‘å™¨çš„æ ¸å¿ƒé€»è¾‘éƒ½æ˜¯é€šè¿‡æ’ä»¶å®ç°çš„ã€‚è¿™æ„å‘³ç€ä½ èƒ½å¤Ÿ å®Œå…¨åœ° å®šåˆ¶ç¼–è¾‘ä½“éªŒï¼Œæ„å»ºå‡ºå¯¹æ ‡ Medium å’Œ Canvas é‚£æ ·çš„å¤æ‚ç¼–è¾‘å™¨ï¼Œè€Œæ— éœ€å¯¹æŠ—å„ç§ç±»åº“çš„é¢„è®¾æ¡ä»¶ã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><strong>ç²¾ç®€ Schema çš„æ ¸å¿ƒ</strong>ã€‚ Slate çš„æ ¸å¿ƒé€»è¾‘å¹¶ä¸å¯¹ä½ æ‰€ç¼–è¾‘çš„æ•°æ®ç»“æ„åšä»»ä½•å‡è®¾ï¼Œè¿™æ„å‘³ç€ä½ åœ¨éœ€è¦åº”å¯¹å¤æ‚åœºæ™¯æ—¶ä¸ä¼šè¢«ç¼–è¾‘å™¨é¢„ç½®çš„å†…å®¹æ‰€æŸç¼šï¼ˆè¯‘è€…æ³¨ï¼šæ­¤å¤„ Schema å¯ç†è§£ä¸ºç±»ä¼¼ XML Schema çš„æ–‡æ¡£ç»“æ„è§„èŒƒï¼‰ã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><strong>æ”¯æŒåµŒå¥—çš„æ–‡æ¡£æ¨¡å‹</strong>ã€‚ Slate æ‰€ä½¿ç”¨çš„æ–‡æ¡£æ¨¡å‹æ˜¯ä¸€æ£µåµŒå¥—çš„ã€é€’å½’çš„æ ‘ï¼Œå’Œ DOM æœ¬èº«ååˆ†æ¥è¿‘ã€‚è¿™ä½¿å¾—æ„å»ºè¡¨æ ¼å’ŒåµŒå¥—å¼•ç”¨ç­‰èƒ½å¤Ÿæ»¡è¶³è¿›é˜¶éœ€æ±‚çš„å¤æ‚ç»„ä»¶æˆä¸ºäº†å¯èƒ½ã€‚å½“ç„¶ï¼Œä½ åŒæ ·å¯ä»¥ä½¿ç”¨å•ä¸€çš„å±‚çº§å…³ç³»ä»¥ä¿è¯ç®€å•æ€§ã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><strong>æ— çŠ¶æ€ã€ä¸å¯å˜çš„æ•°æ®</strong>ã€‚ é€šè¿‡ä½¿ç”¨ React å’Œ Immutable.jsï¼Œæˆ‘ä»¬æ˜¯åŸºäºä¸å¯å˜æ•°æ®ç»“æ„ï¼Œä»¥æ— çŠ¶æ€çš„æ–¹å¼æ„å»º Slate ç¼–è¾‘å™¨çš„ã€‚è¿™å¤§å¤§é™ä½äº†ç†è§£ä»£ç çš„éš¾åº¦ï¼Œä¹ŸèŠ‚çº¦äº†å¤§é‡å¼€å‘æ’ä»¶çš„æ—¶é—´ã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><strong>ç›´è§‚çš„ changes</strong>ã€‚ Slate ä¸­çš„å†…å®¹æ˜¯é€šè¿‡ â€œchangeâ€ æ¥ç¼–è¾‘çš„ï¼Œè¿™æ˜¯ä¸€ç§è¢«è®¾è®¡ä¸ºæ”¯æŒé«˜é˜¶ä½¿ç”¨ï¼Œä¸”æå…¶ç¬¦åˆç›´è§‰çš„æ¦‚å¿µã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿé€šè¿‡å®ƒæ¥å°½å¯èƒ½ç®€å•åœ°ç¼–å†™æ’ä»¶å’Œè‡ªå®šä¹‰åŠŸèƒ½äº†ã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>**<code>ä¸ºååŒç¼–è¾‘å‡†å¤‡çš„æ•°æ®æ¨¡å‹</code>**ã€‚ Slate ä½¿ç”¨çš„æ•°æ®æ¨¡å‹â€”â€”å°¤å…¶æ˜¯ç”± change æ›´æ”¹æ–‡æ¡£çš„æ–¹å¼â€”â€”åœ¨è®¾è®¡æ—¶å°±å·²è€ƒè™‘åˆ°å¯¹ååŒç¼–è¾‘çš„æ”¯æŒã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ å†³å®šä¸ºç¼–è¾‘å™¨æ·»åŠ åä½œåŠŸèƒ½ï¼Œä½ ä¸éœ€è¦è¿›è¡Œå½»åº•çš„é‡æ„ã€‚ï¼ˆå½“ç„¶ï¼Œè¿™è¿˜éœ€è¦ä½ æŠ•å…¥æ›´å¤šçš„åŠªåŠ›ï¼ï¼‰</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>æ˜ç¡®çš„ã€æ ¸å¿ƒã€‘è¾¹ç•Œåˆ’åˆ†ã€‚ é€šè¿‡æ’ä»¶ä¼˜å…ˆçš„æ¶æ„ä¸ç²¾ç®€ Schema çš„å†…æ ¸ï¼ŒSlate å¯¹äºã€æ ¸å¿ƒã€‘å’Œã€è‡ªå®šä¹‰ã€‘æœ‰ç€æ˜ç¡®å¾—å¤šçš„åˆ’åˆ†ï¼Œä»è€Œä¿è¯æ ¸å¿ƒçš„ç¼–è¾‘ä½“éªŒä¸ä¼šä¸ºå„ç§è¾¹ç¼˜æƒ…å†µæ‰€å›°æ‰°ã€‚</p></blockquote><h2 id="ååŒç¼–è¾‘ï¼Œè¿™ä¸ªåé¢ä¼šæŒç»­å…³æ³¨"><a href="#ååŒç¼–è¾‘ï¼Œè¿™ä¸ªåé¢ä¼šæŒç»­å…³æ³¨" class="headerlink" title="ååŒç¼–è¾‘ï¼Œè¿™ä¸ªåé¢ä¼šæŒç»­å…³æ³¨"></a>ååŒç¼–è¾‘ï¼Œè¿™ä¸ªåé¢ä¼šæŒç»­å…³æ³¨</h2><p><img src="http://t-blog-images.aijs.top/img/20220429152337.png"><br><a href="https://docs.slate-yjs.dev/">slate-yjs</a><br><a href="https://docs.yjs.dev/">yjs</a></p><h2 id="slate-æ–‡æ¡£ä¸æ˜¯å¾ˆå¤šï¼ŒåŠå°æ—¶çœ‹å®Œ"><a href="#slate-æ–‡æ¡£ä¸æ˜¯å¾ˆå¤šï¼ŒåŠå°æ—¶çœ‹å®Œ" class="headerlink" title="slate æ–‡æ¡£ä¸æ˜¯å¾ˆå¤šï¼ŒåŠå°æ—¶çœ‹å®Œ"></a>slate æ–‡æ¡£ä¸æ˜¯å¾ˆå¤šï¼ŒåŠå°æ—¶çœ‹å®Œ</h2><p>ä¸»è¦å†…å®¹ </p><ul><li>æ’ä»¶å®šåˆ¶åŒ–</li><li>æ¸²æŸ“èŠ‚ç‚¹å®šåˆ¶åŒ–</li><li>æŒ‰é”®ç›‘å¬å¤„ç†</li><li>æ•°æ®æ ¼å¼ç¼–ç ã€åç¼–ç </li><li>æ•°æ®å­˜å‚¨</li></ul><h2 id="å°±è¿™ç‚¹ä¸œè¥¿ğŸ˜±"><a href="#å°±è¿™ç‚¹ä¸œè¥¿ğŸ˜±" class="headerlink" title="å°±è¿™ç‚¹ä¸œè¥¿ğŸ˜±"></a>å°±è¿™ç‚¹ä¸œè¥¿ğŸ˜±</h2><p>ç«Ÿç„¶æœ‰äº›åŒå­¦å‡­å€Ÿslateçš„ä½¿ç”¨æ‹¿äº†3.75,èµ¶ç´§å­¦ï½</p>]]></content>
      
      
      <categories>
          
          <category> wiki </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wiki </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼</title>
      <link href="//post/2022-05-13design_mode.html"/>
      <url>//post/2022-05-13design_mode.html</url>
      
        <content type="html"><![CDATA[<h2 id="å…ˆèŠç”¨åˆ°è¿‡å“ªäº›ï¼ŒèƒŒåçš„è®¾è®¡æ¨¡å¼æ˜¯ä»€ä¹ˆ"><a href="#å…ˆèŠç”¨åˆ°è¿‡å“ªäº›ï¼ŒèƒŒåçš„è®¾è®¡æ¨¡å¼æ˜¯ä»€ä¹ˆ" class="headerlink" title="å…ˆèŠç”¨åˆ°è¿‡å“ªäº›ï¼ŒèƒŒåçš„è®¾è®¡æ¨¡å¼æ˜¯ä»€ä¹ˆ"></a>å…ˆèŠç”¨åˆ°è¿‡å“ªäº›ï¼ŒèƒŒåçš„è®¾è®¡æ¨¡å¼æ˜¯ä»€ä¹ˆ</h2><ol><li>å®ä¾‹åŒ–ä¸€ä¸ª axios å®ä¾‹ï¼Œå…¨å±€éƒ½æ¥ä½¿ç”¨å®ƒ <em>å•ä¾‹æ¨¡å¼</em></li><li>å…„å¼Ÿç»„ä»¶é€šä¿¡,äº‹ä»¶ç›‘å¬ <em>è§‚å¯Ÿè€…æ¨¡å¼</em></li><li>æ„é€ å‡½æ•°ç»§æ‰¿ã€ç±»çš„ç»§æ‰¿ <em>æ„é€ å‡½æ•°æ¨¡å¼</em></li><li>å®ä¾‹åŒ–ä¸åŒçš„å®ä¾‹ <em>å·¥å‚æ¨¡å¼</em></li><li>ä¼˜åŒ–ä¸­çš„<code>äº‹ä»¶ä»£ç†</code><em>ä»£ç†æ¨¡å¼</em></li><li>esmã€commonjs<em>æ¨¡å—æ¨¡å¼</em></li></ol><p><em>ç†Ÿæ‚‰è€Œåˆé™Œç”Ÿ</em>ï¼šç†Ÿæ‚‰çš„æ˜¯ä¸€ç›´åœ¨ç”¨ï¼Œé™Œç”Ÿçš„æ˜¯å­¦åç«Ÿç„¶æ˜¯è¿™äº›ã€‚æˆ‘éƒ½æœ‰ç‚¹æ€€ç–‘äº†ï¼Œè¿™æ˜¯çœŸçš„å—ï¼Ÿæ˜¯çœŸçš„å—ï¼Ÿï½ï½ï½</p><p><img    src="https://img1.baidu.com/it/u=1902986975,2375222058&fm=253&fmt=auto&app=138&f=JPEG?w=535&h=500"    width=100 style="border-radius: 10px"    /></p>   <div style="font-size: 20px; color: orange;margin-top: 30px">æ¥ï½æ¥ï½æ¥ï½ï¼Œæˆ‘ä»¬ç»§ç»­ã€‚ã€‚ã€‚</div><h2 id="å•¥å‘€"><a href="#å•¥å‘€" class="headerlink" title="å•¥å‘€"></a>å•¥å‘€</h2><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>â€œè®¾è®¡æ¨¡å¼(è‹±è¯­ design pattern)æ˜¯å¯¹é¢å‘å¯¹è±¡è®¾è®¡ä¸­<code>åå¤å‡ºç°çš„é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ</code>ã€‚è¿™ä¸ªæœ¯è¯­æ˜¯åœ¨1990å¹´ä»£ç”±Erich Gammaç­‰äººä»å»ºç­‘è®¾è®¡é¢†åŸŸ<code>å¼•å…¥åˆ°</code>è®¡ç®—æœºç§‘å­¦ä¸­æ¥çš„ã€‚â€</p></blockquote><h2 id="ç­–ç•¥æ¨¡å¼"><a href="#ç­–ç•¥æ¨¡å¼" class="headerlink" title="ç­–ç•¥æ¨¡å¼"></a>ç­–ç•¥æ¨¡å¼</h2><h2 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h2><ul><li>ä½œç”¨ï¼šè®¿é—®æ§åˆ¶</li><li>åœºæ™¯ï¼šäº‹ä»¶ä»£ç†ã€Proxyã€Object.defineProperty</li></ul><h2 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h2><ul><li>å®šä¹‰ï¼šå”¯ä¸€å®ä¾‹ï¼Œå…¨å±€å¯è®¿é—®</li><li>åœºæ™¯ï¼šè¯·æ±‚å®ä¾‹ã€å…¨å±€ç¼“å­˜ã€çº¿ç¨‹æ± ã€window å¯¹è±¡ã€ç™»å½•æµ®æ¡†</li><li>å®ç°ï¼šå·²ç»åˆ›å»ºè¿‡çš„ç›´æ¥è¿”å›ï¼Œä¸é‡å¤åˆ›å»º</li></ul><h2 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h2><ul><li>ä½œç”¨ï¼šåˆ›å»ºåŒä¸€ç±»å¯¹è±¡</li><li>åˆ†ç±»ï¼š<em>ç®€å•å·¥å‚_ã€_æ–¹æ³•å·¥å‚</em></li></ul><h3 id="1-ç®€å•å·¥å‚"><a href="#1-ç®€å•å·¥å‚" class="headerlink" title="1. ç®€å•å·¥å‚"></a>1. ç®€å•å·¥å‚</h3><ul><li>ä¾‹å¦‚ï¼šé¡¹ç›®ä¸­æ ¹æ®ç”¨æˆ·æƒé™æ¸²æŸ“ä¸åŒçš„é¡µé¢ï¼Œåœ¨ä¸åŒæƒé™ç­‰çº§ç”¨æˆ·çš„æ„é€ å‡½æ•°ä¸­ï¼Œä¿å­˜ç”¨æˆ·å¯ä»¥çœ‹åˆ°çš„é¡µé¢</li><li>ä¼˜ç‚¹ï¼šä¸€ä¸ªæ­£ç¡®çš„å‚æ•°ï¼Œå°±å¯ä»¥è·å–åˆ°æ‰€éœ€è¦çš„å¯¹è±¡ï¼Œæ— éœ€çŸ¥é“å…¶åˆ›å»ºçš„å…·ä½“ç»†èŠ‚</li><li>ç¼ºç‚¹ï¼šå‡½æ•°ä¼šæˆä¸ºä¸€ä¸ªè¶…çº§å‡½æ•°ï¼Œéš¾ä»¥ç»´æŠ¤ï¼Œç®€å•å·¥å‚é€‚ç”¨äºåˆ›å»ºå°‘é‡å¯¹è±¡ï¼Œå¯¹è±¡çš„é€»è¾‘ä¸èƒ½å¤æ‚</li></ul><h3 id="2-å·¥å‚æ–¹æ³•"><a href="#2-å·¥å‚æ–¹æ³•" class="headerlink" title="2. å·¥å‚æ–¹æ³•"></a>2. å·¥å‚æ–¹æ³•</h3><ul><li>æœ¬è´¨ï¼šå°†åˆ›å»ºå¯¹è±¡çš„å·¥ä½œï¼Œæ¨è¿Ÿåˆ°å­ç±»ä¸­ï¼Œè¿™æ ·æ ¸å¿ƒç±»å°±å˜æˆæŠ½è±¡ç±»</li></ul><pre class="line-numbers language-js" data-language="js"><code class="language-js">let UserFactory &#x3D; function (type) &#123;  if (this instanceof UserFactory) &#123;    return new this[type]();  &#125; else &#123;    return new UserFactory(type);  &#125;&#125;;&#x2F;&#x2F; å·¥å‚æ–¹æ³•ï¼Œå‡½æ•°çš„åŸå‹ä¸­è®¾ç½®æ‰€æœ‰å¯¹è±¡çš„æ„é€ å‡½æ•°UserFactory.prototype &#x3D; &#123;  SuperAdmin: function () &#123;    this.name &#x3D; &quot;è¶…çº§ç®¡ç†å‘˜&quot;;    this.viewPage &#x3D; [&quot;é¦–é¡µ&quot;, &quot;è®¢å•ç®¡ç†&quot;, &quot;ç”¨æˆ·ç®¡ç†&quot;, &quot;åº”ç”¨ç®¡ç†&quot;, &quot;æƒé™ç®¡ç†&quot;];  &#125;,  Admin: function () &#123;    this.name &#x3D; &quot;ç®¡ç†å‘˜&quot;;    this.viewPage &#x3D; [&quot;é¦–é¡µ&quot;, &quot;è®¢å•ç®¡ç†&quot;, &quot;ç”¨æˆ·ç®¡ç†&quot;];  &#125;,  NormalUser: function () &#123;    this.name &#x3D; &quot;æ™®é€šç”¨æˆ·&quot;;    this.viewPage &#x3D; [&quot;é¦–é¡µ&quot;, &quot;è®¢å•ç®¡ç†&quot;];  &#125;,&#125;;&#x2F;&#x2F; è°ƒç”¨let superAdmin &#x3D; new UserFactory(&quot;SuperAdmin&quot;);let admin &#x3D; new UserFactory(&quot;Admin&quot;);let normalUser &#x3D; new UserFactory(&quot;NormalUser&quot;);</code></pre><h3 id="3-æŠ½è±¡å·¥å‚"><a href="#3-æŠ½è±¡å·¥å‚" class="headerlink" title="3. æŠ½è±¡å·¥å‚"></a>3. æŠ½è±¡å·¥å‚</h3><ul><li></li></ul><h2 id="æ„é€ å‡½æ•°æ¨¡å¼"><a href="#æ„é€ å‡½æ•°æ¨¡å¼" class="headerlink" title="æ„é€ å‡½æ•°æ¨¡å¼"></a>æ„é€ å‡½æ•°æ¨¡å¼</h2><h2 id="ğŸ‘€-è§‚å¯Ÿè€…æ¨¡å¼"><a href="#ğŸ‘€-è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="ğŸ‘€ è§‚å¯Ÿè€…æ¨¡å¼"></a>ğŸ‘€ è§‚å¯Ÿè€…æ¨¡å¼</h2><ul><li>å®šä¹‰ï¼š å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»</li><li>ä½œç”¨ï¼šä¸€ä¸ªå¯¹è±¡çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰€æœ‰ä¾èµ–ä»–çš„å¯¹è±¡ï¼Œéƒ½å°†å¾—åˆ°é€šçŸ¥</li><li>ä¼˜ç‚¹ï¼šè§£è€¦</li><li>ç»„æˆï¼šå‘å¸ƒè€…ã€è®¢é˜…è€…</li><li>åœºæ™¯ï¼šäº‹ä»¶ç›‘å¬ã€eventBus</li></ul><pre class="line-numbers language-js" data-language="js"><code class="language-js">document.body.addEventListener(&quot;click&quot;, function () &#123;&#125;, false);</code></pre><h2 id="æ··åˆæ¨¡å¼"><a href="#æ··åˆæ¨¡å¼" class="headerlink" title="æ··åˆæ¨¡å¼"></a>æ··åˆæ¨¡å¼</h2><h2 id="æ¨¡å—æ¨¡å¼"><a href="#æ¨¡å—æ¨¡å¼" class="headerlink" title="æ¨¡å—æ¨¡å¼"></a>æ¨¡å—æ¨¡å¼</h2><ul><li>ä½œç”¨ï¼šé¿å…å…¨å±€æ±¡æŸ“ï¼ŒæŒ‰éœ€æš´éœ²</li><li>å®ç°ï¼šå¤šé‡‡ç”¨é—­åŒ…</li></ul><pre class="line-numbers language-js" data-language="js"><code class="language-js">var Person &#x3D; (function () &#123;  var name &#x3D; &quot;xxx&quot;;  function sayName(params) &#123;    console.log(name);  &#125;  return &#123;    name,    sayName,  &#125;;&#125;)();</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ant design formè®¾ç½®å€¼ !== è·å–å€¼</title>
      <link href="//post/2022-05-13react.html"/>
      <url>//post/2022-05-13react.html</url>
      
        <content type="html"><![CDATA[<h2 id="æœ‰æ„æ€çš„äº‹"><a href="#æœ‰æ„æ€çš„äº‹" class="headerlink" title="æœ‰æ„æ€çš„äº‹"></a>æœ‰æ„æ€çš„äº‹</h2><ul><li>ä»Šå¤©ç»´æŠ¤é¡¹ç›®é‡åˆ°ä¸€ä¸ªæœ‰æ„æ€çš„äº‹ï¼Œç›´è§‚æ„Ÿå—ï¼Œè®¾ç½®å€¼ï¼Œå†å–å‡ºæ¥ï¼Œè²Œä¼¼æ²¡æ¯›ç—…<pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">  &#x2F;&#x2F; ...  const [values, setValues] &#x3D; useState&lt;Record&lt;string, any&gt;&gt;()  const &#123; applyStartTime, applyEndTime, attendanceType, staffId &#125; &#x3D; values || &#123;&#125;  const getDetail &#x3D; usePersistFn(async () &#x3D;&gt; &#123;    &#x2F;&#x2F; ...ç•¥    const obj: Record&lt;string, any&gt; &#x3D; &#123;      staffId: applyStaff.staffId,      attendanceType: res.result.attendanceType,      applyStartTime: &#123;        value: moment(res.result.applyStartTime),        half: res.result.startDayType,      &#125;,      applyEndTime: &#123;        value: moment(res.result.applyEndTime),        half: res.result.endDayType,      &#125;,      applyReason,      applyAttachments,    &#125;    &#x2F;&#x2F; ...ç•¥    form.setFieldsValue(obj)    setValues(form.getFieldsValue())  &#125;)  &#x2F;&#x2F; ...ç•¥  const &#123; total, loading: totalLoading &#125; &#x3D; useCaculateDays(    &#123;      start: applyStartTime,      end: applyEndTime,    &#125;,    staffId,    attendanceType,  )  &#x2F;&#x2F; ...ç•¥  &#x2F;&#x2F; AnualFormç»„ä»¶  &lt;Form.Item name&#x3D;&quot;applyStartTime&quot; label&#x3D;&quot;èµ·å§‹æ—¥æœŸ&quot; rules&#x3D;&#123;[&#123; required: true &#125;]&#125;&gt;      &lt;HalftDatePicker predict&#x3D;&#123;&#123; lessThan: end?.value &#125;&#125; &#x2F;&gt;    &lt;&#x2F;Form.Item&gt;  &lt;Form.Item name&#x3D;&quot;applyEndTime&quot; label&#x3D;&quot;ç»“æŸæ—¥æœŸ&quot; rules&#x3D;&#123;[&#123; required: true &#125;]&#125;&gt;    &lt;HalftDatePicker predict&#x3D;&#123;&#123; moreThan: start?.value &#125;&#125; &#x2F;&gt;  &lt;&#x2F;Form.Item&gt;  type IValue &#x3D; &#123;    value?: moment.Moment    half: 1 | 2  &#125; &#x2F;&#x2F; HalftDatePickerç»„ä»¶const HalftDatePicker: React.ForwardRefRenderFunction&lt;any, PickerProps&lt;moment.Moment&gt; &amp; &#123;  value?: IValue  onChange?: (v?: IValue) &#x3D;&gt; void  predict?: &#123;    lessThan?: moment.Moment    moreThan?: moment.Moment    holiday?: boolean  &#125;&#125;&gt; &#x3D; (props, ref) &#x3D;&gt; &#123;  &#x2F;&#x2F; ...ç•¥&#125;</code></pre></li></ul><p>ä»£ç çš„ç›®çš„æ˜¯ï¼š </p><ol><li>è¯·æ±‚è¯¦æƒ…</li><li>è£…é…æ•°æ®ï¼Œæ›´æ–°values</li><li>useCaculateDays é€šè¿‡åå°åŠ¨æ€è®¡ç®—æœ‰æ•ˆå·¥ä½œæ—¥ï¼Œè¿”å›totalè¯·å‡å¤©æ•°ï¼Œ</li><li>æ¸²æŸ“totalåˆ°è¡¨å•å¯¹åº”ä½ç½®</li></ol><h3 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h3><p>ç»è¿‡ä¸€ç‚¹ä¸€ç‚¹å›æº¯è°ƒè¯•ï¼Œå‘ç° useCaculateDays æ²¡è¯·æ±‚ï¼Œè¢«åˆ¤æ–­æ‹¦æˆªæ‰äº†ï¼Œå¾€ä¸Šæ‰¾æ‰¾ï¼Œ</p><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">form.setFieldsValue(obj)setValues(form.getFieldsValue())</code></pre><h3 id="æ‰“ä¸Šæ—¥å¿—"><a href="#æ‰“ä¸Šæ—¥å¿—" class="headerlink" title="æ‰“ä¸Šæ—¥å¿—"></a>æ‰“ä¸Šæ—¥å¿—</h3><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">&#x2F;&#x2F; ...ç•¥console.log(&quot;obj&quot;,obj);form.setFieldsValue(obj)console.log(&quot;obj1&quot;,form.getFieldsValue());setValues(obj)</code></pre><p>å‘ç°<code>obj</code>é”®å€¼å†…å®¹ä¸ç­‰äº<code>obj1</code></p><ul><li>obj</li></ul><pre class="line-numbers language-json" data-language="json"><code class="language-json">&#123;    &quot;staffId&quot;: &quot;02333&quot;,    &quot;attendanceType&quot;: 11,    &quot;applyStartTime&quot;: &#123;        &quot;value&quot;: &quot;2022-03-23T16:00:00.000Z&quot;,        &quot;half&quot;: 1    &#125;,    &quot;applyEndTime&quot;: &#123;        &quot;value&quot;: &quot;2022-03-23T16:00:00.000Z&quot;,        &quot;half&quot;: 2    &#125;,    &quot;applyReason&quot;: &quot;&quot;,    &quot;applyAttachments&quot;: []&#125;</code></pre><ul><li>obj1<pre class="line-numbers language-json" data-language="json"><code class="language-json">&#123;    &quot;staffId&quot;: &quot;02333&quot;,    &quot;attendanceType&quot;: 11,    &quot;applyReason&quot;: &quot;&quot;,    &quot;applyAttachments&quot;: []&#125;</code></pre></li></ul><p><em>çŒœæƒ³</em></p><ul><li>ä¼šä¸ä¼š<code>form.setFieldsValue</code>å¼‚æ­¥ï¼ŸæŸ¥äº†ä¸‹apiæ˜¯åŒæ­¥çš„<em>æ’é™¤è¿™ç§å¯èƒ½</em></li><li>æ–­ç‚¹è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œä¹Ÿä¼šé‡åˆ°è¡¨å•æ¸²æŸ“ä¸€åŠçš„æƒ…å†µï¼Œ<code>AnualFormç»„ä»¶</code>æ˜¯æ¡ä»¶æ¸²æŸ“ï¼Œå¦‚æœè¿™å—è¡¨å•æ²¡æœ‰æ¸²æŸ“å‡ºæ¥ï¼Œé€šè¿‡<code>form.getFieldsValue</code>å°±æ‹¿ä¸åˆ°</li></ul><h3 id="ä¿®æ”¹ä»£ç éªŒè¯ä¸‹çŒœæƒ³"><a href="#ä¿®æ”¹ä»£ç éªŒè¯ä¸‹çŒœæƒ³" class="headerlink" title="ä¿®æ”¹ä»£ç éªŒè¯ä¸‹çŒœæƒ³"></a>ä¿®æ”¹ä»£ç éªŒè¯ä¸‹çŒœæƒ³</h3><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">console.log(&quot;obj&quot;,obj);form.setFieldsValue(obj)console.log(&quot;obj1&quot;,form.getFieldsValue());setTimeout(() &#x3D;&gt; &#123;  setValues(form.getFieldsValue())  &#125;, 5000);&#125;</code></pre><img src="http://t-blog-images.aijs.top/img/Kapture%202022-05-13%20at%2016.01.46.gif" width=300 /><h3 id="æœ€ç»ˆä¿®æ”¹"><a href="#æœ€ç»ˆä¿®æ”¹" class="headerlink" title="æœ€ç»ˆä¿®æ”¹"></a>æœ€ç»ˆä¿®æ”¹</h3><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">form.setFieldsValue(obj)setValues(obj)</code></pre>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ModHeader</title>
      <link href="//post/2022-05-13modeheader.html"/>
      <url>//post/2022-05-13modeheader.html</url>
      
        <content type="html"><![CDATA[<h2 id="é€šè¿‡ä¸åŒè¯·æ±‚å¤´å­—æ®µæ ‡è¯†è¯·æ±‚ä¸åŒçš„ç¯å¢ƒ"><a href="#é€šè¿‡ä¸åŒè¯·æ±‚å¤´å­—æ®µæ ‡è¯†è¯·æ±‚ä¸åŒçš„ç¯å¢ƒ" class="headerlink" title="é€šè¿‡ä¸åŒè¯·æ±‚å¤´å­—æ®µæ ‡è¯†è¯·æ±‚ä¸åŒçš„ç¯å¢ƒ"></a>é€šè¿‡ä¸åŒè¯·æ±‚å¤´å­—æ®µæ ‡è¯†è¯·æ±‚ä¸åŒçš„ç¯å¢ƒ</h2><img src="http://t-blog-images.aijs.top/img/20220513145839.webp" width=400 /><h3 id="Requesr-Headers"><a href="#Requesr-Headers" class="headerlink" title="Requesr Headers"></a>Requesr Headers</h3><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">Accept: *&#x2F;*Accept-Encoding: gzip, deflate, brAccept-Language: zh-CN,zh;q&#x3D;0.9,en;q&#x3D;0.8,zh-TW;q&#x3D;0.7Cache-Control: no-cacheConnection: keep-alivecontent-type: application&#x2F;json; charset&#x3D;utf-8Cookie: perfLang&#x3D;zh; envtag: ladon-1        Host: localhost:3119Pragma: no-cacheReferer: http:&#x2F;&#x2F;localhost:3119&#x2F;sec-ch-ua: &quot; Not A;Brand&quot;;v&#x3D;&quot;99&quot;, &quot;Chromium&quot;;v&#x3D;&quot;101&quot;, &quot;Google Chrome&quot;;v&#x3D;&quot;101&quot;sec-ch-ua-mobile: ?0sec-ch-ua-platform: &quot;macOS&quot;</code></pre><h3 id="ä¸ç”Ÿæ•ˆäº†"><a href="#ä¸ç”Ÿæ•ˆäº†" class="headerlink" title="ä¸ç”Ÿæ•ˆäº†"></a>ä¸ç”Ÿæ•ˆäº†</h3><p>ç†è®ºä¸Šæ˜¯æ²¡é—®é¢˜ï¼Œåº”è¯¥æ˜¯ç”±äºæŸäº›åŸå› å¯¼è‡´è¿™ä¸ªæ’ä»¶å†…éƒ¨è¿è¡Œå‡ºäº†é—®é¢˜ï¼Œå…·ä½“ä»€ä¹ˆé—®é¢˜ä¸çŸ¥<br><em>å¤„ç†ï¼š</em>å°†æµè§ˆå™¨é‡å¯åŠ¨å,è¯·æ±‚å¤´<code>envtag: ladon-1</code>å¢åŠ æˆåŠŸ</p>]]></content>
      
      
      <categories>
          
          <category> Chrome </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
            <tag> Chrome </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµè§ˆå™¨é¦–å±ä¼˜åŒ–-é¦–å±æ—¶é—´è·å–</title>
      <link href="//post/2022-05-12performance.html"/>
      <url>//post/2022-05-12performance.html</url>
      
        <content type="html"><![CDATA[<p>ç™½å±æ—¶é—´ &#x3D; åœ°å€æ è¾“å…¥ç½‘å€åå›è½¦ - æµè§ˆå™¨å‡ºç°ç¬¬ä¸€ä¸ªå…ƒç´ <br>é¦–å±æ—¶é—´ &#x3D; åœ°å€æ è¾“å…¥ç½‘å€åå›è½¦ - æµè§ˆå™¨ç¬¬ä¸€å±æ¸²æŸ“å®Œæˆ</p><p>å½±å“ç™½å±æ—¶é—´çš„å› ç´ ï¼šç½‘ç»œï¼ŒæœåŠ¡ç«¯æ€§èƒ½ï¼Œå‰ç«¯é¡µé¢ç»“æ„è®¾è®¡ã€‚<br>å½±å“é¦–å±æ—¶é—´çš„å› ç´ ï¼šç™½å±æ—¶é—´ï¼Œèµ„æºä¸‹è½½æ‰§è¡Œæ—¶é—´ã€‚</p><p>é€šå¸¸åœ¨headè§£æå®Œï¼Œbodyå¼€å§‹æ¸²æŸ“æ­¤æ—¶æ˜¯ç™½å±ç»“æŸ<br>ç™½å±æ—¶é—´ &#x3D; firstPaint - performance.timing.navigationStart || pageStartTime</p><p>å¸¸ç”¨æ–¹æ³•</p><ol><li>é¦–å±æ¨¡å—æ ‡ç­¾æ ‡è®°ï¼Œ ä½ è§‰å¾—é¦–å±å®Œæˆçš„åœ°æ–¹æ’å…¥è„šæœ¬</li><li>åŒçº§é¦–å±å†…åŠ è½½æœ€æ…¢çš„å›¾ç‰‡&#x2F;iframe</li></ol><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9sejV6LmNvbS9hc3NldHMvaW1nL3BlcmZvcm1hbmNlLnBuZw?x-oss-process=image/format,png"></p><p>å·¦è¾¹çº¢çº¿ä»£è¡¨çš„æ˜¯ç½‘ç»œä¼ è¾“å±‚é¢çš„è¿‡ç¨‹ï¼Œå³è¾¹çº¢çº¿ä»£è¡¨äº†æœåŠ¡å™¨ä¼ è¾“å›å­—èŠ‚åæµè§ˆå™¨çš„å„ç§äº‹ä»¶çŠ¶æ€ï¼Œè¿™ä¸ªé˜¶æ®µåŒ…å«äº†æµè§ˆå™¨å¯¹æ–‡æ¡£çš„è§£æï¼ŒDOM æ ‘æ„å»ºï¼Œå¸ƒå±€ï¼Œç»˜åˆ¶ç­‰ç­‰ã€‚<br><em>1. prompt for unload</em></p><ul><li>navigationStart: è¡¨ç¤ºä»ä¸Šä¸€ä¸ªæ–‡æ¡£å¸è½½ç»“æŸæ—¶çš„ unix æ—¶é—´æˆ³ï¼Œå¦‚æœæ²¡æœ‰ä¸Šä¸€ä¸ªæ–‡æ¡£ï¼Œè¿™ä¸ªå€¼å°†å’Œ fetchStart ç›¸ç­‰ã€‚</li></ul><p><em>2. å‰ä¸€ä¸ªç½‘é¡µå¸è½½</em></p><ul><li>unloadEventStart: è¡¨ç¤ºå‰ä¸€ä¸ªç½‘é¡µï¼ˆä¸å½“å‰é¡µé¢åŒåŸŸï¼‰unload çš„æ—¶é—´æˆ³ï¼Œå¦‚æœæ— å‰ä¸€ä¸ªç½‘é¡µ unload æˆ–è€…å‰ä¸€ä¸ªç½‘é¡µä¸å½“å‰é¡µé¢ä¸åŒåŸŸï¼Œåˆ™å€¼ä¸º 0ã€‚</li><li>unloadEventEnd: è¿”å›å‰ä¸€ä¸ªé¡µé¢ unload æ—¶é—´ç»‘å®šçš„å›æ‰å‡½æ•°æ‰§è¡Œå®Œæ¯•çš„æ—¶é—´æˆ³ã€‚</li></ul><p><em>3. é‡å®šå‘</em></p><ul><li>redirectStart: ç¬¬ä¸€ä¸ª HTTP é‡å®šå‘å‘ç”Ÿæ—¶çš„æ—¶é—´ã€‚æœ‰è·³è½¬ä¸”æ˜¯åŒåŸŸåå†…çš„é‡å®šå‘æ‰ç®—ï¼Œå¦åˆ™å€¼ä¸º 0ã€‚</li><li>redirectEnd: æœ€åä¸€ä¸ª HTTP é‡å®šå‘å®Œæˆæ—¶çš„æ—¶é—´ã€‚æœ‰è·³è½¬ä¸”æ˜¯åŒåŸŸåå†…éƒ¨çš„é‡å®šå‘æ‰ç®—ï¼Œå¦åˆ™å€¼ä¸º 0ã€‚</li></ul><p><em>4. ä½¿ç”¨ HTTP è¯·æ±‚</em></p><ul><li>fetchStart: æµè§ˆå™¨å‡†å¤‡å¥½ä½¿ç”¨ HTTP è¯·æ±‚æŠ“å–æ–‡æ¡£çš„æ—¶é—´ï¼Œè¿™å‘ç”Ÿåœ¨æ£€æŸ¥æœ¬åœ°ç¼“å­˜ä¹‹å‰ã€‚</li></ul><p><em>5. åŸŸåè§£æ</em></p><ul><li>domainLookupStart&#x2F;domainLookupEnd: DNS åŸŸåæŸ¥è¯¢å¼€å§‹&#x2F;ç»“æŸçš„æ—¶é—´ï¼Œå¦‚æœä½¿ç”¨äº†æœ¬åœ°ç¼“å­˜ï¼ˆå³æ—  DNS æŸ¥è¯¢ï¼‰æˆ–æŒä¹…è¿æ¥ï¼Œåˆ™ä¸ fetchStart å€¼ç›¸ç­‰</li></ul><p><em>6. tcpé“¾æ¥</em></p><ul><li>connectStart: HTTPï¼ˆTCPï¼‰å¼€å§‹&#x2F;é‡æ–° å»ºç«‹è¿æ¥çš„æ—¶é—´ï¼Œå¦‚æœæ˜¯æŒä¹…è¿æ¥ï¼Œåˆ™ä¸ fetchStart å€¼ç›¸ç­‰ã€‚</li><li>connectEnd: HTTPï¼ˆTCPï¼‰ å®Œæˆå»ºç«‹è¿æ¥çš„æ—¶é—´ï¼ˆå®Œæˆæ¡æ‰‹ï¼‰ï¼Œå¦‚æœæ˜¯æŒä¹…è¿æ¥ï¼Œåˆ™ä¸ fetchStart å€¼ç›¸ç­‰ã€‚</li></ul><p><em>7. sslå»ºç«‹</em></p><ul><li>secureConnectionStart: HTTPS è¿æ¥å¼€å§‹çš„æ—¶é—´ï¼Œå¦‚æœä¸æ˜¯å®‰å…¨è¿æ¥ï¼Œåˆ™å€¼ä¸º 0ã€‚</li></ul><p><em>8. è¯»å–æ–‡æ¡£</em></p><ul><li>requestStart: HTTP è¯·æ±‚è¯»å–çœŸå®æ–‡æ¡£å¼€å§‹çš„æ—¶é—´ï¼ˆå®Œæˆå»ºç«‹è¿æ¥ï¼‰ï¼ŒåŒ…æ‹¬ä»æœ¬åœ°è¯»å–ç¼“å­˜ã€‚</li></ul><p><em>9. å“åº”</em></p><ul><li>responseStart: HTTP å¼€å§‹æ¥æ”¶å“åº”çš„æ—¶é—´ï¼ˆè·å–åˆ°ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼‰ï¼ŒåŒ…æ‹¬ä»æœ¬åœ°è¯»å–ç¼“å­˜ã€‚</li><li>responseEnd: HTTP å“åº”å…¨éƒ¨æ¥æ”¶å®Œæˆçš„æ—¶é—´ï¼ˆè·å–åˆ°æœ€åä¸€ä¸ªå­—èŠ‚ï¼‰ï¼ŒåŒ…æ‹¬ä»æœ¬åœ°è¯»å–ç¼“å­˜ã€‚</li></ul><p><em>10. è§£ædom</em></p><ul><li>domLoading: å¼€å§‹è§£ææ¸²æŸ“ DOM æ ‘çš„æ—¶é—´ï¼Œæ­¤æ—¶ Document.readyState å˜ä¸º loadingï¼Œå¹¶å°†æŠ›å‡º readystatechange ç›¸å…³äº‹ä»¶ã€‚</li></ul><p><em>11. domå¯äº¤äº’</em></p><ul><li>domInteractive: å®Œæˆè§£æ DOM æ ‘çš„æ—¶é—´ï¼ŒDocument.readyState å˜ä¸º interactiveï¼Œå¹¶å°†æŠ›å‡º readystatechange ç›¸å…³äº‹ä»¶ï¼Œæ³¨æ„åªæ˜¯ DOM æ ‘è§£æå®Œæˆï¼Œè¿™æ—¶å€™å¹¶æ²¡æœ‰å¼€å§‹åŠ è½½ç½‘é¡µå†…çš„èµ„æºã€‚</li></ul><p><em>12. é¡µé¢å†…èµ„æºåŠ è½½</em></p><ul><li>domContentLoadedEventStart: DOM è§£æå®Œæˆåï¼Œç½‘é¡µå†…èµ„æºåŠ è½½å¼€å§‹çš„æ—¶é—´ï¼Œåœ¨ DOMContentLoaded äº‹ä»¶æŠ›å‡ºå‰å‘ç”Ÿã€‚</li><li>domContentLoadedEventEnd: DOM è§£æå®Œæˆåï¼Œç½‘é¡µå†…èµ„æºåŠ è½½å®Œæˆçš„æ—¶é—´ï¼ˆå¦‚ JS è„šæœ¬åŠ è½½æ‰§è¡Œå®Œæ¯•ï¼‰ã€‚</li></ul><p><em>13. domæ ‘è§£æå®Œæˆ</em></p><ul><li>domComplete: DOM æ ‘è§£æå®Œæˆï¼Œä¸”èµ„æºä¹Ÿå‡†å¤‡å°±ç»ªçš„æ—¶é—´ï¼ŒDocument.readyState å˜ä¸º completeï¼Œå¹¶å°†æŠ›å‡º readystatechange ç›¸å…³äº‹ä»¶ã€‚</li></ul><p><em>14. loadäº‹ä»¶</em></p><ul><li>loadEventStart: load äº‹ä»¶å‘é€ç»™æ–‡æ¡£ï¼Œä¹Ÿå³ load å›è°ƒå‡½æ•°å¼€å§‹æ‰§è¡Œçš„æ—¶é—´ã€‚</li><li>loadEventEnd: load äº‹ä»¶çš„å›è°ƒå‡½æ•°æ‰§è¡Œå®Œæ¯•çš„æ—¶é—´ã€‚</li></ul><p>Performance æ¥å£å¯ä»¥è·å–åˆ°å½“å‰é¡µé¢ä¸æ€§èƒ½ç›¸å…³çš„ä¿¡æ¯ã€‚</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">&#123;    &quot;timeOrigin&quot;: 1652338539312.5,    &quot;timing&quot;: &#123;        &quot;connectStart&quot;: 1652338539353,        &quot;navigationStart&quot;: 1652338539312,        &quot;loadEventEnd&quot;: 1652338542492,        &quot;domLoading&quot;: 1652338539823,        &quot;secureConnectionStart&quot;: 1652338539401,        &quot;fetchStart&quot;: 1652338539316,        &quot;domContentLoadedEventStart&quot;: 1652338540574,        &quot;responseStart&quot;: 1652338539807,        &quot;responseEnd&quot;: 1652338539828,        &quot;domInteractive&quot;: 1652338540574,        &quot;domainLookupEnd&quot;: 1652338539353,        &quot;redirectStart&quot;: 0,        &quot;requestStart&quot;: 1652338539505,        &quot;unloadEventEnd&quot;: 0,        &quot;unloadEventStart&quot;: 0,        &quot;domComplete&quot;: 1652338542489,        &quot;domainLookupStart&quot;: 1652338539353,        &quot;loadEventStart&quot;: 1652338542489,        &quot;domContentLoadedEventEnd&quot;: 1652338540575,        &quot;redirectEnd&quot;: 0,        &quot;connectEnd&quot;: 1652338539504    &#125;,    &quot;navigation&quot;: &#123;        &quot;type&quot;: 0,        &quot;redirectCount&quot;: 0    &#125;&#125;</code></pre><pre class="line-numbers language-js" data-language="js"><code class="language-js">function getPerfermanceTiming() &#123;  let t &#x3D; performance.timing  &#x2F;&#x2F; é‡å®šå‘ç»“æŸæ—¶é—´ - é‡å®šå‘å¼€å§‹æ—¶é—´  let redirect &#x3D; t.redirectEnd - t.redirectStart  &#x2F;&#x2F; DNS æŸ¥è¯¢å¼€å§‹æ—¶é—´ - fetech start æ—¶é—´  let appCache &#x3D; t.domainLookupStart - t.fetchStart  &#x2F;&#x2F; DNS æŸ¥è¯¢ç»“æŸæ—¶é—´ - DNS æŸ¥è¯¢å¼€å§‹æ—¶é—´  let dns &#x3D; t.domainLookupEnd - t.domainLookupStart  &#x2F;&#x2F; å®Œæˆ TCP è¿æ¥æ¡æ‰‹æ—¶é—´ - TCP è¿æ¥å¼€å§‹æ—¶é—´   let tcp &#x3D; t.connectEnd - t.connectStart  &#x2F;&#x2F; ä»è¯·æ±‚å¼€å§‹åˆ°æ¥æ”¶åˆ°ç¬¬ä¸€ä¸ªå“åº”å­—ç¬¦çš„æ—¶é—´   let ttfb &#x3D; t.responseStart - t.requestStart  &#x2F;&#x2F; èµ„æºä¸‹è½½æ—¶é—´ï¼Œå“åº”ç»“æŸæ—¶é—´ - å“åº”å¼€å§‹æ—¶é—´  let contentDL &#x3D; t.responseEnd - t.responseStart  &#x2F;&#x2F; ä»è¯·æ±‚å¼€å§‹åˆ°å“åº”ç»“æŸçš„æ—¶é—´  let httpTotal &#x3D; t.responseEnd - t.requestStart  &#x2F;&#x2F; ä»é¡µé¢å¼€å§‹åˆ° domContentLoadedEventEnd  let domContentloaded &#x3D; t.domContentLoadedEventEnd - t.navigationStart  &#x2F;&#x2F; ä»é¡µé¢å¼€å§‹åˆ° loadEventEnd  let loaded &#x3D; t.loadEventEnd - t.navigationStart  let result &#x3D; [    &#123; key: &quot;Redirect&quot;, desc: &quot;ç½‘é¡µé‡å®šå‘çš„è€—æ—¶&quot;, value: redirect &#125;,     &#123; key: &quot;AppCache&quot;, desc: &quot;æ£€æŸ¥æœ¬åœ°ç¼“å­˜çš„è€—æ—¶&quot;, value: appCache &#125;,    &#123; key: &quot;DNS&quot;, desc: &quot;DNSæŸ¥è¯¢çš„è€—æ—¶&quot;, value: dns &#125;,    &#123; key: &quot;TCP&quot;, desc: &quot;TCPè¿æ¥çš„è€—æ—¶&quot;, value: tcp &#125;,    &#123; key: &quot;Waiting(TTFB)&quot;, desc: &quot;ä»å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚åˆ°æ¥æ”¶åˆ°å“åº”çš„æ—¶é—´ &#x2F; Time To First Byte&quot;, value: ttfb &#125;,    &#123; key: &quot;Content Download&quot;, desc: &quot;ä¸‹è½½æœåŠ¡ç«¯è¿”å›æ•°æ®çš„æ—¶é—´&quot;, value: contentDL &#125;,    &#123; key: &quot;HTTP Total Time&quot;, desc: &quot;httpè¯·æ±‚æ€»è€—æ—¶&quot;, value: httpTotal &#125;,    &#123; key: &quot;DOMContentLoaded&quot;, desc: &quot;domåŠ è½½å®Œæˆçš„æ—¶é—´&quot;, value: domContentloaded &#125;,    &#123; key: &quot;Loaded&quot;, desc: &quot;é¡µé¢loadçš„æ€»è€—æ—¶&quot;, value: loaded &#125;  ]  return result&#125;getPerfermanceTiming()</code></pre><p><a href="https://blog.csdn.net/z9061/article/details/101454438">Web æ€§èƒ½ä¼˜åŒ–-é¦–å±å’Œç™½å±æ—¶é—´</a></p>]]></content>
      
      
      <categories>
          
          <category> performance </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> performance </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vscodeæ’ä»¶ paste code to snippets</title>
      <link href="//post/2022-05-11vscode.html"/>
      <url>//post/2022-05-11vscode.html</url>
      
        <content type="html"><![CDATA[<h2 id="ç²˜è´´ä»£ç ï¼Œç”Ÿæˆç”¨æˆ·ä»£ç ç‰‡æ®µ"><a href="#ç²˜è´´ä»£ç ï¼Œç”Ÿæˆç”¨æˆ·ä»£ç ç‰‡æ®µ" class="headerlink" title="ç²˜è´´ä»£ç ï¼Œç”Ÿæˆç”¨æˆ·ä»£ç ç‰‡æ®µ"></a>ç²˜è´´ä»£ç ï¼Œç”Ÿæˆç”¨æˆ·ä»£ç ç‰‡æ®µ</h2><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><ol><li>å…¶ä»–æ’ä»¶å…·æœ‰<code>å…±æ€§</code>ï¼Œè€Œ<code>ä¸å…·ç‰¹æ€§ </code>ï¼Œæ¯æ¬¡å†™ä»£ç ï¼Œè¦ä¹ˆç”¨ç¬¬ä¸‰æ–¹æ’ä»¶ï¼Œç°æˆçš„ä»£ç ç‰‡æ®µï¼Œæ—¶å¸¸ä¸èƒ½æ»¡è¶³æ—¥å¸¸å¼€å‘éœ€è¦</li><li>è‡ªå®šä¹‰ä»£ç ç‰‡æ®µï¼Œæ‰‹å†™ <code>è´¹æ—¶è´¹åŠ›</code>ï¼Œä¸€èˆ¬æ­¥éª¤ï¼Œç²˜è´´ã€ä¿®æ”¹ã€æ ¼å¼åŒ–</li><li>å…¶ä»–æ’ä»¶ç±»ä¼¼vscodeå®å˜é‡çš„ä½¿ç”¨å°‘ä¹‹åˆå°‘ï¼Œ è¦ä¹ˆå°†å¼€æºæ’ä»¶å®šåˆ¶åŒ–ï¼Œè¦ä¹ˆé‡æ–°å¼€å‘</li><li>å¿«æ·å˜é‡è®°ä¸ä½</li></ol><h2 id="paste-code-to-snippets-ä¼˜ç‚¹ï¼š"><a href="#paste-code-to-snippets-ä¼˜ç‚¹ï¼š" class="headerlink" title="paste code to snippets ä¼˜ç‚¹ï¼š"></a>paste code to snippets ä¼˜ç‚¹ï¼š</h2><ol><li>é«˜åº¦å®šåˆ¶åŒ–</li><li>è·¨è¯­è¨€ï¼ˆä»»ä½•vscodeæ”¯æŒçš„è¯­è¨€ï¼Œéƒ½å¯åœ¨å¯¹åº”ç±»å‹ç‰‡æ®µæ–‡ä»¶ä¸­è¿›è¡Œå¢åŠ ï¼‰</li><li>ä½¿ç”¨ç®€å• ï¼ˆå¤åˆ¶ã€å”¤èµ·å‘½ä»¤ã€æŒ–å­”ï¼‰</li><li>å¿«æ·å˜é‡å®Œå…¨è‡ªå®šä¹‰ï¼ˆæƒ³æ€ä¹ˆå†™å°±æ€ä¹ˆå†™ï¼‰</li></ol><h2 id="æ“ä½œGIF"><a href="#æ“ä½œGIF" class="headerlink" title="æ“ä½œGIF"></a>æ“ä½œGIF</h2><p><img src="http://t-blog-images.aijs.top/img/Kapture%202022-05-11%20at%2009.39.01.gif"></p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ul><li>å¦‚æœé…ç½®äº†ä»£ç ç‰‡æ®µï¼Œæ²¡æœ‰æç¤º, æŸ¥çœ‹<code>settings.json</code>å¯¹åº”</li><li>æ‰“å¼€ <code>settings.json</code> å‘½ä»¤ï¼š <code>command + shift + p</code>, æœ <code>&gt;settings</code></li></ul><p><strong>ä»¥markdownä¸ºä¾‹</strong> é»˜è®¤åªè¯»é…ç½®åœ¨å‡çº§åå˜æˆäº†false</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">&#x2F;&#x2F; Configure settings to be overridden for the markdown language.&quot;[markdown]&quot;:  &#123;&quot;editor.unicodeHighlight.ambiguousCharacters&quot;: false,&quot;editor.unicodeHighlight.invisibleCharacters&quot;: false,&quot;editor.wordWrap&quot;: &quot;on&quot;,&quot;editor.quickSuggestions&quot;: false &#125;,</code></pre><ul><li>ä¿®æ”¹<br><img src="http://t-blog-images.aijs.top/img/20220602184856.webp"></li></ul>]]></content>
      
      
      <categories>
          
          <category> vscode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¢æ•ˆ </tag>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTP3</title>
      <link href="//post/2022-05-11http.html"/>
      <url>//post/2022-05-11http.html</url>
      
        <content type="html"><![CDATA[<h2 id="ç°çŠ¶"><a href="#ç°çŠ¶" class="headerlink" title="ç°çŠ¶"></a>ç°çŠ¶</h2><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><img src="https://www.upyun.com/static/img/title@3x.5597f51.png" />HTTP/3 çš„åŸºç¡€å³è°·æ­Œå¤šå¹´æ¢ç´¢çš„åŸºäº UDP çš„ QUIC åè®®ã€‚ä¸ TCP ç›¸æ¯”ï¼Œä½¿ç”¨ UDP å¯ä»¥æä¾›æ›´å¤§çš„çµæ´»æ€§ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ QUIC å®Œå…¨äºç”¨æˆ·ç©ºé—´ä¸­å®ç°â€”â€”å¯¹åè®®å®ç°çš„æ›´æ–°ä¸åƒ TCP é‚£æ ·éœ€è¦ç»‘å®šåˆ°æ“ä½œç³»ç»Ÿæ›´æ–°ã€‚ä½¿ç”¨ QUICï¼Œå¯ä»¥ç®€å•åœ°å°† HTTP çº§åˆ«çš„æµæ˜ å°„åˆ° QUIC æµçš„é¡¶éƒ¨ï¼Œä»è€Œç»§æ‰¿ HTTP/2 çš„æ‰€æœ‰ä¼˜ç‚¹ï¼Œè€Œä¸ä¼šäº§ç”Ÿé˜Ÿå¤´é˜»å¡ã€‚HTTP/3 è™½ä»å¤„äºè‰æ¡ˆçŠ¶æ€ï¼Œä½†å¾ˆå¤šç”¨æˆ·å·²ç»è·ƒè·ƒæ¬²è¯•ã€‚</blockquote><h2 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h2><ol><li>HTTP&#x2F;3 åˆ©ç”¨ QUIC åŠ é€Ÿ HTTP è¯·æ±‚ï¼ŒQUIC æä¾›æ¯” TCP å’Œ TLS æ›´é«˜çš„åŠ å¯†å’Œæ€§èƒ½</li><li>QUIC æ˜¯ä¸€ç§é»˜è®¤åŠ å¯†çš„æ–°ä¼ è¾“åè®®ï¼Œæ—¨åœ¨åŠ å¿« HTTP ä¼ è¾“é€Ÿåº¦ä»¥åŠä½¿å…¶æ›´åŠ å®‰å…¨</li><li>HTTP&#x2F;3 åŸºäº UDPï¼Œå¦‚æœæ•°æ®åŒ…ä¸¢å¤±ï¼Œåªä¼šä¸­æ–­ä¸€ä¸ªæµï¼Œè€Œä¸ä¼šä¸­æ–­æ‰€æœ‰æµï¼Œæé«˜äº†åŒæ—¶è·å–å¤šä¸ªå¯¹è±¡çš„æ€§èƒ½</li><li>æ”¯æŒ 0-RTTï¼Œæ¶ˆé™¤æœåŠ¡å™¨çš„ TLS ç¡®è®¤ï¼Œä½¿åç»­è¿æ¥çš„å¯åŠ¨é€Ÿåº¦æ›´å¿«</li></ol><h2 id="æ¼”ç¤º"><a href="#æ¼”ç¤º" class="headerlink" title="æ¼”ç¤º"></a>æ¼”ç¤º</h2><p>ä¸‹å›¾è¡¨ç¤º HTTP&#x2F;2 å’Œ HTTP&#x2F;3 å¤šè·¯å¤ç”¨ä¸¤ä¸ªè¯·æ±‚æ—¶ï¼Œæ•°æ®åŒ…ä¸¢å¤±åŠå…¶å½±å“ï¼ˆè¯·æ±‚åŠå…¶ç›¸å…³çš„å“åº”åˆ†åˆ«ä¸ºæ·±è“å’Œæµ…è“è‰²ï¼‰</p><p>HTTP&#x2F;2 å¤šè·¯å¤ç”¨ 2 ä¸ªè¯·æ±‚ã€‚å“åº”è¢«åˆ†è§£ä¸ºå¤šä¸ªæ•°æ®åŒ…ï¼Œä¸€æ—¦ä¸€ä¸ªæ•°æ®åŒ…ä¸¢å¤±äº†ï¼Œä¸¤ä¸ªè¯·æ±‚éƒ½è¢«é˜»æ­¢ã€‚<br><img src="https://www.upyun.com/static/img/http_3%20&%20QUIC.d73f941.gif" /><br>HTTP&#x2F;3 å¤ç”¨ 2 ä¸ªè¯·æ±‚ã€‚è™½ç„¶æµ…è‰²çš„æ•°æ®åŒ…ä¸¢å¤±äº†ï¼Œä½†æ˜¯æ·±è‰²çš„æ•°æ®åŒ…ä¼ è¾“å¾—å¾ˆå¥½ã€‚<br><img src="https://www.upyun.com/static/img/http2.27d52a1.gif" /><br>åœ¨ç›¸åŒä¸¢åŒ…ç‡çš„æ¡ä»¶ä¸‹ï¼ŒHTTP&#x2F;3 å’Œ HTTP&#x2F;2 æ€§èƒ½æµ‹è¯•å¯¹æ¯”å¦‚ä¸‹<br>æµ‹è¯•ç¯å¢ƒï¼šæœåŠ¡ç«¯ï¼ˆHTTP&#x2F;3 with cubic &amp; HTTP&#x2F;2 with bbrï¼‰ã€å®¢æˆ·ç«¯ï¼ˆcubicï¼‰<br><img src="https://www.upyun.com/static/img/%E5%BB%BA%E8%BF%9E%E6%97%B6%E9%97%B4.35656db.png" /><br><img src="https://www.upyun.com/static/img/%E8%AF%B7%E6%B1%82%E6%97%B6%E9%97%B41x.7069918.png" /></p><h2 id="æ›´å¤š"><a href="#æ›´å¤š" class="headerlink" title="æ›´å¤š"></a>æ›´å¤š</h2><p><a href="https://www.upyun.com/tech/tags/HTTP3" target="_blank" >æŸ¥çœ‹æ›´å¤š</a></p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Slate wiki-uiè¯„è®ºåŠŸèƒ½å…‰æ ‡ä¹±è·³</title>
      <link href="//post/2022-04-29slate.html"/>
      <url>//post/2022-04-29slate.html</url>
      
        <content type="html"><![CDATA[<h2 id="bugå¤ç°"><a href="#bugå¤ç°" class="headerlink" title="bugå¤ç°"></a>bugå¤ç°</h2><pre class="line-numbers language-none"><code class="language-none">bugå¤ç° (node:29) UnhandledPromiseRejectionWarning: Error: Forbidden at &amp;#x2F;code&amp;#x2F;client&amp;#x2F;.next&amp;#x2F;server&amp;#x2F;pages&amp;#x2F;_app-a05...</code></pre><p><img src="https://t-blog-images.aijs.top/img/Kapture%202022-04-29%20at%2015.41.56.gif"></p><p>åœ¨vite reacté¡¹ç›®ä¸Šï¼Œè¾“å…¥æ±‰å­—çš„åŒæ—¶æŒ‰ä½åˆ é™¤é”®ï¼Œå…‰æ ‡ä¼šä¹±è·³</p><h3 id="æ’æŸ¥1"><a href="#æ’æŸ¥1" class="headerlink" title="æ’æŸ¥1:"></a>æ’æŸ¥1:</h3><p>wikiï¼ˆesmï¼‰ç»„ä»¶é—®é¢˜ï¼Œæ£€æŸ¥wiki-uiç»„ä»¶åº“ï¼Œè¿è¡Œæ­£å¸¸</p><pre class="line-numbers language-none"><code class="language-none">&quot;react&quot;: &quot;^16.8.0&quot;,&quot;react-dom&quot;: &quot;^16.8.0&quot;,</code></pre><h3 id="æ’æŸ¥2"><a href="#æ’æŸ¥2" class="headerlink" title="æ’æŸ¥2:"></a>æ’æŸ¥2:</h3><p>viteåŠ è½½wiki-uiç»„ä»¶æ—¶å€™ï¼Œå› ä¸ºviteåªèƒ½å¤„ç†esmï¼Œåœ¨vite.config.ts, esbuildOptionsè‡ªå®šä¹‰æ’ä»¶è¿›è¡Œå¤„ç†<br>wiki-uiï¼Œä¸æ˜¯å¾ˆæ‡‚ï¼Œæ¢ä¸ªè§’åº¦</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">esbuildOptions: &#123;  plugins: [    &#123;      name: &#39;originjs:commonjs&#39;,      setup(build) &#123;        build.onLoad(          &#123;            filter: &#x2F;@æ•æ„Ÿæ•°æ®-fe\&#x2F;wiki-ui\&#x2F;dist&#x2F;,            namespace: &#39;file&#39;,          &#125;,          async (&#123; path: id &#125;) &#x3D;&gt; &#123;            const code &#x3D; readFileSync(id).toString()            const result &#x3D; transformRequire(code, id)            return &#123;              contents: result,              loader: &#39;js&#39;,            &#125;          &#125;,        ),          build.onLoad(            &#123;              filter: &#x2F;@æ•æ„Ÿæ•°æ®-fe\&#x2F;wiki-ui\&#x2F;dist\&#x2F;components\&#x2F;iconfont&#x2F;,              namespace: &#39;file&#39;,            &#125;,            async (&#123; path: id &#125;) &#x3D;&gt; &#123;              const code &#x3D; readFileSync(id).toString()              const result &#x3D; transformRequire(code, id)              return &#123;                contents: result,                loader: &#39;js&#39;,              &#125;            &#125;,          )      &#125;,    &#125;,    esbuildPluginMonacoEditorNls(&#123;      locale: Languages.zh_hans,    &#125;),  ],&#125;,</code></pre><h3 id="æ’æŸ¥3"><a href="#æ’æŸ¥3" class="headerlink" title="æ’æŸ¥3:"></a>æ’æŸ¥3:</h3><p>å°†wiki-uiç»„ä»¶æ”¾åˆ°umijsåº”ç”¨ä¸­è¿è¡Œ</p><pre class="line-numbers language-none"><code class="language-none"># æ­å»ºä¸ªé¡¹ç›®# ç§»åŠ¨demoç»„ä»¶åˆ°æ–°é¡¹ç›®# è¿è¡Œï¼Œå‘ç°æœ‰ç›¸åŒçš„é—®é¢˜</code></pre><h3 id="åˆ†æï¼š"><a href="#åˆ†æï¼š" class="headerlink" title="åˆ†æï¼š"></a>åˆ†æï¼š</h3><h4 id="1-dom"><a href="#1-dom" class="headerlink" title="1.dom"></a>1.dom</h4><p>è¾“å…¥è¿‡ç¨‹ä¸­ç‚¹å‡»åˆ é™¤æ“ä½œï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œè¾“å…¥çš„å†…å®¹æ˜¯åœ¨<code>contenteditable=&quot;true&quot; </code>ä¸­è¿è¡Œ</p><pre class="line-numbers language-none"><code class="language-none">&lt;div data-gramm&#x3D;&quot;false&quot; role&#x3D;&quot;textbox&quot; spellcheck&#x3D;&quot;false&quot; class&#x3D;&quot;slash-slate-core&quot; id&#x3D;&quot;SLASH_SLATE_CORE&quot; data-app-id&#x3D;&quot;5A9BEA&quot; autocorrect&#x3D;&quot;false&quot; autocapitalize&#x3D;&quot;false&quot; data-slate-editor&#x3D;&quot;true&quot; data-slate-node&#x3D;&quot;value&quot; contenteditable&#x3D;&quot;true&quot; style&#x3D;&quot;position: relative; outline: none; white-space: pre-wrap; overflow-wrap: break-word;&quot;&gt;&lt;p data-slate-node&#x3D;&quot;element&quot;&gt;&lt;span data-slate-node&#x3D;&quot;text&quot;&gt;&lt;span data-slate-leaf&#x3D;&quot;true&quot;&gt;&lt;span data-slate-string&#x3D;&quot;true&quot;&gt;12121212å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆh h h h h h h h h h h h hs f s d f&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;span&gt;&lt;&#x2F;p&gt;&lt;&#x2F;div&gt;</code></pre><h4 id="2-åˆæˆäº‹ä»¶"><a href="#2-åˆæˆäº‹ä»¶" class="headerlink" title="2.åˆæˆäº‹ä»¶"></a>2.åˆæˆäº‹ä»¶</h4><p>åº”è¯¥ä¼šèµ°åˆæˆäº‹ä»¶ï¼Œåˆæˆäº‹ä»¶ä¹‹åä¼šæ‰§è¡Œæ¸²æŸ“ï¼Œwebç«¯èµ°çš„æ˜¯react-domï¼Œæ¯”å¯¹æ­£å¸¸è¿è¡Œçš„é¡¹ç›®ï¼Œå’Œæ–°é¡¹ç›®çš„ç‰ˆæœ¬</p><pre class="line-numbers language-none"><code class="language-none"># react 17ç‰ˆæœ¬# react-dom 17ç‰ˆæœ¬</code></pre><h4 id="3-react"><a href="#3-react" class="headerlink" title="3.react"></a>3.react</h4><p>å…ˆè¿›è¡Œ<code>react</code>é™ç‰ˆæœ¬ <code>16.14.0</code>ï¼Œæ£€æŸ¥åˆæˆäº‹ä»¶æ˜¯å¦æœ‰é—®é¢˜ï¼Œé™ç‰ˆæœ¬åï¼Œè¿è¡Œï¼Œé—®é¢˜åŒæ ·å­˜åœ¨ï¼Œå¤§æ¦‚å¯ä»¥æ–­å®šæ˜¯<code>react-dom</code>æ¸²æŸ“å‡ºäº†é—®é¢˜ï¼Œ</p><h4 id="4-react-dom"><a href="#4-react-dom" class="headerlink" title="4.react-dom"></a>4.react-dom</h4><p>å¯¹<code>react-dom</code>é™ä½ç‰ˆæœ¬åˆ°<code>16.14.0</code>, åè¿è¡Œæ­£å¸¸ï¼Œé‚£ä¹ˆé—®é¢˜åº”è¯¥åœ¨<code>react-dom</code>ä¸Š</p><h4 id="5-githubç‰ˆæœ¬-16-14-0"><a href="#5-githubç‰ˆæœ¬-16-14-0" class="headerlink" title="5.githubç‰ˆæœ¬ 16.14.0"></a>5.githubç‰ˆæœ¬ 16.14.0</h4><p>ä¸¤ä¸ªç‰ˆæœ¬æœ‰ä»€ä¹ˆä¸åŒï¼šæŸ¥çœ‹<code>react</code>å‘å¸ƒæ—¥å¿—ï¼Œ16.14.0ä¹‹åçš„ä¸€ä¸ªç‰ˆæœ¬æ˜¯<a href="https://github.com/facebook/react/releases#:~:text=17.0.0%20(October%2020%2C%202020)">17.0.0 (October 20, 2020)</a> çœ‹ä¸Šå»ä¸äº‹ä»¶å’Œæ¸²æŸ“ç›¸å…³çš„ä¸œè¥¿ä¸å¤š</p><pre class="line-numbers language-none"><code class="language-none">Use browser focusin and focusout for onFocus and onBlur. (@trueadm in #19186)Make all Capture events use the browser capture phase. (@trueadm in #19221)Throw if forwardRef or memo component returns undefined. (@gaearon in #19550)Remove event pooling. (@trueadm in #18969)Fix onBeforeInput reporting an incorrect event.type. (@eps1lon in #19561)Fix event.relatedTarget reported as undefined in Firefox. (@claytercek in #19607)Fix rendering into a shadow root. (@Jack-Works in #15894)Fix movementX&#x2F;Y polyfill with capture events. (@gaearon in #19672)Artifactsreact: https:&#x2F;&#x2F;unpkg.com&#x2F;react@17.0.1&#x2F;umd&#x2F;react-art: https:&#x2F;&#x2F;unpkg.com&#x2F;react-art@17.0.1&#x2F;umd&#x2F;react-dom: https:&#x2F;&#x2F;unpkg.com&#x2F;react-dom@17.0.1&#x2F;umd&#x2F;react-is: https:&#x2F;&#x2F;unpkg.com&#x2F;react-is@17.0.1&#x2F;umd&#x2F;react-test-renderer: https:&#x2F;&#x2F;unpkg.com&#x2F;react-test-renderer@17.0.1&#x2F;umd&#x2F;scheduler: https:&#x2F;&#x2F;unpkg.com&#x2F;scheduler@0.20.1&#x2F;umd&#x2F;</code></pre><h4 id="6-githubç‰ˆæœ¬-18-1-0"><a href="#6-githubç‰ˆæœ¬-18-1-0" class="headerlink" title="6.githubç‰ˆæœ¬ 18.1.0"></a>6.githubç‰ˆæœ¬ 18.1.0</h4><p>åœ¨å¾€åæ‰¾æœ€æ–°çš„ç‰ˆæœ¬ï¼Œå‘ç°åœ¨<a href="https://github.com/facebook/react/releases#:~:text=Compare-,18.1.0%20(April%2026%2C%202022),-Latest">18.1.0 (April 26, 2022)</a>ï¼Œæ”¹äº†ä¸€å †<code>react-dom</code>çš„bug,çœ‹ä¸Šå»ä¹Ÿæ²¡ç›¸å…³çš„</p><pre class="line-numbers language-none"><code class="language-none">Fix the false positive warning about react-dom&#x2F;client when using UMD bundle. (@alireza-molaee in #24274)Fix suppressHydrationWarning to work in production too. (@gaearon in #24271)Fix componentWillUnmount firing twice inside of Suspense. (@acdlite in #24308)Fix some transition updates being ignored. (@acdlite in #24353)Fix useDeferredValue causing an infinite loop when passed an unmemoized value. (@acdlite in #24247)Fix throttling of revealing Suspense fallbacks. (@sunderls in #24253)Fix an inconsistency in whether the props object is the same between renders. (@Andarist and @acdlite in #24421)Fix a missing warning about a setState loop in useEffect. (@gaearon in #24298)Fix a spurious hydration error. (@gnoff in #24404)Warn when calling setState in useInsertionEffect. (@gaearon in #24295)Ensure the reason for hydration errors is always displayed. (@gaearon in #24276)</code></pre><h3 id="å¯ç”¨ç‰ˆæœ¬"><a href="#å¯ç”¨ç‰ˆæœ¬" class="headerlink" title="å¯ç”¨ç‰ˆæœ¬"></a>å¯ç”¨ç‰ˆæœ¬</h3><pre class="line-numbers language-json" data-language="json"><code class="language-json">&quot;react&quot;: &quot;^16.14.0&quot;,&quot;react-dom&quot;: &quot;16.14.0&quot;,</code></pre><h3 id="è¿™ä¸ªæ¼”ç¤ºä»£ç æ­£å¸¸"><a href="#è¿™ä¸ªæ¼”ç¤ºä»£ç æ­£å¸¸" class="headerlink" title="è¿™ä¸ªæ¼”ç¤ºä»£ç æ­£å¸¸"></a>è¿™ä¸ªæ¼”ç¤ºä»£ç æ­£å¸¸</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html">&lt;embed type&#x3D;&quot;text&#x2F;html&quot; src&#x3D;&quot;https:&#x2F;&#x2F;stackblitz.com&#x2F;edit&#x2F;react-ts-m3y5yv?embed&#x3D;1&amp;file&#x3D;App.tsx&amp;view&#x3D;preview&quot; width&#x3D;&quot;100%&quot; height&#x3D;&quot;200&quot;&gt;&lt;!--åŠ è½½å¤ªæ…¢ï¼Œå¤åˆ¶åœ°å€æŸ¥çœ‹å§--&gt; &lt;!--https:&#x2F;&#x2F;stackblitz.com&#x2F;edit&#x2F;react-ts-m3y5yv?embed&#x3D;1&amp;file&#x3D;App.tsx&amp;view&#x3D;preview--&gt; </code></pre><h2 id="æ‡µé€¼ã€‚ã€‚ã€‚"><a href="#æ‡µé€¼ã€‚ã€‚ã€‚" class="headerlink" title="æ‡µé€¼ã€‚ã€‚ã€‚"></a>æ‡µé€¼ã€‚ã€‚ã€‚</h2><p>ä»å¤´å¼€å§‹</p><pre class="line-numbers language-none"><code class="language-none">å¾…åŠäº‹é¡¹ä¸­çš„è¯„è®ºåŠŸèƒ½ï¼ˆç»„ä»¶é—®é¢˜ï¼‰å…‰æ ‡ä¹±è·³çš„é—®é¢˜ï¼›0. é¡¹ç›® + wiki-ui å¼‚å¸¸1. å•è¿è¡Œwiki-ui demo æ­£å¸¸2. è¿è¡Œslate + umijs æ­£å¸¸3. è¿è¡Œwiki-ui  + umijs å¼‚å¸¸4. slate ä¸  wiki-ui  ä¸ä¸€æ ·åœ¨äºslateç‰ˆæœ¬5. wiki-ui åšäº†ä»€ä¹ˆäº‹æƒ…ï¼š å®šåˆ¶åŒ–ä¸€äº›èŠ‚ç‚¹å±•ç¤ºï¼Œå…‰æ ‡çš„æ¸²æŸ“å’Œwiki-uiæ— å…³</code></pre><h2 id="è´«åƒ§å…ˆå»slateå®˜ç½‘åŒ–ç¼˜ï¼Œå›æ¥å†æˆ˜"><a href="#è´«åƒ§å…ˆå»slateå®˜ç½‘åŒ–ç¼˜ï¼Œå›æ¥å†æˆ˜" class="headerlink" title="è´«åƒ§å…ˆå»slateå®˜ç½‘åŒ–ç¼˜ï¼Œå›æ¥å†æˆ˜"></a>è´«åƒ§å…ˆå»slateå®˜ç½‘<code>åŒ–ç¼˜</code>ï¼Œå›æ¥å†æˆ˜</h2><p><a href="http://localhost:4000/post/2022-04-29slate-lean">slate-lean</a></p><h2 id="åŒ–ç¼˜å½’æ¥"><a href="#åŒ–ç¼˜å½’æ¥" class="headerlink" title="åŒ–ç¼˜å½’æ¥"></a>åŒ–ç¼˜å½’æ¥</h2><p>é—®é¢˜æ€ä¹ˆè§£å†³</p>]]></content>
      
      
      <categories>
          
          <category> wiki </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wiki </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è·¨åŸŸé—®é¢˜</title>
      <link href="//post/2022-05-09cors.html"/>
      <url>//post/2022-05-09cors.html</url>
      
        <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æµè§ˆå™¨å®‰å…¨ç­–ç•¥é™åˆ¶è·¨åŸŸè®¿é—®</p><p>å†…å®¹å®‰å…¨ç­–ç•¥æ˜¯ä¸€ä¸ªé¢å¤–çš„å®‰å…¨å±‚ï¼Œç”¨äºæ£€æµ‹å¹¶å‰Šå¼±æŸäº›ç‰¹å®šç±»å‹çš„æ”»å‡»ï¼ŒåŒ…æ‹¬è·¨ç«™è„šæœ¬ (XSS) å’Œæ•°æ®æ³¨å…¥æ”»å‡»ç­‰ã€‚æ— è®ºæ˜¯æ•°æ®ç›—å–ã€ç½‘ç«™å†…å®¹æ±¡æŸ“è¿˜æ˜¯æ•£å‘æ¶æ„è½¯ä»¶ï¼Œè¿™äº›æ”»å‡»éƒ½æ˜¯ä¸»è¦çš„æ‰‹æ®µã€‚</p><ol><li>ä½¿ç”¨æ–¹å¼<br>ä¸ºä½¿ CSP å¯ç”¨, ä½ éœ€è¦é…ç½®ä½ çš„ç½‘ç»œæœåŠ¡å™¨è¿”å› Content-Security-Policyï¼Œæˆ–è€…åœ¨ HTML <meta> å…ƒç´ ç§ä¹Ÿå¯é…ç½®è¯¥ç­–ç•¥, ä¾‹å¦‚ï¼š</li></ol><pre class="line-numbers language-html" data-language="html"><code class="language-html">&lt;meta  http-equiv&#x3D;&quot;Content-Security-Policy&quot;  content&#x3D;&quot;default-src &#39;self&#39;; img-src https:&#x2F;&#x2F;*; child-src &#39;none&#39;;&quot;&#x2F;&gt;</code></pre><ol start="2"><li>é…ç½®ç¤ºä¾‹<br>ï¼ˆ1ï¼‰ä¸€ä¸ªç½‘ç«™ç®¡ç†è€…æƒ³è¦æ‰€æœ‰å†…å®¹å‡æ¥è‡ªç«™ç‚¹çš„åŒä¸€ä¸ªæº (ä¸åŒ…æ‹¬å…¶å­åŸŸå)</li></ol><pre class="line-numbers language-html" data-language="html"><code class="language-html">Content-Security-Policy: default-src &#39;self&#39;</code></pre><p>ï¼ˆ2ï¼‰ä¸€ä¸ªç½‘ç«™ç®¡ç†è€…å…è®¸å†…å®¹æ¥è‡ªä¿¡ä»»çš„åŸŸååŠå…¶å­åŸŸå (åŸŸåä¸å¿…é¡»ä¸ CSP è®¾ç½®æ‰€åœ¨çš„åŸŸåç›¸åŒ)</p><pre class="line-numbers language-none"><code class="language-none">Content-Security-Policy: default-src &#39;self&#39; *.trusted.com</code></pre><p>ï¼ˆ3ï¼‰ä¸€ä¸ªç½‘ç«™ç®¡ç†è€…å…è®¸ç½‘é¡µåº”ç”¨çš„ç”¨æˆ·åœ¨ä»–ä»¬è‡ªå·±çš„å†…å®¹ä¸­åŒ…å«æ¥è‡ªä»»ä½•æºçš„å›¾ç‰‡, ä½†æ˜¯é™åˆ¶éŸ³é¢‘æˆ–è§†é¢‘éœ€ä»ä¿¡ä»»çš„èµ„æºæä¾›è€…(è·å¾—)ï¼Œæ‰€æœ‰è„šæœ¬å¿…é¡»ä»ç‰¹å®šä¸»æœºæœåŠ¡å™¨è·å–å¯ä¿¡çš„ä»£ç ã€‚</p><pre class="line-numbers language-none"><code class="language-none">Content-Security-Policy: default-src &#39;self&#39;;img-src *;media-src media1.com media2.com; script-src userscripts.example.com</code></pre><p>åœ¨è¿™é‡Œï¼Œå„ç§å†…å®¹é»˜è®¤ä»…å…è®¸ä»æ–‡æ¡£æ‰€åœ¨çš„æºè·å–, ä½†å­˜åœ¨å¦‚ä¸‹ä¾‹å¤–:</p><p>å›¾ç‰‡å¯ä»¥ä»ä»»ä½•åœ°æ–¹åŠ è½½(æ³¨æ„ â€œ*â€œ é€šé…ç¬¦)ã€‚<br>å¤šåª’ä½“æ–‡ä»¶ä»…å…è®¸ä» media1.com å’Œ media2.com åŠ è½½(ä¸å…è®¸ä»è¿™äº›ç«™ç‚¹çš„å­åŸŸå)ã€‚<br>å¯è¿è¡Œè„šæœ¬ä»…å…è®¸æ¥è‡ªäº userscripts.example.comã€‚</p><p>ä½œè€…ï¼šèœé¸¡å‰ç«¯<br>é“¾æ¥ï¼š<a href="https://www.jianshu.com/p/a45924e99a6d">https://www.jianshu.com/p/a45924e99a6d</a><br>æ¥æºï¼šç®€ä¹¦<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p><h2 id="å¤„ç†æ–¹å¼"><a href="#å¤„ç†æ–¹å¼" class="headerlink" title="å¤„ç†æ–¹å¼"></a>å¤„ç†æ–¹å¼</h2><h3 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h3><ul><li>è„šæœ¬</li></ul><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">listen 80; # ç›‘å¬çš„ç«¯â¼   add_header &#39;Access-Control-Allow-Origin&#39; &#39;$http_origin&#39; ;   add_header &#39;Access-Control-Allow-Credentials&#39; &#39;true&#39; ;   add_header &#39;Access-Control-Allow-Methods&#39; &#39;PUT,POST,GET,DELETE,OPTIONS&#39; ;   add_header &#39;Access-Control-Allow-Headers&#39; &#39;Content-Type,Content-Length,Authorization,Accept,X-Requested-With&#39; ;</code></pre><ul><li>å®é™…æ“ä½œ</li></ul><p><img src="http://t-blog-images.aijs.top/img/20220509181853.webp"></p><h3 id="jsonp-æ–¹å¼-lt-åŠ¨æ€-script-gt"><a href="#jsonp-æ–¹å¼-lt-åŠ¨æ€-script-gt" class="headerlink" title="jsonp æ–¹å¼ &lt;åŠ¨æ€ script&gt;"></a>jsonp æ–¹å¼ &lt;åŠ¨æ€ script&gt;</h3><h3 id="æœåŠ¡ç«¯è®¾ç½®ï¼Œç±»ä¼¼-nginx"><a href="#æœåŠ¡ç«¯è®¾ç½®ï¼Œç±»ä¼¼-nginx" class="headerlink" title="æœåŠ¡ç«¯è®¾ç½®ï¼Œç±»ä¼¼ nginx"></a>æœåŠ¡ç«¯è®¾ç½®ï¼Œç±»ä¼¼ nginx</h3><h3 id="å…¶ä»–ï¼ˆä¸å¸¸ç”¨ï¼‰"><a href="#å…¶ä»–ï¼ˆä¸å¸¸ç”¨ï¼‰" class="headerlink" title="å…¶ä»–ï¼ˆä¸å¸¸ç”¨ï¼‰"></a>å…¶ä»–ï¼ˆä¸å¸¸ç”¨ï¼‰</h3>]]></content>
      
      
      <categories>
          
          <category> é¢è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¢è¯•é¢˜æ±‡æ€»</title>
      <link href="//post/2022-05-08interview.html"/>
      <url>//post/2022-05-08interview.html</url>
      
        <content type="html"><![CDATA[<h2 id="å€¼å¾—æ”¶è—çš„é“¾æ¥"><a href="#å€¼å¾—æ”¶è—çš„é“¾æ¥" class="headerlink" title="å€¼å¾—æ”¶è—çš„é“¾æ¥"></a>å€¼å¾—æ”¶è—çš„é“¾æ¥</h2><ol><li><a target="_blank" href="https://juejin.cn/user/1381458394494461">ç ä¸Šé€šå¤©</a></li><li><a target="_blank" href="https://juejin.cn/post/6844904019165446158#heading-42">é¢è¯•å®Œ50ä¸ªäººåæˆ‘å†™ä¸‹è¿™ç¯‡æ€»ç»“</a></li><li><a target="_blank" href="https://juejin.cn/post/6844903897610321934">if æˆ‘æ˜¯å‰ç«¯å›¢é˜Ÿ Leaderï¼Œæ€ä¹ˆåˆ¶å®šå‰ç«¯åä½œè§„èŒƒ?</a></li><li><a target="_blank" href="https://juejin.cn/post/7061588533214969892">åšäº†ä¸€ä»½å‰ç«¯é¢è¯•å¤ä¹ è®¡åˆ’ï¼Œä¿ç†Ÿï½</a></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jså˜é‡å’Œä½œç”¨åŸŸ</title>
      <link href="//post/2022-05-08varible.html"/>
      <url>//post/2022-05-08varible.html</url>
      
        <content type="html"><![CDATA[<h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><h3 id="var-let-conståŒºåˆ«"><a href="#var-let-conståŒºåˆ«" class="headerlink" title="var let conståŒºåˆ«"></a>var let conståŒºåˆ«</h3><ul><li><strong>å˜é‡æå‡</strong>ï¼švar å­˜åœ¨å˜é‡æå‡ï¼Œletã€constæ²¡æœ‰ï¼ˆletã€constå­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼‰</li><li><strong>ä½œç”¨åŸŸçš„é™åˆ¶</strong>ï¼švarä¸å—ä½œç”¨åŸŸçš„é™åˆ¶ï¼Œè€Œletã€constå—å½“å‰ä½œç”¨åŸŸçš„é™åˆ¶</li><li><strong>é‡å¤å£°æ˜</strong>ï¼švarå¯ä»¥é‡å¤å£°æ˜ï¼Œletã€constä¸å¯ä»¥</li><li><strong>constæ˜¯å¸¸é‡</strong>ï¼Œå¿…é¡»æœ‰åˆå§‹å€¼ï¼Œå¦åˆ™æŠ¥é”™ï¼Œä¸èƒ½æ›´æ”¹ï¼Œä½†æ˜¯å¯ä»¥æ›´æ”¹å¯¹è±¡å†…éƒ¨å±æ€§</li></ul><h3 id="å˜é‡åˆ†ç±»"><a href="#å˜é‡åˆ†ç±»" class="headerlink" title="å˜é‡åˆ†ç±»"></a>å˜é‡åˆ†ç±»</h3><ul><li>jsä¸­çš„å˜é‡åˆ†ä¸ºä¸¤ç§ï¼š<ul><li>å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚å…¨å±€å˜é‡å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯åœ¨jsä»»ä½•åœ°æ–¹éƒ½èƒ½å¤Ÿè°ƒç”¨çš„å˜é‡ï¼›</li><li>è€Œå±€éƒ¨å˜é‡å°±åªèƒ½åœ¨å‡½æ•°çš„å†…éƒ¨æ‰èƒ½å¤Ÿè°ƒç”¨çš„å˜é‡ã€‚</li></ul></li></ul><pre class="line-numbers language-js" data-language="js"><code class="language-js">var a&#x3D;10;function show()&#123;  console.log(&#39;a:&#39;+a); &#x2F;&#x2F;a:10  var b&#x3D;2;  console.log(&#39;inside b:&#39;+b); &#x2F;&#x2F;inside b:2&#125;show();console.log(&#39;outside b:&#39;+b); &#x2F;&#x2F;b is no defined</code></pre><p>ã€€ã€€åœ¨ä¸Šé¢çš„ç¨‹åºä¸­ï¼Œå˜é‡aå°±æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œåœ¨å‡½æ•°çš„å†…éƒ¨èƒ½å¤Ÿè°ƒç”¨ã€‚ä½†æ˜¯è¿™é‡Œçš„å˜é‡bå°±æ˜¯å±€éƒ¨å˜é‡ï¼Œå½“å‡½æ•°ç»“æŸè°ƒç”¨åï¼Œå˜é‡bå°±è¢«å›æ”¶äº†ï¼Œå› æ­¤åœ¨å‡½æ•°å¤–éƒ¨è°ƒç”¨å¤±è´¥ã€‚</p><p><em>å¦å¤–éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼š</em></p><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>å¦‚æœåœ¨å£°æ˜å±€éƒ¨å˜é‡æ—¶ä¸ç”¨varå£°æ˜ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡è‡ªåŠ¨â€œæå‡â€ä¸ºå…¨å±€å˜é‡ã€‚</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js">var a&#x3D;10;function show()&#123;  console.log(&#39;a:&#39;+a); &#x2F;&#x2F;a:10  b&#x3D;2;  console.log(&#39;inside b:&#39;+b); &#x2F;&#x2F;inside b:2&#125;show();console.log(&#39;outside b:&#39;+b); &#x2F;&#x2F;outside b:2</code></pre><p>å¯¹æ¯”ä¸¤æ®µä»£ç ï¼Œ<em>å¦‚æœä½ åœ¨å£°æ˜b&#x3D;2æ—¶æ²¡æœ‰å†™varï¼Œé‚£ä¹ˆbå°±éšå¼åœ°å£°æ˜ä¸ºå…¨å±€å˜é‡</em>ï¼Œåœ¨å‡½æ•°å¤–é¢è¿˜æ˜¯èƒ½å¤Ÿè¢«è°ƒç”¨åˆ°çš„ã€‚<br>è™½ç„¶ä½¿ç”¨å…¨å±€å˜é‡èƒ½å¤Ÿåœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨ï¼Œå¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯å…¨å±€å˜é‡çš„ä¼˜ç‚¹ä¹Ÿç»™ä»–å¸¦æ¥äº†<em>ç¼ºç‚¹</em>ï¼š</p><ol><li>ä¸€ç›´å ç”¨å†…å­˜ï¼šå…¨å±€å˜é‡ä¿å­˜åœ¨é™æ€å­˜å‚¨åŒºï¼Œå¦‚æœå…¨å±€å˜é‡è¿‡å¤šä¼šå å¤šå¤§é‡å†…å­˜ï¼Œä¸¥é‡å½±å“é¡µé¢çš„æ€§èƒ½ã€‚</li><li>å½±å“äº†å‡½æ•°çš„ç‹¬ç«‹æ€§ï¼šä¸€èˆ¬å‡½æ•°éƒ½æ˜¯ä¼ å…¥å‚æ•°å’Œä¼ å‡ºè¿”å›å€¼è¿›è¡Œè¿ç®—çš„ï¼Œå¦‚æœå‡½æ•°ä¾èµ–äºå…¨å±€å˜é‡ï¼Œç ´åäº†å‡½æ•°çš„è¿™ç§ç‹¬ç«‹æ€§ï¼Œ</li><li>å¯ç§»æ¤æ€§: åŒæ—¶ä¹Ÿé™ä½äº†å‡½æ•°çš„å¯ç§»æ¤æ€§ã€‚</li></ol><p><strong>å› æ­¤æˆ‘ä»¬åœ¨å®šä¹‰å˜é‡æ—¶ä¸€èˆ¬è¦å°½å¯èƒ½å°‘çš„å®šä¹‰å…¨å±€å˜é‡ã€‚</strong></p><h3 id="å˜é‡å£°æ˜"><a href="#å˜é‡å£°æ˜" class="headerlink" title="å˜é‡å£°æ˜"></a>å˜é‡å£°æ˜</h3><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>å‡½æ•°å£°æ˜ä¼˜å…ˆäºå˜é‡å£°æ˜</p></blockquote><p>ã€€ã€€ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€æ®µä»£ç æ¥è¯´æ˜.</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">var a; function a()&#123;&#125;console.log(typeof a); &#x2F;&#x2F;function&#x2F;&#x2F; æˆ–è®¸æœ‰äººæ˜¯è®¤ä¸ºå‡½æ•°å£°æ˜åœ¨åé¢çš„åŸå› ï¼Œé‚£ä¹ˆè°ƒæ¢ä¸€ä¸‹ä½ç½®ã€‚</code></pre><pre class="line-numbers language-js" data-language="js"><code class="language-js">function a()&#123;&#125;var a; console.log(typeof a); &#x2F;&#x2F;function&#x2F;&#x2F; è°ƒæ¢ä½ç½®åå˜é‡açš„ç±»å‹è¿˜æ˜¯functionï¼Œè¿™æ—¶å€™å£°æ˜å˜é‡açš„è¯­å¥æ²¡æœ‰èµ·ä½œç”¨ï¼Œè¢«å‡½æ•°å£°æ˜è¦†ç›–äº†ã€‚&#x2F;&#x2F; å› æ­¤å‡½æ•°å£°æ˜ä¼˜å…ˆäºå˜é‡çš„å£°æ˜ã€‚&#x2F;&#x2F; ä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨å£°æ˜çš„åŒæ—¶ç»™aè¿›è¡Œèµ‹å€¼ã€‚</code></pre><pre class="line-numbers language-js" data-language="js"><code class="language-js">function a()&#123;&#125;var a&#x3D;&#39;xyf&#39;; console.log(typeof a); &#x2F;&#x2F;string&#x2F;&#x2F; æˆ‘ä»¬å°†å…¶è°ƒæ¢ä¸€ä¸‹ä½ç½®å†æ¬¡è¿›è¡ŒéªŒè¯ã€‚</code></pre><pre class="line-numbers language-js" data-language="js"><code class="language-js">var a&#x3D;&#39;xyf&#39;; function a()&#123;&#125;console.log(typeof a); &#x2F;&#x2F;string&#x2F;&#x2F; å¯ä»¥çœ‹åˆ°ï¼Œç»™å˜é‡aè¿›è¡Œèµ‹å€¼åï¼Œä¸ç®¡å˜é‡aåœ¨å“ªï¼Œå…¶ç±»å‹å˜ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œä¸Šé¢ä¸¤æ®µä»£ç ç›¸å½“äºå¦‚ä¸‹ä»£ç ï¼š</code></pre><pre class="line-numbers language-js" data-language="js"><code class="language-js">function a()&#123;&#125;var a;a&#x3D;&#39;xyf&#39;;console.log(typeof a); &#x2F;&#x2F;string&#x2F;&#x2F; aæœ€åè¢«èµ‹å€¼ä¸ºå­—ç¬¦ä¸²ï¼Œå› æ­¤açš„ç±»å‹è‡ªç„¶æ˜¯å­—ç¬¦ä¸²</code></pre><h2 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h2><h3 id="å…¨å±€ä½œç”¨åŸŸ"><a href="#å…¨å±€ä½œç”¨åŸŸ" class="headerlink" title="å…¨å±€ä½œç”¨åŸŸ"></a>å…¨å±€ä½œç”¨åŸŸ</h3><p>ã€€jsä¸­ä½œç”¨åŸŸåªæœ‰<em>å‡½æ•°ä½œç”¨åŸŸ</em>å’Œ<em>å…¨å±€ä½œç”¨åŸŸ</em>ï¼Œ</p><h3 id="å‡½æ•°ä½œç”¨åŸŸ"><a href="#å‡½æ•°ä½œç”¨åŸŸ" class="headerlink" title="å‡½æ•°ä½œç”¨åŸŸ"></a>å‡½æ•°ä½œç”¨åŸŸ</h3><p>ã€€jsä¸­ä½œç”¨åŸŸåªæœ‰<em>å‡½æ•°ä½œç”¨åŸŸ</em>å’Œ<em>å…¨å±€ä½œç”¨åŸŸ</em>ï¼Œ</p><h3 id="å—çº§ä½œç”¨åŸŸ"><a href="#å—çº§ä½œç”¨åŸŸ" class="headerlink" title="å—çº§ä½œç”¨åŸŸ"></a>å—çº§ä½œç”¨åŸŸ</h3><p>  let const<em>æœ‰å—çº§ä½œç”¨åŸŸ</em>ã€‚å‡½æ•°ä½œç”¨åŸŸæ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£çš„ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯å—çº§ä½œç”¨åŸŸå‘¢ï¼Ÿ<br>  <pre class="line-numbers language-js" data-language="js"><code class="language-js">&#123;var a &#x3D; 1&#125;console.log(a)VM2355:1 1</code></pre><br>  <pre class="line-numbers language-js" data-language="js"><code class="language-js">&#123;let a &#x3D;1&#125;console.log(a)VM2079:1 Uncaught ReferenceError: a is not defined</code></pre></p><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>ä»»ä½•ä¸€å¯¹èŠ±æ‹¬å·ï¼ˆï½›å’Œï½ï¼‰ä¸­çš„è¯­å¥é›†éƒ½å±äºä¸€ä¸ªå—ï¼Œåœ¨è¿™ä¹‹ä¸­å®šä¹‰çš„æ‰€æœ‰å˜é‡åœ¨ä»£ç å—å¤–éƒ½æ˜¯ä¸å¯è§çš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå—çº§ä½œç”¨åŸŸã€‚</p></blockquote><p>ã€€ã€€ç†è§£äº†å—çº§ä½œç”¨åŸŸï¼Œæ¥çœ‹ä¸€ä¸‹ä¸‹é¢çš„å°ä¾‹å­ã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">console.log(v); &#x2F;&#x2F;undefinedvar v &#x3D; &quot;world&quot;;ã€€ã€€&#x2F;&#x2F; è¿™æ®µä»£ç å¾ˆå¥½ç†è§£ï¼Œç”±äºå˜é‡våœ¨æ²¡æœ‰èµ‹å€¼å‰ä½¿ç”¨äº†ï¼Œæ‰€ä»¥æ˜¯undefinedã€‚å…¶å®è¿™é‡Œå­˜åœ¨ç€å£°æ˜çš„æå‰ã€‚</code></pre><p>å½“å‰ä½œç”¨åŸŸå†…çš„å£°æ˜éƒ½ä¼šæå‡åˆ°ä½œç”¨åŸŸçš„æœ€å‰é¢ï¼ŒåŒ…æ‹¬å˜é‡å’Œå‡½æ•°çš„å£°æ˜</p><p>ç”±äºjsä½œç”¨åŸŸä¸­çš„å£°æ˜éƒ½ä¼šè¢«æå‡åˆ°ä½œç”¨åŸŸçš„æœ€å‰é¢ï¼Œæ‰€ä»¥ï¼Œä¸Šé¢çš„ä»£ç ç›¸å½“äºï¼š</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">var v;console.log(v); &#x2F;&#x2F;undefinedv &#x3D; &quot;world&quot;;&#x2F;&#x2F; è¿™æ ·å°±èƒ½å¾ˆæ¸…æ™°åœ°ç†è§£ä¸ºä»€ä¹ˆå˜é‡væ˜¯undefinedçš„äº†ã€‚&#x2F;&#x2F;ä¸‹é¢æˆ‘ä»¬æŠŠå˜é‡væ”¾åˆ°ä¸€ä¸ªæ–¹æ³•ä¸­å»ï¼š</code></pre><pre class="line-numbers language-js" data-language="js"><code class="language-js">if(true)&#123;  var v &#x3D; &quot;hello&quot;;&#125;console.log(v); &#x2F;&#x2F;hello&#x2F;&#x2F; åœ¨è¿™é‡Œç”±äºjsæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œæ‰€ä»¥ifæ–¹æ³•æ²¡æœ‰â€œå½¢æˆâ€ä¸€ä¸ªå°é—­çš„ä½œç”¨åŸŸï¼Œ&#x2F;&#x2F; å¹¶ä¸èƒ½å¤Ÿâ€œé˜»æŒ¡â€å¤–é¢çš„ä»£ç è·å–é‡Œé¢çš„å˜é‡ã€‚</code></pre><p>å‡½æ•°ä½œç”¨åŸŸ<br>ã€€ã€€æˆ‘ä»¬å†æŠŠå˜é‡væ”¾åˆ°å‡½æ•°ä¸­å»ï¼š</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">function show()&#123;  var v&#x3D;&#39;world&#39;;&#125;show();console.log(v); &#x2F;&#x2F;undefined</code></pre><p>ã€€ã€€ç”±äºshowå‡½æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸï¼Œâ€œé˜»æŒ¡â€å¤–é¢çš„ä»£ç è·å–é‡Œé¢å˜é‡ï¼ˆå¹¶ä¸èƒ½é˜»æŒ¡é‡Œé¢çš„ä»£ç è·å–å¤–é¢çš„å˜é‡ï¼‰ï¼Œæ‰€ä»¥å‡½æ•°å¤–éƒ¨å¹¶ä¸èƒ½è·å–åˆ°å‡½æ•°é‡Œé¢çš„å˜é‡vã€‚å› æ­¤è¯æ˜äº†jsä¸­åªæœ‰å‡½æ•°ä½œç”¨åŸŸï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸã€‚<br>ã€€ã€€å†æ¥çœ‹ä¸‹é¢çš„ä¸€æ®µä»£ç ï¼š</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">var v&#x3D;&#39;hello&#39;;function show()&#123;  console.log(v); &#x2F;&#x2F;undefined  var v&#x3D;&#39;world&#39;;&#125;show();</code></pre><p>ã€€ã€€å¾ˆå¤šäººçœ‹åˆ°è¿™è¾¹éƒ½ä¼šå¾ˆç–‘æƒ‘ï¼Œä¸æ˜¯è¯´è¿™è¾¹showå‡½æ•°ä¸­èƒ½å¤Ÿè·å–åˆ°å‡½æ•°å¤–é¢çš„å˜é‡çš„ä¹ˆï¼Ÿä½†æ˜¯ç”±äºè¿™è¾¹æ˜¯ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸï¼Œè€Œå‡½æ•°ä½œç”¨åŸŸå­˜åœ¨ç€å˜é‡å£°æ˜çš„æå‰ï¼Œå› æ­¤ï¼Œä¸Šé¢çš„ä»£ç ç›¸å½“äºä¸‹é¢çš„ä»£ç ï¼š</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">var v&#x3D;&#39;hello&#39;;function show()&#123;var v;console.log(v); &#x2F;&#x2F;undefinedv&#x3D;&#39;world&#39;;&#125;show();</code></pre><p>ã€€ã€€è¿™é‡ŒæŠŠå˜é‡vçš„å£°æ˜æ”¾åˆ°äº†æ•´ä¸ªå‡½æ•°ä½œç”¨åŸŸçš„æœ€å‰é¢ï¼Œå› æ­¤æ˜¾ç¤ºä¸ºundefinedã€‚ç†è§£äº†ä¸Šé¢çš„ä»£ç ï¼Œç›¸ä¿¡ä¸‹é¢çš„ä»£ç ä¹Ÿä¸éš¾ç†è§£äº†ã€‚</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">var v &#x3D; &quot;hello&quot;;(function()&#123;  console.log(v);  var v &#x3D; &quot;world&quot;;&#125;)();</code></pre><p>ã€€ã€€åœ¨è¿™é‡Œè‡ªæ‰§è¡Œå‡½æ•°å½¢æˆäº†å‡½æ•°ä½œç”¨åŸŸ</p><p>éœ€è¦æ³¨æ„çš„æ˜¯<br>å˜é‡æå‡åªæå‡å‡½æ•°çš„å£°æ˜ï¼Œå¹¶ä¸æå‡å‡½æ•°çš„å®šä¹‰</p><pre class="line-numbers language-js" data-language="js"><code class="language-js">show(); &#x2F;&#x2F;show is not a functionvar show&#x3D;function()&#123;&#x2F;&#x2F;...&#125;show(); &#x2F;&#x2F;æˆåŠŸè¿è¡Œ</code></pre><p>ã€€ã€€æˆ–è®¸æœ‰äººæœ‰ç–‘é—®ï¼Œä¸ºä»€ä¹ˆè¿™è¾¹å®šä¹‰çš„å‡½æ•°å°±ä¸èƒ½æ‰§è¡Œå‘¢ï¼Ÿåœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦æ˜ç™½å‡½æ•°åœ¨jsä¸­æ˜¯å¦‚ä½•è¿›è¡Œå®šä¹‰çš„ã€‚</p><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>å‡½æ•°æœ‰ä¸¤ç§å®šä¹‰æ–¹å¼ï¼Œä¸€ç§æ˜¯<code>å‡½æ•°å£°æ˜</code>ï¼Œå¦ä¸€ç§æ˜¯<code>å‡½æ•°è¡¨è¾¾å¼</code>ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯å‡½æ•°å£°æ˜ä»€ä¹ˆæ˜¯å‡½æ•°è¡¨è¾¾å¼å‘¢ï¼Ÿ</p></blockquote><pre class="line-numbers language-js" data-language="js"><code class="language-js">&#x2F;&#x2F;å‡½æ•°å£°æ˜function show()&#123;&#x2F;&#x2F;....&#125;&#x2F;&#x2F;å‡½æ•°è¡¨è¾¾å¼var show&#x3D;function()&#123;&#x2F;&#x2F;...&#125;</code></pre><p>ä¹ä¸€çœ‹ï¼Œä»–ä»¬é•¿å¾—å¾ˆåƒï¼Œå†™æ³•éƒ½å·®ä¸å¤šï¼Œä½†æ˜¯å®é™…ä¸Šè¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p><ul><li>jsçš„è§£æå™¨å¯¹<code>å‡½æ•°å£°æ˜</code>å’Œ<code>å‡½æ•°è¡¨è¾¾å¼</code>å¹¶ä¸æ˜¯ä¸€è§†åŒä»çš„å¯¹å¾…çš„ï¼Œæœ‰ç‚¹â€œç§æ—æ­§è§†â€çš„æ„æ€åœ¨é‡Œé¢ã€‚</li><li><code>å‡½æ•°å£°æ˜å°±åƒæ˜¯â€œä¸€ç­‰å…¬æ°‘â€ï¼Œjsä¼šä¼˜å…ˆè¯»å–ï¼Œç¡®ä¿åœ¨æ‰§è¡Œå‰å°±å·²ç»è¢«è§£æäº†</code>ï¼Œæ‰€ä»¥å‡½æ•°å£°æ˜æ”¾åœ¨å½“å‰ä½œç”¨åŸŸçš„ä»»ä½•åœ°æ–¹éƒ½èƒ½å¤Ÿè¢«è°ƒç”¨ï¼Œç”šè‡³æ”¾åˆ°è°ƒç”¨å‡½æ•°å£°æ˜ä¹‹åé¢ã€‚</li><li><code>è€Œå‡½æ•°è¡¨è¾¾å¼å°±æ˜¾å¾—æ¯”è¾ƒâ€œæ™®é€šâ€ï¼Œå’Œä¸€èˆ¬çš„å˜é‡ä¸€æ ·ï¼Œåªæœ‰åˆ°æ‰§è¡Œåˆ°è¯¥è¡Œæ—¶æ‰è¿›è¡Œè§£æï¼Œ</code>å› æ­¤ï¼Œè°ƒç”¨å‡½æ•°è¡¨è¾¾å¼è¦åœ¨å®šä¹‰åè¿›è¡Œä½¿ç”¨ã€‚</li></ul><h2 id="other"><a href="#other" class="headerlink" title="other"></a>other</h2><p><a href="https://juejin.cn/post/6844904019165446158">https://juejin.cn/post/6844904019165446158</a></p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•æ›´å¥½çš„æ²‰æ·€</title>
      <link href="//post/2022-04-28%E5%8D%9A%E5%AE%A2%E5%88%9B%E5%BB%BA.html"/>
      <url>//post/2022-04-28%E5%8D%9A%E5%AE%A2%E5%88%9B%E5%BB%BA.html</url>
      
        <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><ul><li>å·¥ä½œæ—¥å¸¸ç»éªŒæ€§æ€»ç»“æ”¾å“ªï¼Ÿ</li><li>å­˜ç”µè„‘ï¼Œç”µè„‘åäº†é‡åšç³»ç»Ÿæ²¡äº†ï¼Œ</li><li>æ”¾åˆ°ç”µè„‘å¤‡å¿˜å½•ï¼Œå§æ§½ï¼Œæ€ä¹ˆæ²¡åŠæ—¶æ›´æ–°</li><li>æ”¾è‡ªå·±çš„æœåŠ¡å™¨ï¼Œæ²¡æ—¶é—´æ‰“ç†ï¼ŒæœåŠ¡å™¨åˆ°æœŸï¼Œå—å±äº†ï¼Œæ²¡æ¥çš„åŠè¿ç§»</li></ul><h2 id="hexo"><a href="#hexo" class="headerlink" title="hexo"></a>hexo</h2><ul><li>hexoç”±äºæœ‰ä¸°å¯Œçš„æ’ä»¶å’Œä¸»é¢˜ï¼Œä½¿ç”¨åŠéƒ¨ç½²æ–¹ä¾¿ï¼Œå¤‡å—æ¬¢è¿</li><li>è‡ªå·±è´­ä¹°æœåŠ¡å™¨éƒ¨ç½²ï¼ŒæœåŠ¡å™¨åˆ°æœŸåç»­è´¹å¾ˆè´µ</li><li>æ”¾åˆ°ç¬¬ä¸‰æ–¹åšå®¢ä¸Šï¼Œå¥½ä¸€ç‚¹çš„åƒç®€ä¹¦ï¼Œæ¯å¤©å‘å¸ƒé™åˆ¶ä¸¤ç¯‡ï¼Œå¯æ§æ€§å¤ªå·®</li></ul><h2 id="hexo-ä¸»é¢˜"><a href="#hexo-ä¸»é¢˜" class="headerlink" title="hexo ä¸»é¢˜"></a>hexo ä¸»é¢˜</h2><p>è¿™é‡Œä½¿ç”¨ <code>aurora</code></p><pre class="line-numbers language-none"><code class="language-none">theme: aurora</code></pre><p><a href="https://tridiamond.tech/">tridiamond</a><br><a href="https://github.com/AlphaHinex/AlphaHinex.github.io">AlphaHinex</a></p><h2 id="é˜¿é‡Œäº‘oss"><a href="#é˜¿é‡Œäº‘oss" class="headerlink" title="é˜¿é‡Œäº‘oss"></a>é˜¿é‡Œäº‘oss</h2><ul><li>å›¾ç‰‡èµ„æºæ”¾åˆ°githubä¸Šï¼Œè®¿é—®è¾ƒæ…¢ï¼Œä¸ºäº†æå‡ä½“éªŒï¼Œå°†èµ„æºæ”¾åˆ°ossä¸Šï¼Œæƒé™é…ç½®ä¸ºå…¬å¼€ï¼Œå¯è¢«ä»»ä½•ç”¨æˆ·è®¿é—®</li></ul><h2 id="é˜¿é‡Œäº‘åŸŸå"><a href="#é˜¿é‡Œäº‘åŸŸå" class="headerlink" title="é˜¿é‡Œäº‘åŸŸå"></a>é˜¿é‡Œäº‘åŸŸå</h2><ul><li>åŸŸåè®¿é—®æ¯”è¾ƒæ–¹ä¾¿ï¼Œå›¾ç‰‡èµ„æºåªæœ‰åœ¨ä½¿ç”¨åŸŸåçš„æƒ…å†µä¸‹ï¼Œå„èµ„æºå¯ä»¥é¢„è§ˆï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸‹è½½</li></ul><h2 id="PicGoå›¾åºŠã€Œè´¼å¥½ç”¨ï¼Œ"><a href="#PicGoå›¾åºŠã€Œè´¼å¥½ç”¨ï¼Œ" class="headerlink" title="PicGoå›¾åºŠã€Œè´¼å¥½ç”¨ï¼Œ"></a>PicGoå›¾åºŠã€Œè´¼å¥½ç”¨ï¼Œ</h2><ul><li>æ€è€ƒï¼šé™¤æ­¤ä¹‹å¤–ï¼Œå› ä¸ºå…¶å¼€æºæˆ‘ä»¬å¯ä»¥å­¦ä¹ ä¸‹ä½œè€…æ˜¯å¦‚ä½•å¤„ç†æ’ä»¶çš„ã€</li><li>ä¸ºåšå®¢ä¸­mdæ–‡æ¡£æä¾›å›¾ç‰‡é“¾æ¥ï¼Œæ”¾åˆ°é˜¿é‡Œäº‘ossä¸Š</li><li>ä¸Šä¼ æˆåŠŸ<br><img src="http://t-blog-images.aijs.top/img/20220428101247.png?x-oss-process=image/resize,h_300,w_500"></li><li>å› ä¸ºå¼€å‘è¿‡electronï¼Œç¬¬ä¸€æƒ³åˆ°çš„æ˜¯æˆ‘è¦debug,æ‰“å¼€æ§åˆ¶å°</li><li>åŸŸåé…é”™ä¸å¯è®¿é—®<br><img src="http://t-blog-images.aijs.top/img/20220428104003.png?x-oss-process=image/resize,h_300,w_500"><br><img src="http://t-blog-images.aijs.top/img/20220428104024.png?x-oss-process=image/resize,h_300,w_500"></li><li>é‡åˆ°å›¾ç‰‡,ä½œä¸ºç¨‹åºçŒ¿ç¬¬ä¸€ååº”è¦ä¼˜åŒ–ã€Œå‹ç¼©ã€<code>compress</code></li><li>æ’ä»¶ä¸‹è½½<br><img src="http://t-blog-images.aijs.top/img/20220428104511.png?x-oss-process=image/resize,h_300,w_500" alt="ä¸‹è½½æ’ä»¶"></li><li>æ’ä»¶å¯ç”¨<br><img src="http://t-blog-images.aijs.top/img/20220428104919.png?x-oss-process=image/resize,h_300,w_500" alt="éœ€è¦å¯åŠ¨æ’ä»¶ï¼Œä¸å™¨ç”¨æ²¡æœ‰æ•ˆæœ"></li><li>æ’ä»¶æ˜¯å¦ç”Ÿæ•ˆäº†<br><img src="http://t-blog-images.aijs.top/img/20220428105126.png?x-oss-process=image/resize,h_300,w_500" alt="å‹ç¼©åçš„æ ¡éªŒ"></li><li>æ’ä»¶åˆ—è¡¨<br><a href="https://github.com/PicGo/Awesome-PicGo">githubé“¾æ¥</a></li></ul><h2 id="ä¹¦å†™æ–‡ç« -hexoé¡µé¢ä¸çƒ­é‡è½½ï¼Ÿ"><a href="#ä¹¦å†™æ–‡ç« -hexoé¡µé¢ä¸çƒ­é‡è½½ï¼Ÿ" class="headerlink" title="ä¹¦å†™æ–‡ç«  hexoé¡µé¢ä¸çƒ­é‡è½½ï¼Ÿ"></a>ä¹¦å†™æ–‡ç«  hexoé¡µé¢ä¸çƒ­é‡è½½ï¼Ÿ</h2><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">yarn add global browser-syncyarn add hexo-browsersync</code></pre><h2 id="å¯ç”¨è¯„è®º"><a href="#å¯ç”¨è¯„è®º" class="headerlink" title="å¯ç”¨è¯„è®º"></a>å¯ç”¨è¯„è®º</h2><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml"># For local development only!gitalk:  enable: false  autoExpand: true  clientID: &#39;&#39;  clientSecret: &#39;&#39;  repo: &#39;dev-blog-comments&#39;  owner: &#39;TriDiamond&#39;  admin: [&#39;TriDiamond&#39;]  id: uid  language: en  distractionFreeMode: true  recentComment: true  proxy: &#39;&#39;# Valine comment plugin (recommended!)# see https:&#x2F;&#x2F;valine.js.org&#x2F;quickstart.htmlvaline:  enable: true  app_id: å»ç”³è¯·  app_key: å»ç”³è¯·  avatar: &#39;http:&#x2F;&#x2F;t-blog-images.aijs.top&#x2F;img&#x2F;avatar.jpeg&#39;  placeholder: Leave your thoughts behind~  visitor: true  lang: en  avatarForce: false  meta: [&#39;nick&#39;, &#39;mail&#39;]  requiredFields: []  admin: &#39;æµ·é¾™&#39;  recentComment: true</code></pre><h2 id="å›¾ç‰‡å¢åŠ æ°´å°"><a href="#å›¾ç‰‡å¢åŠ æ°´å°" class="headerlink" title="å›¾ç‰‡å¢åŠ æ°´å°"></a>å›¾ç‰‡å¢åŠ æ°´å°</h2><p><strong>é…ç½®åŠæ•ˆæœ</strong><br><img src="http://t-blog-images.aijs.top/img/20220524104857.webp"></p><h2 id="picgoç”Ÿæˆä»£ç "><a href="#picgoç”Ÿæˆä»£ç " class="headerlink" title="picgoç”Ÿæˆä»£ç "></a>picgoç”Ÿæˆä»£ç </h2><ul><li>å¯é€‰ä¸åŒçš„ä»£ç æ–¹å¼<img src="http://t-blog-images.aijs.top/img/20220526230443.png"/></li></ul><h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><ol><li>æ¯æ¬¡å‘å¸ƒåï¼Œgithub page è‡ªå®šä¹‰åŸŸåä¼šä¸¢å¤±<blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>åœ¨_postsç›®å½•ä¸‹å»ºç«‹CNAMEæ–‡ä»¶ å¡«å†™ä¸Šè‡ªå·±çš„åŸŸå</p></blockquote></li><li>å›¾åºŠpicGoï¼Œä¸Šä¼ äº†å›¾ç‰‡ï¼Œåœ¨ossä¸ŠæŸ¥çœ‹ä¹ŸæˆåŠŸäº†ï¼Œä½†æ˜¯picGoç›¸å†Œä¸­æ²¡æœ‰å±•ç¤º<blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><code>/Users/chenhailong/Library/Application Support/picgo</code>ç›®å½•ä¸‹ï¼Œåˆ é™¤ <code>rm picgo.db</code>,é‡æ–°å¯åŠ¨<br>è§<a href="https://github.com/Molunerfinn/PicGo/issues/781">issue #781</a></p></blockquote></li><li>è°ƒæ•´åšå®¢æ–‡ä»¶æ—¶é—´ï¼Œè¿è¡Œåæ–‡ç« æ’åºå¹¶æ²¡æœ‰æ”¹å˜ï¼Œéœ€è¦æ¸…ç†æ ¹ç›®å½•ä¸‹<code>db.json</code></li></ol><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p>æ€»ä½“è€Œè¨€picgoå·²ç»å¾ˆå¥½äº†ï¼Œæœ‰å‡ ç‚¹å¯ä»¥ä¼˜åŒ–</p><ul><li>å·²æœ‰å›¾ç‰‡äºŒæ¬¡é‡æ–°ä¸Šä¼ å‹ç¼©åŠŸèƒ½</li><li>çª—å£å®åœ¨æ˜¯å¤ªå°äº†ï¼Œæ­£å¸¸æƒ…å†µä¸‹å¯ä»¥æ‰‹åŠ¨æ‹–æ‹½æ”¹å˜å¤§å°</li><li>æ’ä»¶åˆ—è¡¨æ’ä»¶å¡ç‰‡éƒ¨åˆ†é‡å </li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Lernaè°ƒè¯•å¼€æºåº“é‡åˆ°çš„é—®é¢˜</title>
      <link href="//post/2022-05-05lerna.html"/>
      <url>//post/2022-05-05lerna.html</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-none"><code class="language-none">yarn install --mutex network:42424 --non-interactiveğŸ‘‘ ~&#x2F;Desktop&#x2F;slate git:(main) $ lerna --version4.0.0ğŸ‘‘ ~&#x2F;Desktop&#x2F;slate git:(main) $ yarn global add lerna@3.19.0    Usage Error: The &#39;yarn global&#39; commands have been removed in 2.x - consider using &#39;yarn dlx&#39; or a third-party plugin instead$ yarn run [--inspect] [--inspect-brk] &lt;scriptName&gt; ...ğŸ‘‘ ~&#x2F;Desktop&#x2F;slate git:(main) $ yarn --version              3.0.1</code></pre>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MACå­˜å‚¨ç©ºé—´ä¸è¶³é—®é¢˜</title>
      <link href="//post/2022-05-05mac.html"/>
      <url>//post/2022-05-05mac.html</url>
      
        <content type="html"><![CDATA[<p><img src="http://t-blog-images.aijs.top/img/20220505165350.webp"></p>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Stringç›¸å…³é¢è¯•ä»£ç </title>
      <link href="//post/2022-05-03string.html"/>
      <url>//post/2022-05-03string.html</url>
      
        <content type="html"><![CDATA[<h3 id="è½¬åŒ–ä¸ºé©¼å³°å‘½å"><a href="#è½¬åŒ–ä¸ºé©¼å³°å‘½å" class="headerlink" title="è½¬åŒ–ä¸ºé©¼å³°å‘½å"></a>è½¬åŒ–ä¸ºé©¼å³°å‘½å</h3><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p><code>var s1 = &quot;get-element-by-id&quot;</code></p></blockquote><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">var f &#x3D; function (s) &#123;  return s.replace(&#x2F;-\w&#x2F;g, function (x) &#123;    return x.splice(1).toUpperCase();  &#125;);&#125;;</code></pre><h3 id="æ¨¡ç‰ˆå¼•æ“å®ç°"><a href="#æ¨¡ç‰ˆå¼•æ“å®ç°" class="headerlink" title="æ¨¡ç‰ˆå¼•æ“å®ç°"></a>æ¨¡ç‰ˆå¼•æ“å®ç°</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">let template &#x3D; &quot;æˆ‘æ˜¯&#123;&#123;name&#125;&#125;,å¹´é¾„&#123;&#123;age&#125;&#125;,æ€§åˆ«&#123;&#123;sex&#125;&#125;&quot;;let data &#x3D; &#123;  name: &quot;å§“å&quot;,  age: 18,&#125;;render(template, data); &#x2F;&#x2F;æˆ‘æ˜¯å§“å,å¹´é¾„18,æ€§åˆ«undefinedfunction render(template, data) &#123;  &#x2F;&#x2F; æ¨¡ç‰ˆå­—ç¬¦ä¸²æ­£åˆ™  const resg &#x3D; &#x2F;\&#123;\&#123;(\w+)\&#125;\&#125;&#x2F;;  &#x2F;&#x2F; åˆ¤æ–­æ¨¡ç‰ˆé‡Œæ˜¯å¦æœ‰æ¨¡ç‰ˆå­—ç¬¦ä¸²  if (reg.test(template)) &#123;    &#x2F;&#x2F; æŸ¥æ‰¾å½“å‰æ¨¡ç‰ˆé‡Œç¬¬ä¸€ä¸ªæ¨¡ç‰ˆå­—ç¬¦ä¸²çš„å­—ç¬¦    const name &#x3D; reg.exec(template)[1];    &#x2F;&#x2F; å°†ç¬¬ä¸€ä¸ªæ¨¡ç‰ˆå­—ç¬¦ä¸²æ¸²æŸ“    template &#x3D; template.replace(reg, data[name]);    &#x2F;&#x2F; é€’å½’çš„æ¸²æŸ“å¹¶è¿”å›æ¸²æŸ“åçš„ç»“æ„    return render(template, data);  &#125;&#125;</code></pre><h3 id="è§£æ-URL-Params-ä¸ºå¯¹è±¡"><a href="#è§£æ-URL-Params-ä¸ºå¯¹è±¡" class="headerlink" title="è§£æ URL Params ä¸ºå¯¹è±¡"></a>è§£æ URL Params ä¸ºå¯¹è±¡</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">let url &#x3D;  &quot;http:&#x2F;&#x2F;www.domain.com&#x2F;?user&#x3D;anonymouse&amp;id&#x3D;123&amp;id&#x3D;456&amp;city&#x3D;%E5%8C%97%E4%BA%AC&amp;enabled&quot;;&#x2F;** * ç»“æœ * &#123; *  user: &#39;anonymouse&#39;, *  id: [123,456], &#x2F;&#x2F; é‡å¤å‡ºç°çš„keyï¼Œè¦è½¬åŒ–æˆæ•°ç»„ *  city: &#39;åŒ—äº¬&#39;, &#x2F;&#x2F; ä¸­æ–‡éœ€è¦è§£ç  *  enabled: true &#x2F;&#x2F; æœªæŒ‡å®šå€¼çš„keyï¼Œçº¦å®šä¸ºtrue * * * &#125; * **&#x2F;function paramParam(url) &#123;  const paramsStr &#x3D; &#x2F;.+\?(.+)$&#x2F;.exec(url)[1];  const paramsArr &#x3D; paramsArr.split(&quot;&amp;&quot;);  let paramsObj &#x3D; &#123;&#125;;  paramsArr.forEach((param) &#x3D;&gt; &#123;    if (&#x2F;&#x3D;&#x2F;.test(param)) &#123;      let [key, val] &#x3D; param.split(&quot;&#x3D;&quot;); &#x2F;&#x2F; æ‹†åˆ†é”®&#x2F;å€¼      val &#x3D; decodeURLComponent(val); &#x2F;&#x2F; æ±‰å­—è§£ç       val &#x3D; &#x2F;^\d+$&#x2F;.test(val) ? parseFloat(val) : val; &#x2F;&#x2F; æ•°å­—è½¬åŒ–      if (paramsObj.hasOwnProperty(key)) &#123;        paramsObj[key] &#x3D; [].concat(paramsObj[key], val); &#x2F;&#x2F; é‡å¤keyè½¬æ•°ç»„      &#125; else &#123;        paramsObj[key] &#x3D; val;      &#125;    &#125; else &#123;      paramsObj[key] &#x3D; true; &#x2F;&#x2F; å¤„ç†çº¦å®š    &#125;  &#125;);&#125;</code></pre><h3 id="æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­ï¼Œå‡ºç°æœ€å¤šçš„å­—ç¬¦å’Œä¸ªæ•°"><a href="#æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­ï¼Œå‡ºç°æœ€å¤šçš„å­—ç¬¦å’Œä¸ªæ•°" class="headerlink" title="æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­ï¼Œå‡ºç°æœ€å¤šçš„å­—ç¬¦å’Œä¸ªæ•°"></a>æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­ï¼Œå‡ºç°æœ€å¤šçš„å­—ç¬¦å’Œä¸ªæ•°</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">let str &#x3D; &quot;abcabcabcbbcccc&quot;;let num &#x3D; 0;let char &#x3D; &quot;&quot;;&#x2F;&#x2F; å…ˆæ’åºï¼Œåç”¨æ­£åˆ™å¤„ç†ä¸ªæ•°str &#x3D; str.split(&quot;&quot;).sort().join(&quot;&quot;);let re &#x3D; &#x2F;(\w)\1+&#x2F;g;str.replace(re, ($0, $1) &#x3D;&gt; &#123;  if (num &lt; $0.length) &#123;    num &#x3D; $0.length;    char &#x3D; $1;  &#125;&#125;);</code></pre><h3 id="å­—ç¬¦ä¸²æŸ¥æ‰¾"><a href="#å­—ç¬¦ä¸²æŸ¥æ‰¾" class="headerlink" title="å­—ç¬¦ä¸²æŸ¥æ‰¾"></a>å­—ç¬¦ä¸²æŸ¥æ‰¾</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">a &#x3D; &quot;34&quot;;b &#x3D; &quot;1234567&quot;; &#x2F;&#x2F; è¿”å›2a &#x3D; &quot;35&quot;;b &#x3D; &quot;1234567&quot;; &#x2F;&#x2F; è¿”å› -1a &#x3D; &quot;355&quot;;b &#x3D; &quot;1234355&quot;; &#x2F;&#x2F; è¿”å›5function isContain(a, b) &#123;  for (let i in b) &#123;    if (a[0] &#x3D;&#x3D;&#x3D; b[i]) &#123;      let tmp &#x3D; true;      for (let j in a) &#123;        if (a[j] !&#x3D;&#x3D; b[~~i + ~~j]) &#123;          tmp &#x3D; false;        &#125;      &#125;      if (tmp) &#123;        return i;      &#125;    &#125;  &#125;  return -1;&#125;</code></pre><h3 id="å®ç°åƒåˆ†ä½åˆ†éš”ç¬¦"><a href="#å®ç°åƒåˆ†ä½åˆ†éš”ç¬¦" class="headerlink" title="å®ç°åƒåˆ†ä½åˆ†éš”ç¬¦"></a>å®ç°åƒåˆ†ä½åˆ†éš”ç¬¦</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">&#x2F;&#x2F; ä¿ç•™ä¸‰ä½å°æ•°paraseToMoney(1234.56); &#x2F;&#x2F; return &#39;1,234.56&#39;paraseToMoney(123456789); &#x2F;&#x2F; return 123,456,789paraseToMoney(1087654.321); &#x2F;&#x2F; return 1,087,654.321function paraseToMoney(params) &#123;  num &#x3D; parseFloat(num.toFixed(3));  let [integer, decimal] &#x3D; String.prototype.split.call(num, &quot;.&quot;);  integer &#x3D; integer.replace(&#x2F;\d(?&#x3D;(\d&#123;3&#125;))+$&#x2F;, &quot;$&amp;,&quot;);  return integer + &quot;.&quot; + (decimal ?? &quot;&quot;);&#125;</code></pre><h3 id="åˆ¤æ–­æ˜¯å¦æ˜¯ç”µè¯å·ç "><a href="#åˆ¤æ–­æ˜¯å¦æ˜¯ç”µè¯å·ç " class="headerlink" title="åˆ¤æ–­æ˜¯å¦æ˜¯ç”µè¯å·ç "></a>åˆ¤æ–­æ˜¯å¦æ˜¯ç”µè¯å·ç </h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">function isPhone(str) &#123;  let regx &#x3D; &#x2F;^1[34578]\d&#123;9&#125;$&#x2F;;  return regx.test(str);&#125;</code></pre><h3 id="åˆ¤æ–­æ˜¯å¦æ˜¯é‚®ç®±"><a href="#åˆ¤æ–­æ˜¯å¦æ˜¯é‚®ç®±" class="headerlink" title="åˆ¤æ–­æ˜¯å¦æ˜¯é‚®ç®±"></a>åˆ¤æ–­æ˜¯å¦æ˜¯é‚®ç®±</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">function isEmail(mail) &#123;  var regx &#x3D; &#x2F;^(a-zA-Z0-9_\-)+@(a-zA-Z0-9_\-)+(\.[a-zA-Z0-9_\-])+$&#x2F;;  return regx.test(email);&#125;</code></pre><h3 id="æ ¡éªŒèº«ä»½è¯"><a href="#æ ¡éªŒèº«ä»½è¯" class="headerlink" title="æ ¡éªŒèº«ä»½è¯"></a>æ ¡éªŒèº«ä»½è¯</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">function isCard(number) &#123;  var regx &#x3D; &#x2F;(^\d&#123;15&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)&#x2F;;  return regx.test(number);&#125;</code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¶æ„è®¾è®¡å¼•å‘çš„è¡€æ¡ˆ</title>
      <link href="//post/2022-04-29nextjs.html"/>
      <url>//post/2022-04-29nextjs.html</url>
      
        <content type="html"><![CDATA[<h2 id="è®°å½•ä¸ªbug-å¹¶åœ¨æ­¤æ–‡ä¸­è§„é¿"><a href="#è®°å½•ä¸ªbug-å¹¶åœ¨æ­¤æ–‡ä¸­è§„é¿" class="headerlink" title="è®°å½•ä¸ªbug,å¹¶åœ¨æ­¤æ–‡ä¸­è§„é¿"></a>è®°å½•ä¸ªbug,å¹¶åœ¨æ­¤æ–‡ä¸­è§„é¿</h2><p>æ­¤å¤„è®°ä¸‹ hexo-theme-aurora æºç bugï¼Œæ²¡ç©ºæ—¶å€™å¸®ä»–æ”¹</p><pre class="line-numbers language-none"><code class="language-none">.article .article-content p &#123;    font-size: .875rem;    line-height: 1.25rem;    margin-bottom: 0.5rem;    padding-bottom: 1rem;    word-break: break-all;&#125;</code></pre><h2 id="bugå¤ç°"><a href="#bugå¤ç°" class="headerlink" title="bugå¤ç°"></a>bugå¤ç°</h2><p><img src="http://t-blog-images.aijs.top/img/20220429103417.png"><br><img src="http://t-blog-images.aijs.top/img/20220429103946.png"></p><pre class="line-numbers language-js" data-language="js"><code class="language-js">(node:29) UnhandledPromiseRejectionWarning: Error: Forbidden    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)    at async Object.getDataReport (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:11494:19)    at async Promise.all (index 3)    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)(Use &#96;node --trace-warnings ...&#96; to show where the warning was created)(node:29) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag &#96;--unhandled-rejections&#x3D;strict&#96; (see https:&#x2F;&#x2F;nodejs.org&#x2F;api&#x2F;cli.html#cli_unhandled_rejections_mode). (rejection id: 19)(node:29) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.(node:29) UnhandledPromiseRejectionWarning: Error: Forbidden    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)    at async Object.getDataReport (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:11494:19)    at async Promise.all (index 3)    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)(node:29) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag &#96;--unhandled-rejections&#x3D;strict&#96; (see https:&#x2F;&#x2F;nodejs.org&#x2F;api&#x2F;cli.html#cli_unhandled_rejections_mode). (rejection id: 44)Error: invalid json response body at https:&#x2F;&#x2F;login-daily.æ•æ„Ÿæ•°æ®-inc.cn:7799&#x2F;error&#x2F;illegal&#x2F;location reason: Unexpected token &lt; in JSON at position 0    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)    at async Object.refreshPendingPerformanceNum (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:11487:25)    at async Promise.all (index 2)    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)Error: invalid json response body at https:&#x2F;&#x2F;login-daily.æ•æ„Ÿæ•°æ®-inc.cn:7799&#x2F;error&#x2F;illegal&#x2F;location reason: Unexpected token &lt; in JSON at position 0    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)    at async Promise.all (index 0)    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)Error: Forbidden    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)    at async Object.getDataReport (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:11494:19)    at async Promise.all (index 3)    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)Error: Forbidden    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)    at async Promise.all (index 0)    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)Error: invalid json response body at https:&#x2F;&#x2F;login-daily.æ•æ„Ÿæ•°æ®-inc.cn:7799&#x2F;error&#x2F;illegal&#x2F;location reason: Unexpected token &lt; in JSON at position 0    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)    at async Promise.all (index 0)    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)Error: invalid json response body at https:&#x2F;&#x2F;login-daily.æ•æ„Ÿæ•°æ®-inc.cn:7799&#x2F;error&#x2F;illegal&#x2F;location reason: Unexpected token &lt; in JSON at position 0    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)    at async Object.refreshPendingPerformanceNum (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:11487:25)    at async Promise.all (index 2)    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)</code></pre><h2 id="æºä»£ç "><a href="#æºä»£ç " class="headerlink" title="æºä»£ç "></a>æºä»£ç </h2><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">const [resp] &#x3D; await Promise.all([  getLoginInfo(ctx),  CommonModel.effects.refreshPendingObjectiveNum(req, ctx),  CommonModel.effects.refreshPendingPerformanceNum(req, ctx),  CommonModel.effects.getDataReport(req, ctx),])if (resp.success) &#123;  UserModal.actions.setUser(resp.result, req)&#125;</code></pre><h2 id="å¢åŠ å¼‚å¸¸æ•è·"><a href="#å¢åŠ å¼‚å¸¸æ•è·" class="headerlink" title="å¢åŠ å¼‚å¸¸æ•è·"></a>å¢åŠ å¼‚å¸¸æ•è·</h2><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">const [resp] &#x3D; await Promise.all([  getLoginInfo(ctx),  CommonModel.effects.refreshPendingObjectiveNum(req, ctx),  CommonModel.effects.refreshPendingPerformanceNum(req, ctx),  CommonModel.effects.getDataReport(req, ctx),]).catch(e&#x3D;&gt;&#123;  console.log(&quot;å‘ç”Ÿé”™è¯¯&quot;)  console.log(e)&#125;)</code></pre><h2 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a>æ—¥å¿—</h2><p>æ—¥å¿—ä»… <code>Forbidden</code> æœ‰æ•ˆä¿¡æ¯ï¼Œå¤§æ¦‚æ˜¯æ¥å£</p><pre class="line-numbers language-tsx" data-language="tsx"><code class="language-tsx">å‘ç”Ÿé”™è¯¯Error: Forbidden    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-7be1c2d9b56a41e863e3.js:13144:29    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)    at async Promise.all (index 0)    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-7be1c2d9b56a41e863e3.js:12208:22)</code></pre><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><ol><li>å› ä¸ºacl ä¼ä¸šæƒé™æ•´äº†180å¤©ï¼ˆé¡¶é…ï¼‰ï¼Œæ—¶ä¸æ—¶å°±å‡ºç°ç³»ç»Ÿç˜«ç—ªçš„æƒ…å†µï¼Œ<code>æ—¥å¸¸</code>ã€<code>çº¿ä¸Š</code>éƒ½æœ‰æ­¤é—®é¢˜è¿™æ¶æ„è®¾è®¡çš„ï¼Œä¼°è®¡æ²¡è°äº†ã€‚å®Œå…¨å¯ä»¥æ”¹æˆç¦»èŒåï¼Œç³»ç»Ÿè‡ªåŠ¨å°†ç”¨æˆ·ç¦æƒå³å¯</li><li>é™¤æ­¤ä¹‹å¤–ï¼Œssoä¹Ÿæœ‰ä¸ªé€šç—…ï¼Œä¸‰ä¸ªæœˆæ²¡æ”¹è¿‡å¯†ç ï¼Œç”¨æˆ·è´¦æˆ·æ— æ³•ç™»å½•ï¼Œéœ€è¦é‡æ–°å¯†ç æ–¹å¯ç™»å½•</li></ol>]]></content>
      
      
      <categories>
          
          <category> bug </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¼ä¸šå¾®ä¿¡ï¼š å›¾ç‰‡é™„ä»¶æ— æ³•é¢„è§ˆçš„é—®é¢˜</title>
      <link href="//post/2022-04-19wework-preview.html"/>
      <url>//post/2022-04-19wework-preview.html</url>
      
        <content type="html"><![CDATA[<p><img src="http://t-blog-images.aijs.top/img/11460713-13685d46ead24558.png"></p><ul><li>èƒŒæ™¯ï¼šå®‰å“é¢„è§ˆæ­£å¸¸ï¼Œéƒ¨åˆ†iOSé¢„è§ˆæœ‰é—®é¢˜ï¼ˆå¤§éƒ¨åˆ†æ‰‹æœºéƒ½æ˜¯æ­£å¸¸çš„ï¼‰<pre class="line-numbers language-none"><code class="language-none">downloadAttachment(downloadUrl).then(res &#x3D;&gt; &#123;      if (getWechatUserAgent(navigator.userAgent)) &#123; &#x2F;&#x2F; åˆ¤æ–­æ˜¯ä¼ä¸šå¾®ä¿¡        const blob &#x3D; new Blob([res]);        wx.previewFile(&#123;          url: location.origin + downloadUrl, &#x2F;&#x2F; éœ€è¦é¢„è§ˆæ–‡ä»¶çš„åœ°å€(å¿…å¡«ï¼Œå¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„)          name: attachment.name, &#x2F;&#x2F; éœ€è¦é¢„è§ˆæ–‡ä»¶çš„æ–‡ä»¶åï¼Œå¿…é¡»æœ‰å¸¦æ–‡ä»¶æ ¼å¼çš„åç¼€ï¼Œä¾‹å¦‚.doc(ä¸å¡«çš„è¯å–urlçš„æœ€åéƒ¨åˆ†ï¼Œæœ€åéƒ¨åˆ†æ˜¯ä¸ªåŒ…å«æ ¼å¼åç¼€çš„æ–‡ä»¶å)          size: blob.size &#x2F;&#x2F; éœ€è¦é¢„è§ˆæ–‡ä»¶çš„å­—èŠ‚å¤§å°(å¿…å¡«ï¼Œè€Œä¸”å¤§å°å¿…é¡»æ­£ç¡®ï¼Œå¦åˆ™ä¼šæ‰“å¼€å¤±è´¥)        &#125;);        Toast.loading(i18n.loading, false)        return      &#125;      var reader &#x3D; new FileReader();      reader.readAsDataURL(res);   &#x2F;&#x2F; è½¬æ¢ä¸ºbase64ï¼Œå¯ä»¥ç›´æ¥æ”¾å…¥aæ ‡ç­¾href      reader.onload &#x3D; function (e) &#123;        const anchorEle &#x3D; document.createElement(&#39;a&#39;)        document.body.appendChild(anchorEle)        anchorEle.href &#x3D; e?.target?.result as any        anchorEle.download &#x3D; attachment.name        anchorEle.click()        document.body.removeChild(anchorEle)      &#125;      Toast.loading(i18n.loading, false)    &#125;).catch(() &#x3D;&gt; &#123;      Toast.loading(i18n.loading, false)    &#125;)</code></pre><code>è‡ªç ”ç§»åŠ¨ç«¯</code>ã€<code>webç«¯</code>ã€<code>ä¼ä¸šå¾®ä¿¡æ¡Œé¢ç«¯</code>éƒ½æ²¡é—®é¢˜ï¼Œå½“ç„¶å–½ï¼Œæ¯ä¸€ä¸ªç«¯å±•ç¤ºæ•ˆæœæ˜¯ä¸ä¸€æ ·çš„ï¼Œä»£ç ä¹Ÿä¸ä¸€æ ·ã€‚æ’æŸ¥äº†è€—è´¹ä¸€å®šæ—¶é—´ã€‚</li></ul><ol><li>æ’æŸ¥ ä¼ä¸šå¾®ä¿¡ç‰ˆæœ¬ï¼Œ æ¯”å¯¹åå‘ç°ï¼Œå’Œæ­£å¸¸ä½¿ç”¨çš„å¾®ä¿¡ç‰ˆæœ¬ä¸€è‡´</li><li>æ’æŸ¥æ‰‹æœºç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œå®¢æˆ·iphone12å’Œ ç³»ç»Ÿç‰ˆæœ¬15.1ï¼Œæˆ‘ä»¬å¼€å‘äººå‘˜æ˜¯14.+ï¼Œæ‰€ä»¥æˆ‘æŠŠæˆ‘çš„æ‰‹æœºå‡çº§åˆ°æœ€æ–°ï¼Œæˆ‘çš„æ‰‹æœºå‡çº§åæ˜¯æ­£å¸¸çš„ï¼Œé‚£ä¹ˆå¯èƒ½æ˜¯æ•°æ®é—®é¢˜ï¼Œæ•°æ®</li><li>æ’æŸ¥æ•°æ®ï¼Œè¿™æ˜¯è€ç³»ç»Ÿçš„æ•°æ®ï¼Œå’Œæ–°ç³»ç»Ÿæ•°æ®èµ°ä¸åŒçš„ä¸šåŠ¡ä»£ç ï¼Œç»æ’æŸ¥ä¹Ÿæ²¡é—®é¢˜</li><li>æ’æŸ¥<code>size</code>å¦‚æœä¸å‡†ç¡®ä¹Ÿä¼šå‡ºç°ä¸Šè¿°é—®é¢˜ï¼Œç”±äºé¢„å‘ç¯å¢ƒè·å–ç¥¨æ®çš„ä¿¡æ¯ä¸çº¿ä¸Šæ˜¯ä¸ä¸€è‡´çš„ï¼Œæ‰€ä»¥æ— æ³•åœ¨é¢„å‘è¿›è¡Œæ’æŸ¥ï¼Œèƒ½åšçš„äº‹ä¿è¯ä»£ç æ‰§è¡Œåˆ°<code> const blob = new Blob([res]);</code>ï¼Œå¹¶ä¸”èƒ½å¤Ÿè·å–åˆ°æ­£ç¡®çš„sizeï¼Œæ‰€ä»¥è¿›è¡Œäº†alertè°ƒè¯•ï¼Œè¿™ä¸ªåœ¨æ‰‹æœºä¸Šæ¯”è¾ƒç›´è§‚ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥<code>vconsole</code>ã€æš‚ä¸è€ƒè™‘,å› ä¸ºä¹‹å‰å¼€å‘äººå‘˜æ²¡åŠ ï¼Œéƒ¨é—¨è¢«ç æ‰ï¼Œå¾ˆå¤šäººè¢«è£å‘˜äº†ï¼Œæ‰€æœ‰é¡¹ç›®éƒ½æˆ‘æ¥ç»´æŠ¤ï¼Œæ²¡æ—¶é—´ï¼Œä¸æ•´äº†ã€‘ï¼Œè°ƒè¯•ç»“æœæ˜¯size: 88214,å„ä¸ªæ‰‹æœºéƒ½ä¸€æ ·ï¼Œç”¨æˆ·æ‰‹æœºä¹Ÿæ˜¯88214ï¼Œæ•…æ’é™¤size</li><li>æœ€åå¯èƒ½é—®é¢˜åœ¨äºï¼Œç”¨æˆ·æ‰‹æœºä¸Šç‰ˆæœ¬ä¸æ‰‹æœºä¸åŒ¹é…ï¼Œæœ‰å…¼å®¹æ€§bugï¼Œå°è¯•å‡çº§ä¼ä¸šå¾®ä¿¡ï¼Œæœ€åè§£å†³</li></ol><br/><p>æ€»ç»“ï¼šå¦‚æœè€ƒè™‘ç›´æ¥å‡çº§ç”¨æˆ·appç‰ˆæœ¬ï¼Œæˆ–è®¸åœ¨ç¬¬ä¸‰æ­¥å°±è§£å†³é—®é¢˜äº†ï¼Œæˆ‘çš„iphoneXä¹Ÿä¸ç”¨å‡çº§åˆ°15.3äº†</p>]]></content>
      
      
      <categories>
          
          <category> WeWork </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WeWork </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm åŒ…å‘å¸ƒç›¸å…³</title>
      <link href="//post/2022-04-28npm.html"/>
      <url>//post/2022-04-28npm.html</url>
      
        <content type="html"><![CDATA[<h2 id="npm-åŒ…å‘å¸ƒ"><a href="#npm-åŒ…å‘å¸ƒ" class="headerlink" title="npm åŒ…å‘å¸ƒ"></a>npm åŒ…å‘å¸ƒ</h2><pre class="line-numbers language-none"><code class="language-none">npm notice &#x3D;&#x3D;&#x3D; Tarball Details &#x3D;&#x3D;&#x3D; npm notice name:          @tutu-fe&#x2F;wiki-ui                        npm notice version:       0.1.1-beta                              npm notice filename:      @tutu-fe&#x2F;wiki-ui-0.1.1-beta.tgz         npm notice package size:  85.7 kB                                 npm notice unpacked size: 449.9 kB                                npm notice shasum:        973f5eb8d74de04c34b8e9c94536f8924b1f9570npm notice integrity:     sha512-Uyo3zS0eaMOYE[...]60Ywmrmb&#x2F;brxQ&#x3D;&#x3D;npm notice total files:   205                                     npm notice npm ERR! code E403npm ERR! 403 403 Forbidden - PUT https:&#x2F;&#x2F;registry- - [maintainers_error] haotian.chen does not in maintainer listnpm ERR! 403 In most cases, you or one of your dependencies are requestingnpm ERR! 403 a package version that is forbidden by your security policy, ornpm ERR! 403 on a server you do not have access to.npm ERR! A complete log of this run can be found in:npm ERR!     &#x2F;Users&#x2F;haotian&#x2F;.npm&#x2F;_logs&#x2F;2022-04-28T09_58_10_365Z-debug.log</code></pre><h2 id="é…ç½®package-json"><a href="#é…ç½®package-json" class="headerlink" title="é…ç½®package.json"></a>é…ç½®package.json</h2><pre class="line-numbers language-json" data-language="json"><code class="language-json">&quot;maintainers&quot;: [  &quot;davishua&quot;,Ã¥  &quot;haotian.chen&quot;],</code></pre><h2 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h2><p><img src="http://t-blog-images.aijs.top/img/20220428180656.png"><br><img src="http://t-blog-images.aijs.top/img/20220428180602.png"></p>]]></content>
      
      
      <categories>
          
          <category> npm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> npm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nestjs ç»“åˆ knife4j</title>
      <link href="//post/2022-02-29node.html"/>
      <url>//post/2022-02-29node.html</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.npmjs.com/package/nest-knife4j">nest-knife4j</a><br><a href="https://github.com/xiaoymin/swagger-bootstrap-ui">knife4j github</a><br><a href="https://xiaoym.gitee.io/knife4j/documentation/">knife4j æ–‡æ¡£</a><br><code>knife4j</code>å¯ä»¥ç†è§£ä¸º<code>ä¸€å¥—swaggerçš®è‚¤</code>ï¼Œä¸ä½¿ç”¨knife4jé»˜è®¤æ˜¯<code>swagger 1</code>ç‰ˆæœ¬çš„æ ·å¼<br><img src="http://t-blog-images.aijs.top/img/11460713-6cda8a0126f7ee78.png"></p>]]></content>
      
      
      <categories>
          
          <category> Node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nestjsæ–‡ä»¶ä¸Šä¼ </title>
      <link href="//post/2022-02-28node.html"/>
      <url>//post/2022-02-28node.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h2><p><a href="https://www.jianshu.com/p/28f8dd9a732e">Nestjs ä¸Šä¼ æ–‡ä»¶</a><br><a href="https://www.cnblogs.com/ajanuw/p/9575278.html">Nestjs ä¸Šä¼ æ–‡ä»¶</a></p>]]></content>
      
      
      <categories>
          
          <category> Node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React æ‹–æ‹½å…¼å®¹</title>
      <link href="//post/2022-02-27react.html"/>
      <url>//post/2022-02-27react.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ‹–æ‹½åœ¨web-pc-ç«¯ã€iframeã€h5ç§»åŠ¨ç«¯"><a href="#æ‹–æ‹½åœ¨web-pc-ç«¯ã€iframeã€h5ç§»åŠ¨ç«¯" class="headerlink" title="æ‹–æ‹½åœ¨web pc ç«¯ã€iframeã€h5ç§»åŠ¨ç«¯"></a>æ‹–æ‹½åœ¨web pc ç«¯ã€iframeã€h5ç§»åŠ¨ç«¯</h2><h3 id="å­˜åœ¨å·®å¼‚"><a href="#å­˜åœ¨å·®å¼‚" class="headerlink" title="å­˜åœ¨å·®å¼‚"></a>å­˜åœ¨å·®å¼‚</h3><ul><li>web pc ç«¯æ”¯æŒï¼š<code>onMouseDown</code>ã€<code>onMouseUp</code>ã€<code>onMousemove</code>ã€<code>onDragStart</code>ã€<code>onDragEnd</code>ã€<code>nDragOver</code></li><li>iframe web pc ç«¯æ”¯æŒï¼š<code>onMouseDown</code>ã€<code>onMouseUp</code>ã€<code>onMousemove</code></li><li>h5ç§»åŠ¨ç«¯æ”¯æŒï¼š<code>onTouchStart</code>ã€<code>onTouchEnd</code>ã€<code>onTouchmove</code><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3></li></ul><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">export default function Draggable(props: Props) &#123;  const &#123; children, style, className, onDragFinish, onDraggingStart, onPositionGet, boundary &#x3D; &#123; x: MARGIN_TO_PAGE, y: MARGIN_TO_PAGE &#125; &#125; &#x3D; props  const [dragging, setDragging] &#x3D; useState(false)  const [attaching, setAttaching] &#x3D; useState(false)  const [top, setTop] &#x3D; useState(0)  const [left, setLeft] &#x3D; useState(0)  const ghostRef: MutableRefObject&lt;HTMLDivElement&gt; &#x3D; useRef()  const elRef: MutableRefObject&lt;HTMLDivElement&gt; &#x3D; useRef()  const onDragStart &#x3D; useCallback((e: DragEvent&lt;HTMLDivElement&gt; | TouchEvent&lt;HTMLDivElement&gt;) &#x3D;&gt; &#123;    let x    let y    if (isDrag(e)) &#123;      if (e.target !&#x3D;&#x3D; elRef.current) &#123;        return      &#125;      e.dataTransfer.setDragImage(emptyImg, 0, 0)      x &#x3D; e.clientX      y &#x3D; e.clientY    &#125; else &#123;      if (!e.target || !(e.target instanceof HTMLElement)) &#123;        return      &#125;      if (!parentHasClass(e.target, [rootStyles.feedbackRoot])) &#123;        return      &#125;      x &#x3D; e.touches[0].clientX      y &#x3D; e.touches[0].clientY    &#125;    e.stopPropagation()    const rect &#x3D; e.currentTarget.getBoundingClientRect()    const offsetX &#x3D; x - rect.x    const offsetY &#x3D; y - rect.y    setTop(rect.y)    setLeft(rect.x)    setDragging(true)    if (isDrag(e)) &#123;      dragoverHandle &#x3D; (event: DragEvent) &#x3D;&gt; &#123;        if (event.clientX || event.clientY) &#123;          setTop(event.clientY - offsetY)          setLeft(event.clientX - offsetX)        &#125;      &#125;      &#x2F;&#x2F; firefox ä¸­ï¼Œondrag æ‹¿ä¸åˆ°é¼ æ ‡çš„åæ ‡ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨ document çš„ dragover      document.addEventListener(&#39;dragover&#39;, dragoverHandle)    &#125; else &#123;      dragoverHandle &#x3D; (event: TouchEvent) &#x3D;&gt; &#123;        const touch &#x3D; event.touches[0]        if (touch.clientX || touch.clientY) &#123;          setTop(touch.clientY - offsetY)          setLeft(touch.clientX - offsetX)        &#125;      &#125;      document.addEventListener(&#39;touchmove&#39;, dragoverHandle)    &#125;    onDraggingStart()  &#125;, [])  const onDragEnd &#x3D; useCallback((event) &#x3D;&gt; &#123;    if (!ghostRef.current) &#123;      setDragging(false)      return    &#125;    const rect &#x3D; ghostRef.current.getBoundingClientRect()    const &#123; rel, abs &#125; &#x3D; calcAttachSide(rect, boundary)    setTop(abs.top)    setLeft(abs.left)    setAttaching(true)    if (isDrag(event)) &#123;      document.removeEventListener(&#39;dragover&#39;, dragoverHandle)    &#125; else &#123;      document.removeEventListener(&#39;touchmove&#39;, dragoverHandle)    &#125;    &#x2F;&#x2F; onPosition &amp;&amp; onPosition(rel) &#x2F;&#x2F; å…¶ä»–ä¸šåŠ¡    dragoverHandle &#x3D; null    setTimeout(() &#x3D;&gt; &#123;      onDragFinish(rel)      setAttaching(false)      setDragging(false)    &#125;, 300)  &#125;, [])  const onMousedown &#x3D; useCallback((e) &#x3D;&gt; &#123;    const x &#x3D; e.clientX    const y &#x3D; e.clientY    const rect &#x3D; e.currentTarget.getBoundingClientRect()    const offsetX &#x3D; x - rect.x    const offsetY &#x3D; y - rect.y    setTop(rect.y)    setLeft(rect.x)    setDragging(true)    if (e.preventDefault) &#123;      e.preventDefault()    &#125; else &#123;      e.returnValue &#x3D; false    &#125;    document.onmousemove &#x3D; function (ev: any) &#123;      const _event &#x3D; ev || window.event      const endx &#x3D; _event.clientX - offsetX      const endy &#x3D; _event.clientY - offsetY      setTop(endy)      setLeft(endx)    &#125;  &#125;, [])  const onMouseup &#x3D; useCallback((e) &#x3D;&gt; &#123;    if (!ghostRef.current) &#123;      setDragging(false)      return    &#125;    const rect &#x3D; ghostRef.current.getBoundingClientRect()    const &#123; rel, abs &#125; &#x3D; calcAttachSide(rect, boundary)    setTop(abs.top)    setLeft(abs.left)    setAttaching(true)    document.onmousemove &#x3D; null    onPositionGet &amp;&amp; onPositionGet(rel)    setTimeout(() &#x3D;&gt; &#123;      onDragFinish(rel)      setAttaching(false)      setDragging(false)    &#125;, 300)  &#125;, []) &#x2F;&#x2F; èƒ½åŠ›æ£€æµ‹  if (&#39;dragover&#39; in document.documentElement || &#39;ontouchstart&#39; in document.documentElement) &#123;    return (      &lt;div        style&#x3D;&#123;style&#125;        className&#x3D;&#123;className&#125;        draggable        onTouchStart&#x3D;&#123;onDragStart&#125;        onTouchEnd&#x3D;&#123;onDragEnd&#125;        onDragStart&#x3D;&#123;onDragStart&#125;        onDragEnd&#x3D;&#123;onDragEnd&#125;        onDragOver&#x3D;&#123;prevent&#125;        ref&#x3D;&#123;elRef&#125;      &gt;        &lt;div          style&#x3D;&#123;dragging ? &#123; top, left &#125; : null&#125;          className&#x3D;&#123;cn(&#123;            [styles.dragging]: dragging,            [styles.attaching]: attaching,          &#125;)&#125;          ref&#x3D;&#123;ghostRef&#125;        &gt;          &#123;children&#125;        &lt;&#x2F;div&gt;      &lt;&#x2F;div&gt;    )  &#125;  return (    &lt;div      style&#x3D;&#123;style&#125;      className&#x3D;&#123;className&#125;      draggable      onMouseDown&#x3D;&#123;onMousedown&#125;      onMouseUp&#x3D;&#123;onMouseup&#125;      ref&#x3D;&#123;elRef&#125;    &gt;      &lt;div        style&#x3D;&#123;dragging ? &#123; top, left &#125; : null&#125;        className&#x3D;&#123;cn(&#123;          [styles.dragging]: dragging,          [styles.attaching]: attaching,        &#125;)&#125;        ref&#x3D;&#123;ghostRef&#125;      &gt;        &#123;children&#125;      &lt;&#x2F;div&gt;    &lt;&#x2F;div&gt;  )&#125;</code></pre>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React DOM</title>
      <link href="//post/2022-05-04react.html"/>
      <url>//post/2022-05-04react.html</url>
      
        <content type="html"><![CDATA[<h2 id="17-0-0-October-20-2020"><a href="#17-0-0-October-20-2020" class="headerlink" title="17.0.0 (October 20, 2020)"></a>17.0.0 (October 20, 2020)</h2><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>Delegate events to roots instead of document<br>æ¥çœ‹ä¸‹<a href="https://www.bigbinary.com/blog/react-17-delegates-events-to-root-instead-of-document">åŸå› </a></p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>Reactè‡ªé¦–æ¬¡å‘å¸ƒä»¥æ¥ä¸€ç›´åœ¨è‡ªåŠ¨æ‰§è¡Œäº‹ä»¶å§”æ´¾ã€‚å®ƒç›´æ¥åœ¨æ–‡æ¡£èŠ‚ç‚¹ä¸Šä¸ºæ¯ä¸ªäº‹ä»¶ç±»å‹é™„åŠ ä¸€ä¸ªå¤„ç†ç¨‹åºã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>è™½ç„¶å®ƒæé«˜äº†åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œä½†ç”±äºæ–‡æ¡£èŠ‚ç‚¹ä¸Šçš„äº‹ä»¶å§”æ´¾ï¼Œå·²ç»æŠ¥å‘Šäº†è®¸å¤šé—®é¢˜ã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>ä¸ºäº†æ¼”ç¤ºå…¶ä¸­ä¸€ä¸ªé—®é¢˜ï¼Œè®©æˆ‘ä»¬ä»¥selectä¸‹æ‹‰åˆ—è¡¨ä¸ºä¾‹ã€‚<br>ä¸‹é¢ç¤ºä¾‹ä¸­çš„CountryDropDownæ˜¯ç”¨äºå›½å®¶é€‰æ‹©çš„Reactç»„ä»¶ï¼Œå®ƒå°†è¢«å‘ˆç°ç»™idä¸ºReact rootçš„divã€‚react DOMå®¹å™¨å°è£…åœ¨idä¸ºmainçš„divä¸­ï¼Œè¯¥divæœ‰ä¸€ä¸ªåŒ…å«stopPropagationï¼ˆï¼‰çš„æ›´æ”¹äº‹ä»¶ã€‚</p></blockquote><pre class="line-numbers language-html" data-language="html"><code class="language-html">&lt;!--Div&#39;s change event contains stopPropagation()--&gt;&lt;div id&#x3D;&quot;main&quot;&gt;  &lt;!--Div where react component will be rendered --&gt;  &lt;div id&#x3D;&quot;react-root&quot;&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;</code></pre><pre class="line-numbers language-jsx" data-language="jsx"><code class="language-jsx">class CountryDropDown extends React.Component &#123;  state &#x3D; &#123;    country: &#39;&#39;,  &#125;  const handleChange &#x3D; e &#x3D;&gt; &#123;    this.setState(&#123; country: e.target.value &#125;);  &#125;  render() &#123;    return (      &lt;table class&#x3D;&quot;table table-striped table-condensed&quot;&gt;        &lt;thead&gt;          &lt;tr&gt;            &lt;th&gt;Country&lt;&#x2F;th&gt;            &lt;th&gt;Selected country&lt;&#x2F;th&gt;          &lt;&#x2F;tr&gt;        &lt;&#x2F;thead&gt;        &lt;tbody&gt;          &lt;tr&gt;            &lt;td&gt;              &lt;select value&#x3D;&#123;this.state.country&#125;                onChange&#x3D;&#123;this.handleChange&#125;              &gt;                &lt;option value&#x3D;&quot;&quot;&gt;--Select--&lt;&#x2F;option&gt;                &lt;option value&#x3D;&quot;India&quot;&gt;India&lt;&#x2F;option&gt;                &lt;option value&#x3D;&quot;US&quot;&gt;US&lt;&#x2F;option&gt;                &lt;option value&#x3D;&quot;Dubai&quot;&gt;Dubai&lt;&#x2F;option&gt;              &lt;&#x2F;select&gt;            &lt;&#x2F;td&gt;            &lt;td&gt;              &#123;this.state.country&#125;            &lt;&#x2F;td&gt;          &lt;&#x2F;tr&gt;        &lt;&#x2F;tbody&gt;      &lt;&#x2F;table&gt;    );  &#125;&#125;ReactDOM.render(&lt;CountryDropDown &#x2F;&gt;, document.getElementById(&#39;react-root&#39;));</code></pre><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>å°†æ›´æ”¹äº‹ä»¶é™„åŠ åˆ°ä¸»div</p></blockquote><pre class="line-numbers language-none"><code class="language-none">document.getElementById(&quot;main&quot;).addEventListener(  &quot;change&quot;,  function (e) &#123;    e.stopPropagation();  &#125;,  false);</code></pre><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>å½“é€‰æ‹©ä¸€ä¸ªå›½å®¶æ—¶ï¼Œæˆ‘ä»¬æ— æ³•çœ‹åˆ°æ‰€é€‰çš„å›½å®¶</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>æ­¤æ„å¤–è¡Œä¸ºçš„åŸå› æ˜¯é™„åŠ åˆ°æ–‡æ¡£èŠ‚ç‚¹çš„onChange dropdownäº‹ä»¶ã€‚åŒ…å«e.stopPropagationï¼ˆï¼‰çš„ä¸»divçš„changeäº‹ä»¶é˜»æ­¢äº†ä¸‹æ‹‰èœå•çš„onChangeäº‹ä»¶ã€‚</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>ä¸ºäº†è§£å†³æ­¤ç±»é—®é¢˜ï¼ŒReact 17ä¸å†åœ¨æ–‡æ¡£çº§åˆ«é™„åŠ äº‹ä»¶å¤„ç†ç¨‹åºã€‚ç›¸åï¼Œå®ƒå°†å®ƒä»¬é™„åŠ åˆ°æ ¹DOMå®¹å™¨ä¸­ï¼ŒReactæ ‘å°†è¢«æ¸²æŸ“åˆ°è¯¥å®¹å™¨ä¸­ã€‚<br><img src="https://www.bigbinary.com/blog_images/react17/react_17_event_delegation.png"></p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>åœ¨React 17ä¸­è¿›è¡Œæ›´æ”¹åï¼Œäº‹ä»¶è¢«é™„åŠ åˆ°æ ¹DOMå®¹å™¨ï¼ŒReactæ ‘è¢«å‘ˆç°åˆ°è¯¥å®¹å™¨ä¸­ã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼ŒonChangeäº‹ä»¶çš„ä¸‹æ‹‰åˆ—è¡¨å°†é™„åŠ åˆ°idä¸ºreact rootçš„divã€‚å½“é€‰æ‹©ä»»ä½•å›½å®¶&#x2F;åœ°åŒºå‘ˆç°é¢„æœŸè¡Œä¸ºæ—¶ï¼Œå°†è§¦å‘æ­¤äº‹ä»¶ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> React </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Sentryé”™è¯¯æ—¥å¿—è·å–</title>
      <link href="//post/2021-06-20sentry.html"/>
      <url>//post/2021-06-20sentry.html</url>
      
        <content type="html"><![CDATA[<ul><li>å…ˆä¸Šå›¾</li></ul><p><img src="http://t-blog-images.aijs.top/img/11460713-94dac7337bf8ed4f.png"></p><p><img src="http://t-blog-images.aijs.top/img/11460713-2d4eb13808a7a16a.png"></p><p>This is a quick getting started guide. For in-depth instructions on integrating Sentry withÂ React, viewÂ <a href="https://docs.sentry.io/platforms/javascript/guides/react/">our complete documentation</a>.</p><p>To instrument your React application with Sentry, first install theÂ <code>@sentry/react</code>Â andÂ <code>@sentry/tracing</code>Â packages:</p><pre class="line-numbers language-none"><code class="language-none"># Using yarnyarn add @sentry&#x2F;react @sentry&#x2F;tracing# Using npmnpm install --save @sentry&#x2F;react @sentry&#x2F;tracing</code></pre><p>Next, import and initialize the Sentry module as early as possible, before initializing React:</p><pre class="line-numbers language-none"><code class="language-none">import React from &quot;react&quot;;import ReactDOM from &quot;react-dom&quot;;import * as Sentry from &quot;@sentry&#x2F;react&quot;;import &#123; Integrations &#125; from &quot;@sentry&#x2F;tracing&quot;;import App from &quot;.&#x2F;App&quot;;Sentry.init(&#123;  dsn: &quot;https:&#x2F;&#x2F;a5f1c39789b24bb7a434868b677e0c65@&#x2F;1063&quot;,  integrations: [new Integrations.BrowserTracing()],  &#x2F;&#x2F; Set tracesSampleRate to 1.0 to capture 100%  &#x2F;&#x2F; of transactions for performance monitoring.  &#x2F;&#x2F; We recommend adjusting this value in production  tracesSampleRate: 1.0,&#125;);ReactDOM.render(&lt;App &#x2F;&gt;, document.getElementById(&quot;root&quot;));&#x2F;&#x2F; Can also use with React Concurrent Mode&#x2F;&#x2F; ReactDOM.createRoot(document.getElementById(&#39;root&#39;)).render(&lt;App &#x2F;&gt;);</code></pre><p>The above configuration captures both error and performance data. To reduce the volume of performance data captured, changeÂ <code>tracesSampleRate</code>Â to a value between 0 and 1.</p><p>After this step, Sentry will report any uncaught exceptions triggered by your application.</p><p>You can trigger your first event from your development environment by raising an exception somewhere within your application. An example of this would be rendering a button whoseÂ <code>onClick</code>Â handler attempts to invoke a method that does not exist:</p><pre class="line-numbers language-none"><code class="language-none">return &lt;button onClick&#x3D;&#123;methodDoesNotExist&#125;&gt;Break the world&lt;&#x2F;button&gt;;</code></pre><p>Once youâ€™ve verified the library is initialized properly and sent a test event, consider visiting ourÂ <a href="https://docs.sentry.io/platforms/javascript/guides/react/">complete React docs</a>. There youâ€™ll find additional instructions for surfacing valuable context from React error boundaries, React Router, Redux, and more.</p>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS è‡ªåŠ¨ç”Ÿæˆ .d.ts</title>
      <link href="//post/2021-06-10scss2type.html"/>
      <url>//post/2021-06-10scss2type.html</url>
      
        <content type="html"><![CDATA[<h2 id="CSS-Module-Typed"><a href="#CSS-Module-Typed" class="headerlink" title="CSS Module Typed"></a>CSS Module Typed</h2><h2 id="address"><a href="#address" class="headerlink" title="address"></a>address</h2><p><a href="https://marketplace.visualstudio.com/items?itemName=awwit.typed-css-modules-plugin">link</a></p><h2 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h2><p>Install deps first:</p><h3 id="require"><a href="#require" class="headerlink" title="require"></a>require</h3><p><code>npm install typed-css-modules</code></p><h3 id="if-you-need-less"><a href="#if-you-need-less" class="headerlink" title="if you need less"></a>if you need less</h3><p><code>npm install less</code></p><h3 id="if-you-need-scss-x2F-sass"><a href="#if-you-need-scss-x2F-sass" class="headerlink" title="if you need scss&#x2F;sass"></a>if you need scss&#x2F;sass</h3><p><code>npm install sass</code></p><h3 id="if-you-need-stylus"><a href="#if-you-need-stylus" class="headerlink" title="if you need stylus"></a>if you need stylus</h3><p><code>npm install stylus</code></p><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>Modules can be installed globally. yarn is supported.</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>To switch the package manager (npm or yarn), you need to change the settings npm.packageManager of the built-in module vscode.npm.</p></blockquote><h3 id="Configuring"><a href="#Configuring" class="headerlink" title="Configuring"></a>Configuring</h3><p>By default, the option to automatically format .d.ts files using eslint is enabled. You can disable this feature through the setting â€œtyped-css-modules.eslint.enableâ€: false.</p><p>Usage<br>put</p><p><code>// @type</code></p><p>or</p><p><code>/* @type */</code></p><p>ahead of your .css&#x2F;.less&#x2F;.scss&#x2F;.sass&#x2F;.styl file, and save, you will get a d.ts file in same directory.</p><h3 id="preview"><a href="#preview" class="headerlink" title="preview"></a>preview</h3><p><img src="https://s2.ax1x.com/2019/01/31/k1yTT1.gif"></p><h3 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h3><pre class="line-numbers language-scss" data-language="scss"><code class="language-scss">&#x2F;* @type *&#x2F;.root &#123;  padding: 16px;  min-height: 100%;  .empty-wrapper &#123;    height: 380px;    display: flex;    flex-direction: column;    align-items: center;    justify-content: center;  &#125;  &gt; h3 &#123;    font-size: inherit;    margin-bottom: 4px;  &#125;  .toolbar-wrapper &#123;    position: relative;    .toolbar &#123;      position: absolute;      margin: 12px 0;      z-index: 1;      &amp;.static &#123;        position: static;      &#125;      &gt; *:not(:first-child) &#123;        margin-left: 8px;      &#125;    &#125;  &#125;  .buttons &#123;    button &#123;      margin-right: 8px;    &#125;  &#125;&#125;.use-select &#123;  width: 300px;&#125;</code></pre><pre class="line-numbers language-ts" data-language="ts"><code class="language-ts">declare const styles: &#123;  readonly root: string;  readonly &quot;empty-wrapper&quot;: string;  readonly &quot;toolbar-wrapper&quot;: string;  readonly toolbar: string;  readonly static: string;  readonly buttons: string;  readonly &quot;use-select&quot;: string;&#125;;export &#x3D; styles;</code></pre><h3 id="problem"><a href="#problem" class="headerlink" title="problem"></a>problem</h3><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>Creates .d.ts files from css-modules .css&#x2F;.less&#x2F;.scss&#x2F;.sass&#x2F;.styl files.</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>Error: vscode-typed-css-modules: Cannot find global module â€˜typed-css-modulesâ€™</p></blockquote><pre class="line-numbers language-none"><code class="language-none">npm install -g typed-css-modules</code></pre>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¢æ•ˆ </tag>
            
            <tag> å·¥å…· </tag>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="//post/hello-world.html"/>
      <url>//post/hello-world.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new &quot;My New Post&quot;</code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>vscode GitHub Copilot</title>
      <link href="//post/2022-05-08vscode.html"/>
      <url>//post/2022-05-08vscode.html</url>
      
        <content type="html"><![CDATA[<h2 id="Copilot"><a href="#Copilot" class="headerlink" title="Copilot"></a>Copilot</h2><a href="https://copilot.github.com/" target="_blank"><img src="https://copilot.github.com/head2x.png"  width= 100/></a><p>Your AI pair programmer</p><h3 id="å®˜ç½‘"><a href="#å®˜ç½‘" class="headerlink" title="å®˜ç½‘"></a><a href="https://copilot.github.com/">å®˜ç½‘</a></h3><p><img src="https://copilot.github.com/diagram.png"></p><h3 id="æ”¯æŒå¼€å‘å·¥å…·"><a href="#æ”¯æŒå¼€å‘å·¥å…·" class="headerlink" title="æ”¯æŒå¼€å‘å·¥å…·"></a>æ”¯æŒå¼€å‘å·¥å…·</h3><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>support Visual Studio Code, Neovim, and IntelliJ-based IDEs like JetBrains IntelliJ IDEA, Android Studio or PyCharm.</p></blockquote><h3 id="æ³¨å†Œ"><a href="#æ³¨å†Œ" class="headerlink" title="æ³¨å†Œ"></a>æ³¨å†Œ</h3><ul><li>éœ€è¦äººå‘˜å®¡æ‰¹é€šè¿‡ï¼Œç­‰[1-2 å·¥ä½œæ—¥]</li></ul><p><a href="https://github.com/features/copilot/signup">æ³¨å†Œ&#x2F;ç»“æœæŸ¥çœ‹</a><br><img src="http://t-blog-images.aijs.top/img/20220526184023.webp"></p><p><strong>æˆ‘ç­‰åˆ°äº†5æœˆ25å·æ‰é€šè¿‡</strong>ï¼Œå¥½åƒæœ‰ä¸¤å‘¨çš„æ ·å­ğŸ˜‚</p><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>Join the GitHub Copilot waitlist<br>Access is limited to a small group of testers during the technical preview of GitHub Copilot. Sign up today for your chance to try it out and help us improve.</p></blockquote><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>Youâ€™re already on the waitlist for GitHub Copilot! Weâ€™ll notify you when weâ€™ve enabled it on your account. Make sure your primary email address is up-to-date so we can notify you.</p></blockquote><h3 id="vscode-å®‰è£…æ’ä»¶-Copilot"><a href="#vscode-å®‰è£…æ’ä»¶-Copilot" class="headerlink" title="vscode å®‰è£…æ’ä»¶ Copilot"></a>vscode å®‰è£…æ’ä»¶ <code>Copilot</code></h3><p><img src="http://t-blog-images.aijs.top/img/20220508111956.webp"></p><h3 id="è¯»æºç çš„åˆ©å™¨"><a href="#è¯»æºç çš„åˆ©å™¨" class="headerlink" title="è¯»æºç çš„åˆ©å™¨"></a>è¯»æºç çš„åˆ©å™¨</h3><p><img src="http://t-blog-images.aijs.top/img/20220527093323.webp"></p>]]></content>
      
      
      <categories>
          
          <category> vscode </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¢æ•ˆ </tag>
            
            <tag> vscode </tag>
            
            <tag> AIç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git public key</title>
      <link href="//post/2016-06-20git.html"/>
      <url>//post/2016-06-20git.html</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-none"><code class="language-none">[root@izbp1hun1qsl59e2nzqyvcz ~]# git config --global user.name &quot;hailong.chen&quot;[root@izbp1hun1qsl59e2nzqyvcz ~]# git config --global user.email &quot;841660202@qq.com&quot;</code></pre><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>SSH<br>SSH keys<br>SSH key å¯ä»¥è®©ä½ åœ¨ä½ çš„ç”µè„‘å’ŒCodeæœåŠ¡å™¨ä¹‹é—´å»ºç«‹å®‰å…¨çš„åŠ å¯†è¿æ¥ã€‚ å…ˆæ‰§è¡Œä»¥ä¸‹è¯­å¥æ¥åˆ¤æ–­æ˜¯å¦å·²ç»å­˜åœ¨æœ¬åœ°å…¬é’¥ï¼š<br><code>cat ~/.ssh/id_rsa.pub</code><br>å¦‚æœä½ çœ‹åˆ°ä¸€é•¿ä¸²ä»¥Â ssh-rsaæˆ–Â ssh-dsaå¼€å¤´çš„å­—ç¬¦ä¸², ä½ å¯ä»¥è·³è¿‡Â ssh-keygençš„æ­¥éª¤ã€‚<br>æç¤º: æœ€å¥½çš„æƒ…å†µæ˜¯ä¸€ä¸ªå¯†ç å¯¹åº”ä¸€ä¸ªssh keyï¼Œä½†æ˜¯é‚£ä¸æ˜¯å¿…é¡»çš„ã€‚ä½ å®Œå…¨å¯ä»¥è·³è¿‡åˆ›å»ºå¯†ç è¿™ä¸ªæ­¥éª¤ã€‚è¯·è®°ä½è®¾ç½®çš„å¯†ç å¹¶ä¸èƒ½è¢«ä¿®æ”¹æˆ–è·å–ã€‚<br>ä½ å¯ä»¥æŒ‰å¦‚ä¸‹å‘½ä»¤æ¥ç”Ÿæˆssh key<br><code>ssh-keygen -t rsa -C &quot;841660202@qq.com&quot;</code><br>è¿™ä¸ªæŒ‡ä»¤ä¼šè¦æ±‚ä½ æä¾›ä¸€ä¸ªä½ç½®å’Œæ–‡ä»¶åå»å­˜æ”¾é”®å€¼å¯¹å’Œå¯†ç ï¼Œä½ å¯ä»¥ç‚¹å‡»Enteré”®å»ä½¿ç”¨é»˜è®¤å€¼ã€‚<br>ç”¨ä»¥ä¸‹å‘½ä»¤è·å–ä½ ç”Ÿæˆçš„å…¬é’¥ï¼š<br><code>cat ~/.ssh/id_rsa.pub</code><br>å¤åˆ¶è¿™ä¸ªå…¬é’¥æ”¾åˆ°ä½ çš„ä¸ªäººè®¾ç½®ä¸­çš„SSH&#x2F;My SSH Keysä¸‹ï¼Œè¯·å®Œæ•´æ‹·è´ä»ssh-å¼€å§‹ç›´åˆ°ä½ çš„ç”¨æˆ·åå’Œä¸»æœºåä¸ºæ­¢çš„å†…å®¹ã€‚<br>å¦‚æœæ‰“ç®—æ‹·è´ä½ çš„å…¬é’¥åˆ°ä½ çš„ç²˜è´´æ¿ä¸‹ï¼Œè¯·å‚è€ƒä½ çš„æ“ä½œç³»ç»Ÿä½¿ç”¨ä»¥ä¸‹çš„å‘½ä»¤ï¼š<br>Windows:<br><code>clip &lt; ~/.ssh/id_rsa.pub</code><br>Mac:<br><code>pbcopy &lt; ~/.ssh/id_rsa.pub</code><br>GNU&#x2F;Linux (requires xclip):<br><code>xclip -sel clip &lt; ~/.ssh/id_rsa.pub</code><br>Applications<br>Eclipse<br>å¦‚ä½•åœ¨Eclipseä¸­æ·»åŠ ssh key:Â <a href="https://wiki.eclipse.org/EGit/User_Guide#Eclipse_SSH_Configuration">https://wiki.eclipse.org/EGit/User_Guide#Eclipse_SSH_Configuration</a><br>Tip: Non-default OpenSSH key file names or locations<br>å¦‚æœï¼Œä¸ç®¡ä½ æœ‰ä»€ä¹ˆç†ç”±ï¼Œå½“ä½ å†³å®šå»ç”¨ä¸€ä¸ªéé»˜è®¤çš„ä½ç½®æˆ–æ–‡ä»¶åå»å­˜æ”¾ä½ çš„ssh keyã€‚ä½ å¿…é¡»é…ç½®å¥½ä½ çš„sshå®¢æˆ·ç«¯ä»¥æ‰¾åˆ°ä½ çš„sshç§é’¥å»è¿æ¥CodeæœåŠ¡å™¨ï¼Œå¯¹äºOpenSSHå®¢æˆ·ç«¯ï¼Œè¿™ä¸ªé€šå¸¸æ˜¯åœ¨~&#x2F;.ssh&#x2F;configç±»ä¼¼çš„ä½ç½®é…ç½®çš„ï¼š<br>Host my-git.company.com<br>RSAAuthentication yes<br>IdentityFile ~&#x2F;my-ssh-key-directory&#x2F;company-com-private-key-filename</p></blockquote><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">Last login: Sun Apr 17 16:06:15 on consoleN&#x2F;A: version &quot;N&#x2F;A -&gt; N&#x2F;A&quot; is not yet installed.You need to run &quot;nvm install N&#x2F;A&quot; to install it before using it.N&#x2F;A: version &quot;N&#x2F;A -&gt; N&#x2F;A&quot; is not yet installed.You need to run &quot;nvm install N&#x2F;A&quot; to install it before using it.The default interactive shell is now zsh.To update your account to use zsh, please run &#96;chsh -s &#x2F;bin&#x2F;zsh&#96;.For more details, please visit https:&#x2F;&#x2F;support.apple.com&#x2F;kb&#x2F;HT208050.chenhailong@chenhailongdeMacBook-Pro:~$ &#x2F;Users&#x2F;chenhailong&#x2F;Desktop -bash: &#x2F;Users&#x2F;chenhailong&#x2F;Desktop: is a directorychenhailong@chenhailongdeMacBook-Pro:~$ cd &#x2F;Users&#x2F;chenhailong&#x2F;Desktop chenhailong@chenhailongdeMacBook-Pro:~&#x2F;Desktop$ git clone git@github.com:841660202&#x2F;841660202.github.io.gitCloning into &#39;841660202.github.io&#39;...The authenticity of host &#39;github.com (20.205.243.166)&#39; can&#39;t be established.ED25519 key fingerprint is SHA256:+DiY3wvvV6TuJJhbpZisF&#x2F;zLDA0zPMSvHdkr4UvCOqU.This key is not known by any other namesAre you sure you want to continue connecting (yes&#x2F;no&#x2F;[fingerprint])? yesWarning: Permanently added &#39;github.com&#39; (ED25519) to the list of known hosts.git@github.com: Permission denied (publickey).fatal: Could not read from remote repository.Please make sure you have the correct access rightsand the repository exists.chenhailong@chenhailongdeMacBook-Pro:~&#x2F;Desktop$ git clone git@github.com:841660202&#x2F;841660202.github.io.gitCloning into &#39;841660202.github.io&#39;...git@github.com: Permission denied (publickey).fatal: Could not read from remote repository.Please make sure you have the correct access rightsand the repository exists.chenhailong@chenhailongdeMacBook-Pro:~&#x2F;Desktop$ pbcopy &lt; ~&#x2F;.ssh&#x2F;id_rsa.pub-bash: &#x2F;Users&#x2F;chenhailong&#x2F;.ssh&#x2F;id_rsa.pub: No such file or directorychenhailong@chenhailongdeMacBook-Pro:~&#x2F;Desktop$ cat ~&#x2F;.ssh&#x2F;id_rsa.pubcat: &#x2F;Users&#x2F;chenhailong&#x2F;.ssh&#x2F;id_rsa.pub: No such file or directorychenhailong@chenhailongdeMacBook-Pro:~&#x2F;Desktop$ git config --global user.name &quot;hailong.chen&quot;chenhailong@chenhailongdeMacBook-Pro:~&#x2F;Desktop$ chenhailong@chenhailongdeMacBook-Pro:~&#x2F;Desktop$ git config --global user.email &quot;841660202@qq.com&quot;chenhailong@chenhailongdeMacBook-Pro:~&#x2F;Desktop$ cat ~&#x2F;.ssh&#x2F;id_rsa.pubcat: &#x2F;Users&#x2F;chenhailong&#x2F;.ssh&#x2F;id_rsa.pub: No such file or directorychenhailong@chenhailongdeMacBook-Pro:~&#x2F;Desktop$ ssh-keygen -t rsa -C &quot;841660202@qq.com&quot;Generating public&#x2F;private rsa key pair.Enter file in which to save the key (&#x2F;Users&#x2F;chenhailong&#x2F;.ssh&#x2F;id_rsa): Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in &#x2F;Users&#x2F;chenhailong&#x2F;.ssh&#x2F;id_rsaYour public key has been saved in &#x2F;Users&#x2F;chenhailong&#x2F;.ssh&#x2F;id_rsa.pubThe key fingerprint is:SHA256:bdtIDeRXGKxGTEa&#x2F;Ex3QdPtVoOUiwuiq7YKjKrLakbU 841660202@qq.comThe key&#39;s randomart image is:+---[RSA 3072]----+|         +&#x3D;.o**.o||       o +o.o*.oo||      . o.+.* o..||     .   oo&#x3D; +  o||    . . S.+ +   .||   o o   o + .   || .o E     o .    ||&#x3D;..+             ||@oooo            |+----[SHA256]-----+chenhailong@chenhailongdeMacBook-Pro:~&#x2F;Desktop$ pbcopy &lt; ~&#x2F;.ssh&#x2F;id_rsa.pubchenhailong@chenhailongdeMacBook-Pro:~&#x2F;Desktop$ git clone git@github.com:841660202&#x2F;841660202.github.io.gitCloning into &#39;841660202.github.io&#39;...remote: Enumerating objects: 441, done.remote: Counting objects: 100% (441&#x2F;441), done.remote: Compressing objects: 100% (216&#x2F;216), done.remote: Total 441 (delta 208), reused 401 (delta 168), pack-reused 0Receiving objects: 100% (441&#x2F;441), 1.34 MiB | 1.05 MiB&#x2F;s, done.Resolving deltas: 100% (208&#x2F;208), done.chenhailong@chenhailongdeMacBook-Pro:~&#x2F;Desktop$ </code></pre><h2 id="è®¾ç½®github-SSH-keys"><a href="#è®¾ç½®github-SSH-keys" class="headerlink" title="è®¾ç½®github SSH keys"></a>è®¾ç½®github SSH keys</h2><p><a href="https://github.com/settings/keys">https://github.com/settings/keys</a></p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‰¹é‡åˆ é™¤ç›®å½•</title>
      <link href="//post/2019-10-30shell.html"/>
      <url>//post/2019-10-30shell.html</url>
      
        <content type="html"><![CDATA[<h2 id="åˆ é™¤æŸä¸ªç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•çš„node-modules"><a href="#åˆ é™¤æŸä¸ªç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•çš„node-modules" class="headerlink" title="åˆ é™¤æŸä¸ªç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•çš„node_modules"></a>åˆ é™¤æŸä¸ªç›®å½•ä¸‹æ‰€æœ‰å­ç›®å½•çš„node_modules</h2><pre class="line-numbers language-none"><code class="language-none"># æŸ¥æ‰¾ &#x2F;tmp&#x2F;test&#x2F; å­ç›®å½•ä¸‹æ‰€æœ‰ modu æ‰§è¡Œåˆ é™¤find &#x2F;tmp&#x2F;test&#x2F; -type d -name modu |xargs rm -rf</code></pre><pre class="line-numbers language-none"><code class="language-none"># æŸ¥æ‰¾ &#x2F;tmp&#x2F;test&#x2F; å­ç›®å½•ä¸‹æ‰€æœ‰ node_modules æ‰§è¡Œåˆ é™¤find &#x2F;tmp&#x2F;test&#x2F; -type d -name node_modules |xargs rm -rf</code></pre>]]></content>
      
      
      <categories>
          
          <category> Shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shell </tag>
            
            <tag> å¢æ•ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MAC Iterm2ç¾åŒ–ç»ˆç«¯</title>
      <link href="//post/2017-07-09item2.html"/>
      <url>//post/2017-07-09item2.html</url>
      
        <content type="html"><![CDATA[<h2 id="MAC-ç¯å¢ƒ"><a href="#MAC-ç¯å¢ƒ" class="headerlink" title="MAC ç¯å¢ƒ"></a>MAC ç¯å¢ƒ</h2><p><strong>æ³¨æ„ï¼šä»¥ä¸‹å†…å®¹ä»…é™MAC,å…¶ä»–ç¯å¢ƒï¼Œè¯·è‡ªè¡Œè°·æ­Œ</strong></p><h2 id="oh-my-zsh-æ’ä»¶æ¨è"><a href="#oh-my-zsh-æ’ä»¶æ¨è" class="headerlink" title="oh-my-zsh æ’ä»¶æ¨è :"></a>oh-my-zsh æ’ä»¶æ¨è :</h2><ul><li>autojump è¿™ä¸ªæ²¡ç”¨èµ·æ¥ï¼Œä½¿ç”¨æ²¡ä»€ä¹ˆæ•ˆæœğŸ¥¹</li><li>zsh-autosuggestion å‘½ä»¤è¡Œè¾“å…¥æœ‰æç¤ºï¼Œï¼ˆå‘½ä»¤ä¸‹è½½å¤±è´¥ï¼Œæ‰‹åŠ¨ä¸‹è½½ï¼Œæ‹·è´åˆ° <code>~/.oh-my-zsh/custom/plugins/zsh-autosuggestions</code>ï¼‰</li><li>zsh-syntax-highlighting</li></ul><h2 id="å®‰è£…zsh"><a href="#å®‰è£…zsh" class="headerlink" title="å®‰è£…zsh"></a>å®‰è£…zsh</h2><p><strong>1.ä½¿ç”¨ brew å®‰è£…</strong></p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">brew install oh-my-zsh</code></pre><p><strong>2. æ‰‹åŠ¨å®‰è£…</strong></p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">git clone git:&#x2F;&#x2F;github.com&#x2F;robbyrussell&#x2F;oh-my-zsh.git ~&#x2F;.oh-my-zshcp ~&#x2F;.oh-my-zsh&#x2F;templates&#x2F;zshrc.zsh-template ~&#x2F;.zshrc</code></pre><h2 id="å®‰è£…-autojump"><a href="#å®‰è£…-autojump" class="headerlink" title="å®‰è£… autojump"></a>å®‰è£… autojump</h2><p><strong>1.å®‰è£…</strong></p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">brew install autojump</code></pre><p><strong>2.é…ç½®</strong><br><code>code ~/.zshrc</code>ï¼ŒæŠŠä»¥ä¸‹ä»£ç åŠ åˆ°å°¾éƒ¨</p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># ä½¿ç”¨brewå®‰è£…çš„[[ -s $(brew --prefix)&#x2F;etc&#x2F;profile.d&#x2F;autojump.sh ]] &amp;&amp; . $(brew --prefix)&#x2F;etc&#x2F;profile.d&#x2F;autojump.shsource $ZSH&#x2F;oh-my-zsh.sh# ä½¿ç”¨gitå®‰è£…çš„[[ -s ~&#x2F;.autojump&#x2F;etc&#x2F;profile.d&#x2F;autojump.sh ]] &amp;&amp; . ~&#x2F;.autojump&#x2F;etc&#x2F;profile.d&#x2F;autojump.sh</code></pre><p><strong>3.åˆ·æ–°é…ç½®</strong></p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">source ~&#x2F;.zshrc</code></pre><h2 id="å®‰è£…-zsh-autosuggestion"><a href="#å®‰è£…-zsh-autosuggestion" class="headerlink" title="å®‰è£… zsh-autosuggestion"></a>å®‰è£… zsh-autosuggestion</h2><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">git clone git:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-autosuggestions $ZSH_CUSTOM&#x2F;plugins&#x2F;zsh-autosuggestions</code></pre><h2 id="å®‰è£…-zsh-syntax-highlighting"><a href="#å®‰è£…-zsh-syntax-highlighting" class="headerlink" title="å®‰è£… zsh-syntax-highlighting"></a>å®‰è£… zsh-syntax-highlighting</h2><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">git clone https:&#x2F;&#x2F;github.com&#x2F;zsh-users&#x2F;zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~&#x2F;.oh-my-zsh&#x2F;custom&#125;&#x2F;plugins&#x2F;zsh-syntax-highlighting</code></pre><h2 id="åˆ·æ–°é…ç½®"><a href="#åˆ·æ–°é…ç½®" class="headerlink" title="åˆ·æ–°é…ç½®"></a>åˆ·æ–°é…ç½®</h2><p>æœ€åç”¨ <code>source ~/.zshrc</code> å‘½ä»¤æ›´æ–°é…ç½®æ–‡ä»¶</p><h2 id="zshrc-é…ç½®å¦‚ä¸‹ï¼š"><a href="#zshrc-é…ç½®å¦‚ä¸‹ï¼š" class="headerlink" title=".zshrc é…ç½®å¦‚ä¸‹ï¼š"></a>.zshrc é…ç½®å¦‚ä¸‹ï¼š</h2><ul><li>è‡ªå·±ç”µè„‘é…ç½®ï¼Œä¸‹é¢æˆªå›¾æ˜¯åŠå…¬ç”µè„‘æˆªå›¾<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"># If you come from bash you might have to change your $PATH.# export PATH&#x3D;$HOME&#x2F;bin:&#x2F;usr&#x2F;local&#x2F;bin:$PATH# Path to your oh-my-zsh installation.export ZSH&#x3D;&quot;$HOME&#x2F;.oh-my-zsh&quot;# Set name of the theme to load --- if set to &quot;random&quot;, it will# load a random theme each time oh-my-zsh is loaded, in which case,# to know which specific one was loaded, run: echo $RANDOM_THEME# See https:&#x2F;&#x2F;github.com&#x2F;ohmyzsh&#x2F;ohmyzsh&#x2F;wiki&#x2F;ThemesZSH_THEME&#x3D;&quot;robbyrussell&quot;# Set list of themes to pick from when loading at random# Setting this variable when ZSH_THEME&#x3D;random will cause zsh to load# a theme from this variable instead of looking in $ZSH&#x2F;themes&#x2F;# If set to an empty array, this variable will have no effect.# ZSH_THEME_RANDOM_CANDIDATES&#x3D;( &quot;robbyrussell&quot; &quot;agnoster&quot; )# Uncomment the following line to use case-sensitive completion.# CASE_SENSITIVE&#x3D;&quot;true&quot;# Uncomment the following line to use hyphen-insensitive completion.# Case-sensitive completion must be off. _ and - will be interchangeable.# HYPHEN_INSENSITIVE&#x3D;&quot;true&quot;# Uncomment one of the following lines to change the auto-update behavior# zstyle &#39;:omz:update&#39; mode disabled  # disable automatic updates# zstyle &#39;:omz:update&#39; mode auto      # update automatically without asking# zstyle &#39;:omz:update&#39; mode reminder  # just remind me to update when it&#39;s time# Uncomment the following line to change how often to auto-update (in days).# zstyle &#39;:omz:update&#39; frequency 13# Uncomment the following line if pasting URLs and other text is messed up.# DISABLE_MAGIC_FUNCTIONS&#x3D;&quot;true&quot;# Uncomment the following line to disable colors in ls.# DISABLE_LS_COLORS&#x3D;&quot;true&quot;# Uncomment the following line to disable auto-setting terminal title.# DISABLE_AUTO_TITLE&#x3D;&quot;true&quot;# Uncomment the following line to enable command auto-correction.# ENABLE_CORRECTION&#x3D;&quot;true&quot;# Uncomment the following line to display red dots whilst waiting for completion.# You can also set it to another string to have that shown instead of the default red dots.# e.g. COMPLETION_WAITING_DOTS&#x3D;&quot;%F&#123;yellow&#125;waiting...%f&quot;# Caution: this setting can cause issues with multiline prompts in zsh &lt; 5.7.1 (see #5765)# COMPLETION_WAITING_DOTS&#x3D;&quot;true&quot;# Uncomment the following line if you want to disable marking untracked files# under VCS as dirty. This makes repository status check for large repositories# much, much faster.# DISABLE_UNTRACKED_FILES_DIRTY&#x3D;&quot;true&quot;# Uncomment the following line if you want to change the command execution time# stamp shown in the history command output.# You can set one of the optional three formats:# &quot;mm&#x2F;dd&#x2F;yyyy&quot;|&quot;dd.mm.yyyy&quot;|&quot;yyyy-mm-dd&quot;# or set a custom format using the strftime function format specifications,# see &#39;man strftime&#39; for details.# HIST_STAMPS&#x3D;&quot;mm&#x2F;dd&#x2F;yyyy&quot;# Would you like to use another custom folder than $ZSH&#x2F;custom?# ZSH_CUSTOM&#x3D;&#x2F;path&#x2F;to&#x2F;new-custom-folder# Which plugins would you like to load?# Standard plugins can be found in $ZSH&#x2F;plugins&#x2F;# Custom plugins may be added to $ZSH_CUSTOM&#x2F;plugins&#x2F;# Example format: plugins&#x3D;(rails git textmate ruby lighthouse)# Add wisely, as too many plugins slow down shell startup.# æ’ä»¶ä¿¡æ¯plugins&#x3D;(  git  zsh-syntax-highlighting  zsh-autosuggestions  autojump)source $ZSH&#x2F;oh-my-zsh.sh[[ -s $(brew --prefix)&#x2F;etc&#x2F;profile.d&#x2F;autojump.sh ]] &amp;&amp; . $(brew --prefix)&#x2F;etc&#x2F;profile.d&#x2F;autojump.shsource $ZSH&#x2F;oh-my-zsh.sh# User configurationPROMPT&#x3D;&quot;%(?:%&#123;$fg_bold[yellow]%&#125;â™  :%&#123;$fg_bold[red]%&#125;â™  )%&#123;$fg[cyan]%&#125;%d $ &quot;# PROMPT&#x3D;&quot;%(?:%&#123;$fg_bold[yellow]%&#125;â™  :%&#123;$fg_bold[red]%&#125;â™  )%&#123;$fg[cyan]%&#125;%d %&#123;$fg_bold[magenta]%&#125;$ &quot;PROMPT+&#x3D;&#39;%&#123;$reset_color%&#125;&#39;ZSH_THEME_GIT_PROMPT_PREFIX&#x3D;&quot;%&#123;$fg_bold[blue]%&#125;&quot;ZSH_THEME_GIT_PROMPT_SUFFIX&#x3D;&quot;%&#123;$reset_color%&#125; &quot;ZSH_THEME_GIT_PROMPT_DIRTY&#x3D;&quot;%&#123;$fg[blue]%&#125;) %&#123;$fg[yellow]%&#125;âœ—&quot;ZSH_THEME_GIT_PROMPT_CLEAN&#x3D;&quot;%&#123;$fg[blue]%&#125;)&quot;# å‚è€ƒ https:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;b84d8b7b134e# codevalue# %Tç³»ç»Ÿæ—¶é—´ï¼ˆæ—¶ï¼šåˆ†ï¼‰# %*ç³»ç»Ÿæ—¶é—´ï¼ˆæ—¶ï¼šåˆ†ï¼šç§’ï¼‰# %Dç³»ç»Ÿæ—¥æœŸï¼ˆå¹´-æœˆ-æ—¥ï¼‰# %nç”¨æˆ·å# %B - %bå¼€å§‹åˆ°ç»“æŸä½¿ç”¨ç²—ä½“æ‰“å°# %U - %uå¼€å§‹åˆ°ç»“æŸä½¿ç”¨ä¸‹åˆ’çº¿æ‰“å°# %cä»…å½“å‰æ–‡ä»¶å¤¹è·¯å¾„# %då½“å‰ç›®å½•è·¯å¾„å®Œæ•´# %~å½“å‰ç›®å½•ç›¸å¯¹äºï½çš„ç›¸å¯¹è·¯å¾„# %Mè®¡ç®—æœºçš„ä¸»æœºå# %mè®¡ç®—æœºçš„ä¸»æœºåï¼ˆåœ¨ç¬¬ä¸€ä¸ªå¥å·ä¹‹å‰æˆªæ–­# %lå½“å‰çš„tty# export MANPATH&#x3D;&quot;&#x2F;usr&#x2F;local&#x2F;man:$MANPATH&quot;# You may need to manually set your language environment# export LANG&#x3D;en_US.UTF-8# Preferred editor for local and remote sessions# if [[ -n $SSH_CONNECTION ]]; then#   export EDITOR&#x3D;&#39;vim&#39;# else#   export EDITOR&#x3D;&#39;mvim&#39;# fi# Compilation flags# export ARCHFLAGS&#x3D;&quot;-arch x86_64&quot;# Set personal aliases, overriding those provided by oh-my-zsh libs,# plugins, and themes. Aliases can be placed here, though oh-my-zsh# users are encouraged to define aliases within the ZSH_CUSTOM folder.# For a full list of active aliases, run &#96;alias&#96;.## Example aliases# alias zshconfig&#x3D;&quot;mate ~&#x2F;.zshrc&quot;# alias ohmyzsh&#x3D;&quot;mate ~&#x2F;.oh-my-zsh&quot;</code></pre><h2 id="æ¨èåšå®¢å·¦å²¸åšå®¢"><a href="#æ¨èåšå®¢å·¦å²¸åšå®¢" class="headerlink" title="æ¨èåšå®¢å·¦å²¸åšå®¢"></a>æ¨èåšå®¢<a href="https://www.zrahh.com/archives/167.html">å·¦å²¸åšå®¢</a></h2><h2 id="ä½¿ç”¨æ•ˆæœ"><a href="#ä½¿ç”¨æ•ˆæœ" class="headerlink" title="ä½¿ç”¨æ•ˆæœ"></a>ä½¿ç”¨æ•ˆæœ</h2><img src="http://t-blog-images.aijs.top/img/11460713-14c8ef376aabe04a.png"><br><img src="http://t-blog-images.aijs.top/img/11460713-ef2da0af46da7712.png"><br><img src="http://t-blog-images.aijs.top/img/11460713-e49ed15245409774.png"></li></ul>]]></content>
      
      
      <categories>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¢æ•ˆ </tag>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Layoffs</title>
      <link href="//post/2022-03-25Layoffs.html"/>
      <url>//post/2022-03-25Layoffs.html</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€å®¶ä¸Šå¸‚å…¬å¸è¿‘æœŸã€ŒBä¸šã€äººæ•°å˜åŒ–"><a href="#ä¸€å®¶ä¸Šå¸‚å…¬å¸è¿‘æœŸã€ŒBä¸šã€äººæ•°å˜åŒ–" class="headerlink" title="ä¸€å®¶ä¸Šå¸‚å…¬å¸è¿‘æœŸã€ŒBä¸šã€äººæ•°å˜åŒ–"></a>ä¸€å®¶ä¸Šå¸‚å…¬å¸è¿‘æœŸã€ŒBä¸šã€äººæ•°å˜åŒ–</h2><p><img src="http://t-blog-images.aijs.top/img/11460713-98eaa0e7b6e68c6f.png" alt="2022-03-30"><br><img src="http://t-blog-images.aijs.top/img/11460713-f2c5edfe1032663d.png" alt="2022-03-31"><br><img src="http://t-blog-images.aijs.top/img/11460713-0d1febc4e52867bd.png" alt="2022-04-01"><br><img src="http://t-blog-images.aijs.top/img/11460713-3c855f37997fca9d.png" alt="2022-04-02"><br><img src="http://t-blog-images.aijs.top/img/11460713-33ab1685e98181c5.png" alt="2022-04-07"><br><img src="http://t-blog-images.aijs.top/img/11460713-f6178de2c725ba0d.png" alt="2022-04-08"><br><img src="http://t-blog-images.aijs.top/img/11460713-1c49e477ebebdb04.png" alt="2022-04-11"><br><img src="http://t-blog-images.aijs.top/img/11460713-ff83505b93a40211.png" alt="2022-04-12"><br><img src="http://t-blog-images.aijs.top/img/11460713-6e26dc81d1bc1bb5.png" alt="2022-04-13"><br><img src="http://t-blog-images.aijs.top/img/11460713-6f19d0ccbc1470d1.png" alt="2022-04-14"><br><img src="http://t-blog-images.aijs.top/img/11460713-5fa4eb0d60075e10.png" alt="2022-04-15"><br><img src="http://t-blog-images.aijs.top/img/11460713-a75f3fa3bc0cc9ad.png" alt="2022-04-20"><br><img src="http://t-blog-images.aijs.top/img/11460713-2cb92c5f9a24df72.png" alt="2022-04-21"><br><img src="http://t-blog-images.aijs.top/img/11460713-ea85739148839bd2.png" alt="image.png"><br><img src="http://t-blog-images.aijs.top/img/11460713-cc82a2680e69dccd.png" alt="2022-04-26"><br><img src="http://t-blog-images.aijs.top/img/11460713-fdd722c44a598a88.png" alt="2022-04-27"><br><img src="http://t-blog-images.aijs.top/img/11460713-35395fd4c9b459ea.png" alt="2022-04-28"><br><img src="http://t-blog-images.aijs.top/img/20220505093216.webp" alt="2022-05-05"><br><img src="http://t-blog-images.aijs.top/img/20220509134022.webp" alt="2022-05-09"><br><img src="http://t-blog-images.aijs.top/img/20220510180811.webp" alt="2022-05-10"></p>]]></content>
      
      
      <categories>
          
          <category> Layoffs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Layoffs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NestjsæœåŠ¡ç«¯æŠ€æœ¯æ ˆ</title>
      <link href="//post/2021-06-30node.html"/>
      <url>//post/2021-06-30node.html</url>
      
        <content type="html"><![CDATA[<h2 id="NestJSä¸­æ–‡æ–‡æ¡£"><a href="#NestJSä¸­æ–‡æ–‡æ¡£" class="headerlink" title="NestJSä¸­æ–‡æ–‡æ¡£"></a>NestJSä¸­æ–‡æ–‡æ¡£</h2><p><a href="https://nestjs.bootcss.com/">NestJSä¸­æ–‡æ–‡æ¡£</a><br><a href="https://docs.nestjs.cn/">NestJSä¸­æ–‡æ–‡æ¡£</a><br><a href="https://github.com/nestjs/nest">github</a> 42.2K</p><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>A progressive Node.js framework for building efficient, scalable, and enterprise-grade server-side applications on top of TypeScript &amp; JavaScript (ES6, ES7, ES8) ğŸš€</p></blockquote><h2 id="TypeORM"><a href="#TypeORM" class="headerlink" title="TypeORM"></a>TypeORM</h2><p><a href="https://typeorm.biunav.com/zh/#%E5%AE%89%E8%A3%85">TypeORMä¸­æ–‡æ–‡æ¡£</a><br><a href="https://github.com/typeorm/typeorm">githubåœ°å€</a> 26.3K</p><blockquote><span class="custom-blockquote-svg"><svg width="24" height="24" viewBox="0 0 24 24" fill="" xmlns="http://www.w3.org/2000/svg" data-reactroot=""><path fill="" d="M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z" undefined="1"></path><path fill="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z" undefined="1"></path><path fill="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z" undefined="1"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z"></path><path stroke-linejoin="round" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" stroke="" d="M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z"></path></svg></span><p>ORM for TypeScript and JavaScript (ES7, ES6, ES5). Supports MySQL, PostgreSQL, MariaDB, SQLite, MS SQL Server, Oracle, SAP Hana, WebSQL databases. Works in NodeJS, Browser, Ionic, Cordova and Electron platforms.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Web officeé¢„è§ˆ</title>
      <link href="//post/2021-09-07web.html"/>
      <url>//post/2021-09-07web.html</url>
      
        <content type="html"><![CDATA[<p>ç¬¬ä¸€æ­¥<br>å°†æ–‡ä»¶ä¸Šä¼ åˆ°ä½ çš„æœåŠ¡å™¨é‡Œï¼Œå¹¶æ”¯æŒurlä¸‹è½½è¿™ä¸ªæ–‡ä»¶ã€‚<br>ç¬¬äºŒæ­¥<br>è®¿é—®ï¼š<a href="http://view.officeapps.live.com/op/view.aspx?src=%E8%A6%81%E9%A2%84%E8%A7%88%E6%96%87%E4%BB%B6%E7%9A%84url%E5%9C%B0%E5%9D%80%EF%BC%88%E8%AE%B0%E5%BE%97url%E7%BC%96%E7%A0%81%E5%93%A6%EF%BC%89">http://view.officeapps.live.com/op/view.aspx?src=è¦é¢„è§ˆæ–‡ä»¶çš„urlåœ°å€ï¼ˆè®°å¾—urlç¼–ç å“¦ï¼‰</a><br>ç¬¬ä¸‰æ­¥<br>å¯ä»¥ä½¿ç”¨iframeåµŒå…¥ä½ çš„ç³»ç»Ÿ<br>æ›´å¤š<br>è¯¦æƒ…æŸ¥çœ‹ï¼š<a href="https://www.microsoft.com/en-us/microsoft-365/blog/2013/04/10/office-web-viewer-view-office-documents-in-a-browser/?eu=true">https://www.microsoft.com/en-us/microsoft-365/blog/2013/04/10/office-web-viewer-view-office-documents-in-a-browser/?eu=true</a><br><img src="http://t-blog-images.aijs.top/img/11460713-93b26693cac5c2d8.png"></p>]]></content>
      
      
      <categories>
          
          <category> Web </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>node-dev</title>
      <link href="//post/2021-11-02node.html"/>
      <url>//post/2021-11-02node.html</url>
      
        <content type="html"><![CDATA[<h2 id="åœ¨å¹•åç”¨ts-nodeè°ƒæ•´node-dev"><a href="#åœ¨å¹•åç”¨ts-nodeè°ƒæ•´node-dev" class="headerlink" title="åœ¨å¹•åç”¨ts-nodeè°ƒæ•´node-dev"></a>åœ¨å¹•åç”¨ts-nodeè°ƒæ•´node-dev</h2><ul><li>ä½œç”¨ï¼šåœ¨å¹•åç”¨ts-nodeè°ƒæ•´node-dev</li><li>ä¼˜ç‚¹ï¼š<ul><li>ä»»æ„ä¾èµ–çš„æ–‡ä»¶æ”¹å˜æ—¶å€™ï¼Œé‡å¯node processï¼Œä½†æ˜¯å…±äº«tsç¼–è¯‘çº¿ç¨‹ã€‚</li><li>å› ä¸ºä¸éœ€è¦æ¯æ¬¡ts-nodeç¼–è¯‘çš„å®ä¾‹åŒ–ï¼Œè€Œæå‡æ€§èƒ½</li></ul></li><li>é…ç½®é¡¹ï¼š</li><li>æ³¨æ„äº‹é¡¹ï¼š</li><li>æˆªå›¾ï¼š<br><img src="http://t-blog-images.aijs.top/img/11460713-10cfe41335cfeb5d.png"></li></ul>]]></content>
      
      
      <categories>
          
          <category> Node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®€ä¹¦è¿ç§»åˆ°OSS</title>
      <link href="//post/2022-04-27mv-blog-jianshu.html"/>
      <url>//post/2022-04-27mv-blog-jianshu.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h2><pre class="line-numbers language-none"><code class="language-none">cat .&#x2F;* |grep uploadimages.jianshu.io &gt; image.txtmkdir img3dcd img3dwget -i ..&#x2F;image.txtsed -i&#39;&#39; -e &#39;s&#x2F;!\[image.png\](&#x2F;&#x2F;g&#39; image.txtsed -i&#39;&#39; -e &#39;s&#x2F;)&#x2F;&#x2F;g&#39; image.txt</code></pre><h2 id="è¿ç§»ç®€ä¹¦å›¾ç‰‡ä¸‹è½½åé‡å‘½å"><a href="#è¿ç§»ç®€ä¹¦å›¾ç‰‡ä¸‹è½½åé‡å‘½å" class="headerlink" title="è¿ç§»ç®€ä¹¦å›¾ç‰‡ä¸‹è½½åé‡å‘½å"></a>è¿ç§»ç®€ä¹¦å›¾ç‰‡ä¸‹è½½åé‡å‘½å</h2><pre class="line-numbers language-none"><code class="language-none">#! &#x2F;bin&#x2F;shfor eachfile in &#96;ls -B&#96;do    # echo $&#123;eachfile%%\%3F*&#125; # æˆªæ‰æœ€å.txt    # $ % https:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;b3bdc3b3968e  filename&#x3D;$&#123;eachfile%%\%3F*&#125;  filehead&#x3D;&#96;echo $eachfile | awk -F \%3F &#39;&#123;print $1 &#125;&#39;&#96;  filelast&#x3D;&#96;echo $eachfile | awk -F \%3F &#39;&#123;print $2 &#125;&#39;&#96;  # mv $filename.txt $&#123;filelast&#125;_$filehead.txt  # https:&#x2F;&#x2F;baijiahao.baidu.com&#x2F;s?id&#x3D;1726788915185806701&amp;wfr&#x3D;spider&amp;for&#x3D;pc  echo &#39;--&#39;  # echo $filename  echo $filehead #åˆ†å‰²å­—ç¬¦å·¦è¾¹éƒ¨åˆ†  echo $filelast #åˆ†å‰²å­—ç¬¦å³è¾¹éƒ¨åˆ†  # å³è¾¹æ–‡ä»¶å­˜åœ¨çš„æƒ…å†µä¸‹æ‰å¤„ç†  if [ &quot;$filelast&quot; !&#x3D; &quot;&quot; ]  then    echo &#39;æ‰§è¡Œrename &#39;    mv $eachfile $filehead  fidone</code></pre>]]></content>
      
      
      <categories>
          
          <category> Shell </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
