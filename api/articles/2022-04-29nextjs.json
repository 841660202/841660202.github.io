{"title":"æ¶æ„è®¾è®¡å¼•å‘çš„è¡€æ¡ˆ","uid":"be2d536c56c87a429a3dc062a6c5cd1f","slug":"2022-04-29nextjs","date":"2022-04-29T02:56:00.000Z","updated":"2022-05-06T02:03:49.184Z","comments":true,"path":"api/articles/2022-04-29nextjs.json","keywords":null,"cover":"http://t-blog-images.aijs.top/img/bug.webp","content":"<h2 id=\"è®°å½•ä¸ªbug-å¹¶åœ¨æ­¤æ–‡ä¸­è§„é¿\"><a href=\"#è®°å½•ä¸ªbug-å¹¶åœ¨æ­¤æ–‡ä¸­è§„é¿\" class=\"headerlink\" title=\"è®°å½•ä¸ªbug,å¹¶åœ¨æ­¤æ–‡ä¸­è§„é¿\"></a>è®°å½•ä¸ªbug,å¹¶åœ¨æ­¤æ–‡ä¸­è§„é¿</h2><p>æ­¤å¤„è®°ä¸‹ hexo-theme-aurora æºç bugï¼Œæ²¡ç©ºæ—¶å€™å¸®ä»–æ”¹</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">.article .article-content p &#123;\n    font-size: .875rem;\n    line-height: 1.25rem;\n    margin-bottom: 0.5rem;\n    padding-bottom: 1rem;\n    word-break: break-all;\n&#125;</code></pre>\n<h2 id=\"bugå¤ç°\"><a href=\"#bugå¤ç°\" class=\"headerlink\" title=\"bugå¤ç°\"></a>bugå¤ç°</h2><p><img src=\"http://t-blog-images.aijs.top/img/20220429103417.png\"><br><img src=\"http://t-blog-images.aijs.top/img/20220429103946.png\"></p>\n<pre class=\"line-numbers language-js\" data-language=\"js\"><code class=\"language-js\">(node:29) UnhandledPromiseRejectionWarning: Error: Forbidden\n    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)\n    at async Object.getDataReport (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:11494:19)\n    at async Promise.all (index 3)\n    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)\n(Use &#96;node --trace-warnings ...&#96; to show where the warning was created)\n(node:29) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag &#96;--unhandled-rejections&#x3D;strict&#96; (see https:&#x2F;&#x2F;nodejs.org&#x2F;api&#x2F;cli.html#cli_unhandled_rejections_mode). (rejection id: 19)\n(node:29) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n(node:29) UnhandledPromiseRejectionWarning: Error: Forbidden\n    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)\n    at async Object.getDataReport (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:11494:19)\n    at async Promise.all (index 3)\n    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)\n(node:29) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag &#96;--unhandled-rejections&#x3D;strict&#96; (see https:&#x2F;&#x2F;nodejs.org&#x2F;api&#x2F;cli.html#cli_unhandled_rejections_mode). (rejection id: 44)\nError: invalid json response body at https:&#x2F;&#x2F;login-daily.æ•æ„Ÿæ•°æ®-inc.cn:7799&#x2F;error&#x2F;illegal&#x2F;location reason: Unexpected token &lt; in JSON at position 0\n    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)\n    at async Object.refreshPendingPerformanceNum (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:11487:25)\n    at async Promise.all (index 2)\n    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)\nError: invalid json response body at https:&#x2F;&#x2F;login-daily.æ•æ„Ÿæ•°æ®-inc.cn:7799&#x2F;error&#x2F;illegal&#x2F;location reason: Unexpected token &lt; in JSON at position 0\n    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)\n    at async Promise.all (index 0)\n    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)\nError: Forbidden\n    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)\n    at async Object.getDataReport (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:11494:19)\n    at async Promise.all (index 3)\n    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)\nError: Forbidden\n    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)\n    at async Promise.all (index 0)\n    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)\nError: invalid json response body at https:&#x2F;&#x2F;login-daily.æ•æ„Ÿæ•°æ®-inc.cn:7799&#x2F;error&#x2F;illegal&#x2F;location reason: Unexpected token &lt; in JSON at position 0\n    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)\n    at async Promise.all (index 0)\n    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)\nError: invalid json response body at https:&#x2F;&#x2F;login-daily.æ•æ„Ÿæ•°æ®-inc.cn:7799&#x2F;error&#x2F;illegal&#x2F;location reason: Unexpected token &lt; in JSON at position 0\n    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:13141:29\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)\n    at async Object.refreshPendingPerformanceNum (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:11487:25)\n    at async Promise.all (index 2)\n    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-a053507d8512cb10a3ff.js:12208:22)\n</code></pre>\n\n<h2 id=\"æºä»£ç \"><a href=\"#æºä»£ç \" class=\"headerlink\" title=\"æºä»£ç \"></a>æºä»£ç </h2><pre class=\"line-numbers language-tsx\" data-language=\"tsx\"><code class=\"language-tsx\">const [resp] &#x3D; await Promise.all([\n  getLoginInfo(ctx),\n  CommonModel.effects.refreshPendingObjectiveNum(req, ctx),\n  CommonModel.effects.refreshPendingPerformanceNum(req, ctx),\n  CommonModel.effects.getDataReport(req, ctx),\n])\n\nif (resp.success) &#123;\n  UserModal.actions.setUser(resp.result, req)\n&#125;</code></pre>\n<h2 id=\"å¢åŠ å¼‚å¸¸æ•è·\"><a href=\"#å¢åŠ å¼‚å¸¸æ•è·\" class=\"headerlink\" title=\"å¢åŠ å¼‚å¸¸æ•è·\"></a>å¢åŠ å¼‚å¸¸æ•è·</h2><pre class=\"line-numbers language-tsx\" data-language=\"tsx\"><code class=\"language-tsx\">const [resp] &#x3D; await Promise.all([\n  getLoginInfo(ctx),\n  CommonModel.effects.refreshPendingObjectiveNum(req, ctx),\n  CommonModel.effects.refreshPendingPerformanceNum(req, ctx),\n  CommonModel.effects.getDataReport(req, ctx),\n]).catch(e&#x3D;&gt;&#123;\n  console.log(&quot;å‘ç”Ÿé”™è¯¯&quot;)\n  console.log(e)\n&#125;)</code></pre>\n<h2 id=\"æ—¥å¿—\"><a href=\"#æ—¥å¿—\" class=\"headerlink\" title=\"æ—¥å¿—\"></a>æ—¥å¿—</h2><p>æ—¥å¿—ä»… <code>Forbidden</code> æœ‰æ•ˆä¿¡æ¯ï¼Œå¤§æ¦‚æ˜¯æ¥å£</p>\n<pre class=\"line-numbers language-tsx\" data-language=\"tsx\"><code class=\"language-tsx\">å‘ç”Ÿé”™è¯¯\nError: Forbidden\n    at &#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-7be1c2d9b56a41e863e3.js:13144:29\n    at processTicksAndRejections (internal&#x2F;process&#x2F;task_queues.js:95:5)\n    at async Promise.all (index 0)\n    at async Function.getInitialProps (&#x2F;code&#x2F;client&#x2F;.next&#x2F;server&#x2F;pages&#x2F;_app-7be1c2d9b56a41e863e3.js:12208:22)\n</code></pre>\n\n\n<h2 id=\"æ€»ç»“ï¼š\"><a href=\"#æ€»ç»“ï¼š\" class=\"headerlink\" title=\"æ€»ç»“ï¼š\"></a>æ€»ç»“ï¼š</h2><ol>\n<li>å› ä¸ºacl ä¼ä¸šæƒé™æ•´äº†180å¤©ï¼ˆé¡¶é…ï¼‰ï¼Œæ—¶ä¸æ—¶å°±å‡ºç°ç³»ç»Ÿç˜«ç—ªçš„æƒ…å†µï¼Œ<code>æ—¥å¸¸</code>ã€<code>çº¿ä¸Š</code>éƒ½æœ‰æ­¤é—®é¢˜è¿™æ¶æ„è®¾è®¡çš„ï¼Œä¼°è®¡æ²¡è°äº†ã€‚å®Œå…¨å¯ä»¥æ”¹æˆç¦»èŒåï¼Œç³»ç»Ÿè‡ªåŠ¨å°†ç”¨æˆ·ç¦æƒå³å¯</li>\n<li>é™¤æ­¤ä¹‹å¤–ï¼Œssoä¹Ÿæœ‰ä¸ªé€šç—…ï¼Œä¸‰ä¸ªæœˆæ²¡æ”¹è¿‡å¯†ç ï¼Œç”¨æˆ·è´¦æˆ·æ— æ³•ç™»å½•ï¼Œéœ€è¦é‡æ–°å¯†ç æ–¹å¯ç™»å½•</li>\n</ol>\n","text":"è®°å½•ä¸ªbug,å¹¶åœ¨æ­¤æ–‡ä¸­è§„é¿æ­¤å¤„è®°ä¸‹ hexo-theme-aurora æºç bugï¼Œæ²¡ç©ºæ—¶å€™å¸®ä»–æ”¹ .article .article-content p &#123; font-size: .875rem; line-height: 1.25rem; margin-botto...","link":"","photos":[],"count_time":{"symbolsCount":"7.1k","symbolsTime":"6 mins."},"categories":[{"name":"Bug","slug":"Bug","count":1,"path":"api/categories/Bug.json"}],"tags":[{"name":"Bug","slug":"Bug","count":1,"path":"api/tags/Bug.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%AE%B0%E5%BD%95%E4%B8%AAbug-%E5%B9%B6%E5%9C%A8%E6%AD%A4%E6%96%87%E4%B8%AD%E8%A7%84%E9%81%BF\"><span class=\"toc-text\">è®°å½•ä¸ªbug,å¹¶åœ¨æ­¤æ–‡ä¸­è§„é¿</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#bug%E5%A4%8D%E7%8E%B0\"><span class=\"toc-text\">bugå¤ç°</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%BA%90%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">æºä»£ç </span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A2%9E%E5%8A%A0%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7\"><span class=\"toc-text\">å¢åŠ å¼‚å¸¸æ•è·</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%97%A5%E5%BF%97\"><span class=\"toc-text\">æ—¥å¿—</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93%EF%BC%9A\"><span class=\"toc-text\">æ€»ç»“ï¼š</span></a></li></ol>","author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Slate å­¦ä¹ ","uid":"38b6e3ab42ce78e34a964ff2e90b3a7d","slug":"2022-04-29slate-lean","date":"2022-04-29T07:12:51.670Z","updated":"2022-05-06T01:12:01.805Z","comments":true,"path":"api/articles/2022-04-29slate-lean.json","keywords":null,"cover":"https://img2.baidu.com/it/u=2057256038,1983468493&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500","text":"æ˜¯ä»€ä¹ˆ Slate æ˜¯ä¸€ä¸ª å®Œå…¨ å¯å®šåˆ¶çš„å¯Œæ–‡æœ¬ç¼–è¾‘æ¡†æ¶ã€‚é€šè¿‡ Slateï¼Œä½ å¯ä»¥æ„å»ºå‡ºç±»ä¼¼ Mediumã€Dropbox Paper æˆ–è€… Canvas è¿™æ ·ä½¿ç”¨ç›´è§‚ã€å¯Œäº¤äº’ã€ä½“éªŒä¸šå·²æˆä¸º Web åº”ç”¨æ ‡æ†çš„ç¼–è¾‘å™¨ã€‚åŒæ—¶ï¼Œä½ ä¹Ÿæ— éœ€æ‹…å¿ƒåœ¨ä»£ç å®ç°ä¸Šé™·å…¥å¤æ‚åº¦çš„æ³¥æ½­ä¹‹ä¸­ã€‚ èƒ½åšä»€ä¹ˆ...","link":"","photos":[],"count_time":{"symbolsCount":"2.4k","symbolsTime":"2 mins."},"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","count":3,"path":"api/categories/å‰ç«¯.json"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","count":3,"path":"api/tags/å‰ç«¯.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}},"next_post":{"title":"Slate wiki-uiè¯„è®ºåŠŸèƒ½å…‰æ ‡ä¹±è·³","uid":"f5ccfd5f1ce5f78727a64a19669811c7","slug":"2022-04-29slate","date":"2022-04-29T01:21:42.659Z","updated":"2022-05-06T02:03:49.181Z","comments":true,"path":"api/articles/2022-04-29slate.json","keywords":null,"cover":"http://t-blog-images.aijs.top/img/bug.webp","text":"bugå¤ç°bugå¤ç° (node:29) UnhandledPromiseRejectionWarning: Error: Forbidden at &amp;#x2F;code&amp;#x2F;client&amp;#x2F;.next&amp;#x2F;server&amp...","link":"","photos":[],"count_time":{"symbolsCount":"5.8k","symbolsTime":"5 mins."},"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","count":3,"path":"api/categories/å‰ç«¯.json"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","count":3,"path":"api/tags/å‰ç«¯.json"}],"author":{"name":"é™ˆæµ·é¾™","slug":"blog-author","avatar":"http://t-blog-images.aijs.top/img/avatar.jpeg","link":"/","description":"éœ€è¦å°±å­¦å‘—ï¼Œå¤šå¤§ç‚¹äº‹ğŸ˜‚","socials":{"github":"https://github.com/841660202","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/web_longboss","juejin":"","customs":{}}}}}